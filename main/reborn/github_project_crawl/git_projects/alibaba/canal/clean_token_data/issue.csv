issue_id,issue_content
1086,配置 打包 设置 默认 模板 application yml
1084,fix
1083,扁平 发送 出现 发送 空包 现象 应该 存在 同样 问题 代码 行处 返回 数组 数组 中值 可能 空 但是 下面 没有 判断 会 发送 空 消息 应该 存在 同样 问题 另外 问题 请 大 神 帮忙 回答 一下 这个 对象 属性 什么 情况 大于 发生 操作 就 会 大于 rocket mq kafka https github com alibaba canal blob master server src main java com alibaba otter canal rocketmq canal rocket mq producer java url mq kafka flat message data length dml data size
1082,版本 搭建 消费 客户端 怎么 对 类型 进行 解析 想知道 怎么 解析 问 折腾 久 可以 参考 cana kafak kafka rowdata store value thread info c a o canal client running kafka canal kafka client example message id entries header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name table name event length entry type transactionbegin store value header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name smart meter table name sys region event length event type insert props key rows count value entry type rowdata store value b p b b id b r aint b f name b r vvarchar b tparent id b r aint b level b r ntinyint header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name table name event length entry type transactionend store value raw true raw entries store value message util parse dml
1081,版本 数据库 乱码 你好 使用 版本 启动 后报 如下 错误 看到 乱码 请问 怎么 解决 本地 一直 没 重现 能力 可以 尝试 看下 解析 过程 改 类 加了 解析 方法 然后 好使 这个 改法 都 曲线 救国 硬 编码 处理 没有 找到 根本 原因 可以 试 一下 改法 主要 原因 处理 行为 有点 不太 一致 针对 这个 对象 会 执行 会 需要 特殊 判断 处理 maria db journal name maria db canal destination cloud address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just last position identity slave id source address address port postion gtid included false journal name mysql bin u e u position server id timestamp destination cloud address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy find start position entry position included false journal name mysql bin u position server id gtid timestamp destination cloud address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination cloud address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination cloud address event parser error com alibaba otter canal common alarm log alarm handler destination cloud java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java journal name debug rotate log event entry position entry position string journal name position timestamp timestamp journal name filter log file name journal name position position entry position string journal name position timestamp server id journal name position timestamp server id server id string filter log file name string logfile name pattern p pattern compile mysql bin matcher m p matcher logfile name m find m group count m group logfile name string get journal name filter log file name journal name set journal name string journal name journal name filter log file name journal name haopangxu mariadb checksum mysql rotate event binlog mariadb checksum mysql
1079,不打 包进 不打 包进 解决 中 中 会 合并 application yml jar application yml jar jar application yml config bug
1078,积压 事件 时 重 启 会 丢弃 内存 中 积压 事件 吗 问题 配合 使用 时 重 启后 读取 位点 次 位置 还是 位置 根据 描述 记录 位 点 次 位点 种 行为 会 导致 重 启时 丢弃 事件 现象 提出 这个 问题 因为 实践 时候 遇到 事件 丢失 问题 现象 如下 事件 积压 大约 未 达到 设定 内存 限制 时 重 启 使用 部署 均 单 实例 使用 镜像 会 丢弃 一部分 事件 丢失 原因 猜测 根据 描述 记录 位点 猜测 原因 端 积压 事件 同时 重 启 重 启后 上次 位点 进行 消费 造成 内存 中 经过 但是 还未 丢失 代码 基于 节点 修改 使用 配合 自定义 进行 消费 为了 记录 接收 位点 对 进行 如下 修改 配置 默认 范围 内 未 交互 将 关闭 本 次 连接 下面 添加 部分 获取 指定 数量 数据 检查 日志 发现 接收 连续 范围 整体 丢弃 范围 相同 由于 入口处 打印 位点 所以 认为 没有 接收 事件 处 丢弃 部分 事件 配置 如下 请 大 神 指点 迷津 配置 有误 还是 确实 会 重启 丢失 积压 事件 事件 存储 用的 基于 内存 实现 丢失 必然 多 看看 都 写 清楚 重 启 读取 次 位点 内存 数据 虽然 会 丢失 会 基于 最后 次 消费 成功 位点 继续 所以 架构 存在 消息 丢失 只要 正确 位点 配置 问题 必须 参考 里 配置 重新 启动 时会 读取 位点 配置 问题 必须 参考 里 配置 重新 启动 时会 读取 位点 感谢 大 神 指导 问题 解决 canal server canal server zoo keeper log position manager binlog server parse client ack https github com alibaba canal wiki introduction eventparser e ae be e ae a event parser binlog parse server binlog canal server m canal server canal client zk docker compose server client zk server canal canal server v canal binlog https github com alibaba canal wiki introduction eventparser e ae be e ae a event parser parse binlog server parse parse sink store get binlog client client commit f a f fixed issue show slave hosts com alibaba otter canal client client launcher canal outer adapter binlog com alibaba otter canal client adapter loader canal adapter worker java running switcher null switcher get logger info start to connect destination canal destination connector connect logger info start to subscribe destination canal destination connector subscribe logger info subscribe destination succeed canal destination running switcher null switcher get timeout exception e server canal instance network so timeout s server server socket message message connector get without ack batch size canal entry entry entry message get entries entry get entry type equals canal entry entry type rowdata logger info receive binlog event file offset entry get header get logfile name entry get header get logfile offset client binlog canal binlog client binlog client binlog server instance xml canal deployer src main resources spring instance xml diff xml c bean com alibaba otter canal parse index failback log position manager constructor arg bean com alibaba otter canal parse index memory log position manager constructor arg constructor arg bean com alibaba otter canal parse index meta log position manager constructor arg ref meta manager bean constructor arg bean com alibaba otter canal parse index zoo keeper log position manager constructor arg index ref zk clientx c bean com alibaba otter canal parse support authentication info init method init pwd bean com alibaba otter canal parse support authentication info d property name pwd key value canal instance pwd key retl property name enable druid value canal instance enable druid false c bean com alibaba otter canal parse support authentication info init method init pwd bean com alibaba otter canal parse support authentication info d property name pwd key value canal instance pwd key retl property name enable druid value canal instance enable druid false server canal server event store wiki wiki client ack dump binlog ack file instance xml com alibaba otter canal parse index failback log position manager meta log position manager ack file instance xml com alibaba otter canal parse index failback log position manager meta log position manager ack
1076,关于 离线 读取 问题 实例 配置 文件 中 配置 重启 集群 还是 无法 获取 什么 原因 呢 实例 日志 没有 关于 信息 错误 信息 地址 运维 申请 实例 没有 问题 回溯 目前 支持 基于 时间戳 定位 会 判定 当前 是否 时间戳 数据 没有 的话 会 上去 自动 下载 然后 本地 解析 直 本地 里 时间 能 接上 如果 错误 位点 不确定 位点 错误 还是 删除 后续 可以 针对 情况 识别 优化 一下 嗯 感谢 回复 现在 问题 就是 正常 消费 已经 跑了 段 时间 但是 看着 中 实例 消费 位置 一直 没有 更新 什么 原因 呢 三 台 节点 做 如图 昨天 下午 看的 这样 没有 更新 位置 位点 更新 策略 什么 呀 文档 这么 说 接收 客户端 就 会 记录 客户端 提交 最后 位点 但是 位点 没有 更新 端 没 开启 检查 当前 节点 对应 看下 如果 成功 会 记录 信息 节点 设置 没有 看到 运行 节点 对应 嗯 集群 搭建 问题 这个 设置 问题 过滤 事务 头 尾 就 没有 可更新 位点 位点 记录 以来 事件 新 兼容 这个 参数 并不 过滤 全部 而是 会 间隔 秒 保留 事务 事件 位点 问题 做 兼容 处理 正常 位点 删除 只要 位点 里 会 自动 下载 再次 感谢 位点 更新 已经 可以 确实 问题 引发 回溯 目前 支持 基于 时间戳 定位 会 判定 当前 是否 时间戳 数据 没有 的话 会 上去 自动 下载 然后 本地 解析 直 本地 里 时间 能 接上 如果 错误 位点 不确定 位点 错误 还是 删除 后续 可以 针对 情况 识别 优化 一下 说 优化 怎么 做 的呢 现在 还是 无法 确定 到底 没 上面 下载 要 优化 已经 代码 提交 可以 基于 重新 打个 包 rds oss binlog hi rds oss binlog canal instance rds accesskey canal instance rds secretkey canal instance rds instance id canal oss binlog oss destination instance address event parser error com alibaba otter canal common alarm log alarm handler destination instance java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal instance rds accesskey canal instance rds secretkey rds instance id id oss binlog mysql binlog oss binlog mysql binlog ps binlog binlog rds agapple canal clients binlog zk canal ha https user images githubusercontent com bdca dcf e aaa aec ff d jpg canal ha canal server ack server canal instance filter transaction entry true run server meta log ack agapple canal instance filter transaction entry true meta log canal instance filter transaction entry true begin end v filter rds binlog timestamp oss binlog agapple zk canal instance filter transaction entry true oss binlog mysql binlog oss binlog mysql binlog ps binlog binlog rds rds oss binlog master
1075,问题 模式 文件 设置 屏蔽 事件 但是 可以 收到 事件 可以 尝试 一下 情况 kafka canal instance filter transaction entry kafka canal properties canal instance filter transaction entry true transaction begin transactionend flat message false flat true
1071,运行 中 报错 版本 中 版本 中 运行 版本 没有 问题 可以 看到 数据包 运行 行 代码 处 报错 是否 稳定 版本 中 配置 文件 中 设置 中 原生 接收 配置 文件 中 设置 改为 原生 执行 还是 运行 写道 中 配置 文件 中 设置 中 原生 接收 报 这个 提供 方法 测试 类 不要 修改 就 使用 段 代码 没有 问题 使用 上述 测试 类 代码 设置 运行 后没 反应 块 改为 看到 报错 信息 换 消费 还是 老 谢谢 大师 canal client kafka client running test message message connector get without ack l time unit seconds list message messages connector get list l time unit seconds message deploy mq yml flat message false kafka client running test message mq yml flat message false kafka client running test message connector get without ack batch size l time unit seconds rewerma notifications github com deploy mq yml flat message false kafka client running test message you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread com alibaba otter canal protocol exception canal client exception mq not support method connector get without ack batch size l time unit seconds kafka connector executor submit runnable override run connector connect connector subscribe running list message messages connector get list l time unit seconds messages null system out println messages connector ack wakeup exception e ignore connector unsubscribe connector disconnect flat message false exception caused by com alibaba otter canal protocol exception canal client exception deserializer failed at com alibaba otter canal client canal message deserializer deserializer canal message deserializer java at com alibaba otter canal client canal message deserializer deserializer canal message deserializer java at com alibaba otter canal client kafka message deserializer deserialize message deserializer java at com alibaba otter canal client kafka message deserializer deserialize message deserializer java at org apache kafka common serialization extended deserializer wrapper deserialize extended deserializer java at org apache kafka common serialization extended deserializer wrapper deserialize extended deserializer java at org apache kafka clients consumer internals fetcher parse record fetcher java at org apache kafka clients consumer internals fetcher access fetcher java at org apache kafka clients consumer internals fetcher partition records fetch records fetcher java at org apache kafka clients consumer internals fetcher partition records access fetcher java at org apache kafka clients consumer internals fetcher fetch records fetcher java at org apache kafka clients consumer internals fetcher fetched records fetcher java at org apache kafka clients consumer kafka consumer poll once kafka consumer java at org apache kafka clients consumer kafka consumer poll kafka consumer java at com alibaba otter canal client kafka kafka canal connector get list without ack kafka canal connector java at com alibaba otter canal client kafka kafka canal connector get list kafka canal connector java at com alibaba otter canal client running kafka kafka client running test run kafka client running test java at java util concurrent executors runnable adapter call executors java at java util concurrent future task run future task java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java caused by com google protobuf invalid protocol buffer exception protocol message end group tag did not match expected tag at com google protobuf invalid protocol buffer exception invalid end tag invalid protocol buffer exception java at com google protobuf coded input stream array decoder check last tag was coded input stream java at com google protobuf coded input stream array decoder read group coded input stream java at com google protobuf unknown field set builder merge field from unknown field set java group id falt message ok
1069,有关 功能 变动 说明 应该 关心 应该 跳过 像 这样 问题 会 出现 当然 应该 支持 不管 是否 过滤 功能 都 应该 保证 正确性 写入 放在 过滤器 后面 可以 保证 表 结构 对比 时候 存在 权限 问题 这样 改法 会 风险 假如 解析 正常 语句 是时 异常 返回 默认 这里 就 会 忽略 掉 连 点 日志 都 没有 如果 解析 异常 加上 呢 现在 解析 异常 都 忽略 然后 直接 返回 异常 加上 效果 觉得 之前 没啥 区别 如果 能 正常 解析 就 已经 订阅 表给 过滤 回 滚 有关 变更 但是 目前 像 说 如果 正常 解析 失败 会 直接 返回 如果 开启 过滤 次 变更 还是 会 丢失 正常 解析 如果 开启 过滤 变更 会 丢失 还是 觉得 功能 正确性 应该 绑上 关系 估计 很多 用户 无法 意识 这个 问题 想想 没 其它 优雅 一些 调整 方式 pass use druid ddl filter parameter to log event convert tsdb tsdb ddl dml dcl fastsql dcl ddl tsdb ddl history cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr wuwo seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr wuwo seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub fastsql parse ddl ddl result query ddl ddl query ddl druid filter tsdb ddl query dcl ddl ddl ddl ddl tsdb filter query ddl filter query dml filter query dcl tks
1066,同步 过程 中 丢失 版本 版本 我们 实时 同步 处理 过程 中 万 条 秒 发送 条 语句 发现 端 并没有 拿到 条 语句 请问 什么 原因 这个 配置 有关系 吗 默认值 关闭 原因 自己 找到 关闭 原因 自己 找到 我们 添加 表字 段 逻辑 我们 处理 方式 一致 我们 通过 获取 并处 理该 语句 通过 克隆 表 更换 表 名 之后 添加 字段 然后 之前 表 更改 克隆 表名 之前 表名 新 表名 我们 没有 关注 所以 没 拿到 条 严格 说 并没有 丢失 条 我们 没 拿到 虚惊一场 这个 我们 要 要 打开 没 建议 呢 做法 吗 如果 打开 的话 会 其他 分开 多 没有 本质 区别 可以 用在 做 数据 同步 没有 本质 区别 可以 用在 做 数据 同步 明白 谢谢 做法 吗 太 了解 这块 binlog ddl mysql canalserver binlog dml ddl client ddl canal instance get ddl isolation false issue yxzhang issue yxzhang dba canal entry event type alter ddl ddl dba drop ddl canal server binlog canal instance get ddl isolation isolation pt schema change online ghost canal instance get ddl isolation true dml batch batch ddl batch ddl pt schema change online ghost
1065,使用 时 开启 模式 传入 情 使用 时 开启 模式 传入 情况 会 产生 你们 对接 自己 控制台 我们 基于 做 增量 全 量 数据 同步 平台 自己 做 套 控制 台咯 自己 做 套 控制 台咯 目前 没有 做 页面 只是 做了 核心 功能 fix fix npe canal server with manager gtid master position canal server with manager gtid master position npe cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks canal server with manager agapple canal
1064,版本 客户端 报错 信息 可以 提供 一下 怎么 调用 呢 可以 提 一下 这个 报错 发生 操作 那边 解码 时候 而且 当时 数据库 没有 任何 操作 这边 测试 喔 现在 依然 报错 吗 偶然 出现 一直 而且 当时 数据库 没有 操作 应该 没有 数据 才 对 已经 解决 golang fatal error proto messages illegal tag wire type exit status canal go issue https github com canal client canal go issues issue get proto pass
1063,分区 发送 没有 分区 发送 没有 rocket mq commit rocket mq commit https github com alibaba canal blob master server src main java com alibaba otter canal rocketmq canal rocket mq producer java url
1061,不正常 问题 我们 正在 使用 版本 做 简单 二 次 开发 实现 数据 发送 多 分区 通过 监控 工具 发现 服务 端 堆 内存 用到 时 就 会 触发 默认 设置 最大 可用 内存 消费 端 没有 问题 启动 内容 没有 修改 过 具体 原因 正 排查 请问 其他 是否 问题 full gc kafka pinpoint g full gc g start sh
1060,文档 未 更新 操作 系统 纯 开发 均 支持 建议 使用 以上 版本 稳定 可靠 目前 阿里巴巴 使用 基本 为此 版本 要求 目前 支持 版本 以下 对 暂 支持 版本 没有 经过 严格 测试 理论 可以 兼容 改 好了 admin guide a java windows linux b jdk mysql a canal mysql mysql mysql x
1059,接口 去掉 方法 接口 去掉 方法 方法 仅 内部 调用 canal connector stop running canal connector stop running stop running
1058,关于 模式 疑惑 停 下来 容器 使用 移除 容器 然而 再次 使用 镜像 启动 容器 时 显示 刚才 移除 容易 已经 存在 有时候 会 存在 端口 占 需要 修改 启动 脚本 里面 容器 才 能 启动 容器 求 解释 谢谢 基本 操作 网上 多 找找 docker docker stop container id docker rm f name docker close
1057,分布式 开关 解决 分布式 同步 开关 关闭 同步 状态 重 启 开启 同步 丢失 数据 kafka canal adapter bug kafka canal adapter bug
1056,线程 池 没有 初始化 group bug
1055,代码 整理
1054,增加 对 对于 队列 有序性 支持 可以 分发 issue add flat message support to rocketmq rocketmq hash flat message tks
1053,是否 支持 事务 分组 数据库 操作 中 包含 事务 性质 多 表 操作 数据 输出 时候 能 能 对 部分 数据 进行 分组 打包 数据包 还是 自己 根据 事务 进行 分组 数据 事务 进行 包裹 业务 可以 基于 块 进行 组合 数据 事务 进行 包裹 业务 可以 基于 块 进行 组合 是否 支持 对接 将 数据 同步 新 版本 会 支持 直接 将 数据 投递 可用 对应 客户端 进行 消费 新 版本 会 支持 直接 将 数据 投递 可用 对应 客户端 进行 消费 谢谢 直接 可以 配置 之后 通过 取 数据 是的 看到 版本 中 提交 记录 写道 去掉 端 判断 这个 版本 要 处理 事务 操作 的话 通过 什么 方式 判断 事务 吗 canal id begin end begin end canal python kafka kafka kafka python kafka kafka python python kafka git hub kafka server transactionbegin transactionend id
1052,启动 正常 客户端 取 版本 报错 估计 空闲 链接 关闭 估计 空闲 链接 关闭 怎么 解决 请 指教 解决 canal binlog mysql canal logs example example log main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main error com alibaba druid pool druid data source test idle is true validation query not set main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance subscribe filter change to main info c a otter canal instance core canal instance start successful destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status i o server worker info c a otter canal instance core canal instance subscribe filter change to destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy find start position entry position included false journal name mysql bin position server id gtid null timestamp i o server worker info c a otter canal instance core canal instance subscribe filter change to canal canal log i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x e exception java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java connection reset by peer connection reset by peer
1051,变化 响应 均 使用 方式 部署 二者 启动 都 正常 文件 映射 宿主 机 目录 操作 数据库 端 响应 始终 打印 是否 文件 位置 问题 版本 一样 问题 检查 里 对应 日志 使用 单机 模式 需要 参数 设置 成 但是 错误 日志 显示 空 指针 错误 信息 提示 不太 友好 binlog client mysql canal docker mysql binlog var lib mysql client empty count binlog mysql canal server parallel false
1050,修改 配置 项名 hbase
1049,版本 配置 中 什么 kafka kafka test group id
1047,数据 增加 过期 清理 能力 介绍 思考 问题 默认 会 小时 做 生成 份 数据 持久化 随着 运行 时间 越来越 久 数据 会 持续 膨胀 需要 增加 策略 定时 清理 掉 陈旧 数据 设计 思路 增加 两 参数 运行 频率 内 对 超过 时间 数据 做 定时 清理 注意 这里 会 保留 初始化 第一 份 第一 份 避免 所有 数据 清理 掉 tablemeta tsdb table meta tsdb https github com alibaba canal wiki table meta tsdb tablemeta checkpoint snapshot snapshot expire canal instance tsdb snapshot interval canal instance tsdb snapshot expire interval expire snapshot init snapshot binlog timestamp snapshot
1046,列 类型 实际 数据 值 大于 时 获取 列值 错误 列 类型 实际 数据 值 大于 之间 按照 处理 直接 转化 成 值 变成 负数 行 建议 修改 如下 未 充分 测试 方便 提供 一下 测试 tinyint unsigned canal tinyint unsigned canal string log event convert java is single bit java type types tinyint java type types bit buffer is null column builder set is null true serializable value buffer get value is single bit java type types tinyint number value value java type types bit https github com alibaba canal blob master parse src main java com alibaba otter canal parse inbound mysql dbsync log event convert java sql
1045,修改 打包 配置 tks
1044,过滤 表达式 这个 问题 奇怪 后面 执行 的话 没有 问题 表达式 多 长 啊 等等 哈 仔细 重现 一下 一下 表达式 计算 模块 中 中 配置 即使 用了 分库 使用 分表 一下 确实 表名 太 长 类似 种 表达式 跑 时候 都 跑 下去 直接 说 常量 字符串 过长 使用 分库 分表 时候 需要 注意 字符串 能 太 长 分库 分表 可以 正则 匹配 一下 canal expression is too large caused by com alibaba otter canal filter exception canal filter exception org apache oro text regex malformed pattern exception expression is too large caused by org apache oro text regex malformed pattern exception expression is too large at org apache oro text regex perl compiler compile unknown source at org apache oro text regex perl compiler compile unknown source at com alibaba otter canal filter pattern utils apply pattern utils java at com alibaba otter canal filter pattern utils apply pattern utils java at com google common collect computing concurrent hash map computing value reference compute computing concurrent hash map java at com google common collect computing concurrent hash map computing segment compute computing concurrent hash map java at com google common collect computing concurrent hash map computing segment get or compute computing concurrent hash map java at com google common collect computing concurrent hash map get or compute computing concurrent hash map java at com google common collect map maker computing map adapter get map maker java at com alibaba otter canal filter pattern utils get pattern pattern utils java at com alibaba otter canal filter aviater regex function call regex function java at script execute unknown source at com googlecode aviator expression execute expression java at com alibaba otter canal filter aviater aviater regex filter filter aviater regex filter java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event table meta log event convert java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor simple parser stage on event mysql multi stage coprocessor java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor simple parser stage on event mysql multi stage coprocessor java at com lmax disruptor batch event processor process events batch event processor java at com lmax disruptor batch event processor run batch event processor java at java util concurrent executors runnable adapter call executors java at java util concurrent future task run future task java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java debug canal pattern pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log pub operation log tb operation log target tts operation log tb operation log otter pub operation log tb operation log pub operation log tb operation log demo idea error java
1043,无法 解析 求 大 神 帮忙 操作 系统 数据库 版本 首先 文件 中 添加 三 条 配置 完 查看 一下 如图 新增 账户 开启 所有 权限 监测 日志 开始 启动 日志 内容 如下 图 配置 项 这个 参数 截 图 中 执行 查看 日志 中 文件 有变化 上图 中 查看 姿势 有点 问题 正确 姿势 数据库 名 表名 执行 完 之后 日志 没有 发生 任何 改变 客户端 可以 正常 连接 服务 端 但是 服务 端 无法 正常 解析 求 大 神 帮忙 解决 如果 哪里 描述 清晰 请 大 神 指正 工程 打印 另外 目录 仔细 找找 打印 另外 目录 大 神 意思 如果 产生 日志 这个 日志 文件 中 吗 canal mysql binlog centos mysql mysql etc my cnf mysqld server id log bin mysql bin binlog format row image https user images githubusercontent com f dfe d e cfb c bac f png mysql canal repl slave priv y image https user images githubusercontent com c d a e b b bba b png canal tail f logs example example log canal image https user images githubusercontent com bdbe d a e a dccd f png canal image https user images githubusercontent com dd d b e dc d a bced de png canal instance filter regex sql binlog image https user images githubusercontent com ae d b e d f ed b png binlog usr bin mysqlbinlog v mysql bin image https user images githubusercontent com a d b e bd c fb b png test user sql canal canal canal canal mysql binlog example binlog logs example example log agapple image https user images githubusercontent com dbca d b e ce cf b png
1042,canal adapter readme md
1041,包下 脚本 提示 命令 语法 正确 目前 环境 进行 测试 语法 报错 内容 或者 提交 修复 低级 问题 基本 用法 先 一下 canal example tar gz startup bat windows pr https user images githubusercontent com a e db e c da png bat google
1040,集群 挂掉 节点 会 删除 起来 数据 会 重复 吗 集群 挂掉 节点 会 删除 起来 数据 会 重复 吗 数据 会 重复 数据 会 重复 重复 正常 无法 避免 数据 重复 多看 canal zk sever canal zk sever agapple wiki
1039,规范 注释 tks
1038,发送 消息 同时 实现 分区 版本 消息 发送 同时 支持 指定 消息 按 分发 不同 分区 吗 即将 发布 支持 这样 散列 功能 canal kafka topic partition canal kafka partition key https github com alibaba canal wiki canal kafka rocket mq quick start
1037,完善 相关 功能 完善 完善 新增 功能 增加 客户端 同步 开关 同步 锁 等 功能 adapter launcher hbase adaper adapter launcher hbase adaper hbase etl etl tks
1036,部署 客户端 连接 首先 已经 部署 启动 完毕 服务 端口 然后 宿主 虚拟 本机 电脑 访问 通过 虚拟 然后 客户端 使用 连接 启动 服务 之后 客户端 接收 信息 服务 端 一直 输出 请问 问题 怎么 解决 按照 里 脚本 启动 模式 做 端口 映射 docker canal canal docker docker ip ip ip canal canal c a otter canal server netty handler session handler message receives in session handler ip docker quick start host
1034,如何 将 客户端 接收 解析 成 执行 语句 中 执行 然后 接收 对象 如何 解析 对象 成为 执行 然后 同步 数据库 中 呢 费 很大 劲 拼装 发现 自己 拼装 要 情景 不全 要 种 瑕疵 没 方便 方法 呢 版本 中 操作 可以 直接 拿到 操作 是否 可以 直接 拿到 呢 工程 里 看下 同步 样 例 代码 canal canal entry sql master mysql a sql slave canal canal entry sql mysql b sql ddl sql dml sql canal example db https github com alibaba canal tree master example src main java com alibaba otter canal example db
1032,版本 没有 添加 配置 参数 默认 版本 没有 添加 配置 参数 默认 使用 还是 存在 解析 性能 问题 v alpha row true v alpha row true canal server with embedded entry uploading image png image https user images githubusercontent com bd d e e f bc e df png image https user images githubusercontent com f b d e e e b png
1031,新增 工程 新增 工程 adapter launcher adapter launcher springboot
1030,启动 一直 动 报错 日志 这个 这个 影响 destination canal car address rm m e o l f j an mysql rds aliyuncs com event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status destination canal car address rm m e o l f j an mysql rds aliyuncs com event parser warn c a o c p inbound mysql rds rds binlog event parser proxy find start position entry position included false journal name mysql bin position server id gtid null timestamp
1029,更新 表 约 条 记录 字段 容量 条 字 段 数量 解析 报错 更新 语句 异常 信息 表 存在 列 删除 操作 需要 开启 才 可以 支持 操作 没有 进行 删除 操作 v mysql t canal table w b canal bin log column size is not match table database canal t canal table vs sql update t canal table set update time str datetime datetime now caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception column size is not match table glocalme css tcanal t css vsim vs destination canal es instance address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed ddl tsdb agapple ddl
1028,使用 以及 情况 数据库 值 设置 成 现象 如下 情况 值 建议 返回 否则 类型 无法 区分 fix kafka flat message model null value set to canal kafka model flat message null image https user images githubusercontent com d a d e a b b png description null kafka message body null varchar null image https user images githubusercontent com a d f d e e ba c d png cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr titeng jiang seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
1027,增加 对 支持 为了 提升 分发 性能 需要 增加 数据 分片 支持 如果 增加 分片 数据 一致性 就 保证 这个 是否 分片 应该 根据 选择 做到 表 级别 是否 开启 针对 主键 会 发生 修改 或者 只是 监听 一下 事件 本身 关注 顺序 应该 比较 适合 目前 我们 这边 想 针对 数据库 实例 做 不同 数据库 实例 不同 然后 使用 库 名 表 名 做 区分 针对 个别 需要 顺序 做 指定 队列 发送 如果 正好 本 库 就 这样 表那 就 整个 库 都 发送 队列 需要 将 对应 配置 转移 中 进行 配置 代码 提交 rocket mq flat message rocketmq binlog mysql topic topic tag table expmle
1026,处理 使用 收到 消息 值为 设置 成 类型 收到 可以 默认 理解 对于 类型 如何 区分 单 对象 方法 判断 这个 列 对应 这个 类 正解 canal varchar null canal kafka column null date null varchar text null column getis null value null canal entry column ls
1025,环境 环境 两 版本 出现 问题 原因 删除 目的 重置 详细 日志 暴力 删除 中 重 启 时候 会 重新 加载 配置 停止 删除 最后 重启 这样 可以 生效 里 位点 定义 为什么 需要 停止 删除 因为 如果 不停止 会 定时 刷新 所以 提前 删除 没 任何 意义 停止 之后 删除 然后 上游 数据库 拿出来 重启 没 问题 都 报错 但是 一旦 上游 库 操作 会 一直 报 这个 错 报 错 最新 版本 部署 一下 同步 知 问题 修复 新版本 已经 合并 工程 中 主要 修改 一下 里 这个 问题 谢谢 destination user cards com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception table id not found exception not found table id ubuntu jdk canal canal server instance canal canal kafka zk otter znode instance binlog file position pool thread error com alibaba otter canal kafka producer canal kafka starter process error java lang null pointer exception null at com alibaba otter canal store memory memory event store with buffer calculate size memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal server embedded canal server with embedded get events canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java canal kafka jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na pool thread info com alibaba otter canal kafka producer canal kafka starter the canal consumer user cards is running now pool thread error com alibaba otter canal kafka producer canal kafka starter process error java lang null pointer exception null at com alibaba otter canal store memory memory event store with buffer calculate size memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal server embedded canal server with embedded get events canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java canal kafka jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na zk znode canal instance canal server canal server zknode instance ps server server zknode zknode btw canal server znode show master status binlog file position canal server canal server instance update canal server instance v canal deployer kafka ps canal kafka canal deployer canal properties canal server mode kafka pool thread error com alibaba otter canal kafka producer canal kafka starter process error java lang null pointer exception null at com alibaba otter canal store helper canal event utils create position canal event utils java canal store jar na at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java canal store jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java canal kafka jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na
1024,怎么 支持 数据库 模拟 协议 目前 没有 对 协议 直接 支持 可以 直 连 底下 直接 订阅 canal drds destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg dc f c zbtsteam test unknown command daoshunli canal mysql binlog dump drds binlog drds rds
1023,今天 突然 遇到 这样 异常 导致 张 表 同步 成功 之前 还是 正常 今天 突然 发现 这个 异常 怎么 回 事 呢 估计 里 对应 表被 删除 重置 位点 跳过 后续 可以 开启 规避 c a o canal parse inbound mysql dbsync log event convert table parser error warn c a o canal parse inbound mysql dbsync log event convert table parser error header binlog tsdb
1022,直接 生产 然后 消费 端 解析 效率 更高么 感觉 解析 效率 高 啊 对象 序列化 会 很多 类 信息 消息 体大 概 大 倍 吞吐量 下降 明显 flat message kafka kafka probuf json json
1021,模式 解析 问题 单机 情况 解析 数据 返回 正确 实例 时间 单机 解析 过来 获取 模式 解析 获取 相差 小时 单机 服务 器 三 台 服务器 时间 均 时区 时间 正确 没 大佬 知道 什么 问题 导致 里 数据 为准 可以 先 通过 一下 原始 数据 打错 模式 昨天 邮箱 一直 验证 不了 就 没 回复 昨天 因为 生产 环境 问题 测试 环境 重新 安装 环境 模式 解析 类型 没 问题 canal hv mysql timestamp mysql timestamp mysql canal hv hv hv ctc hv canal binlog mysqlbinlog binlog ha canal ha timestamp
1020,数据 同步 之后 乱码 启动 之后 数据 能 同步 但是 同步 数据 乱码 版本 单 节点 部署 本地 查看 乱码 默认 传输 序列化 字节 码 可见 字符 需用 中 模块 反序 列 化为 喔 好的 下个 版本 会 支持 可以 改动 包 中 相关 发送 代码 参照 主 分支 代码 提供 先用 等 新 版本 出来 就 下个 版本 会 支持 可以 改动 包 中 相关 发送 代码 参照 主 分支 代码 提供 先用 等 新 版本 出来 就 好了 客户端 消费 希望 能 支持 明文 发送 数据 导 方便 消费 不用 考虑 反序 列化 问题 canal kafka kafka kafka topic https user images githubusercontent com d d c e c c ed png canal kafka canal topic kafka message client kafka message string message canal server kafka string message canal server kafka python kafka json kafka
1019,解析 性能 问题 这里 基于 什么 考虑 我们 升级 发现 性能 差 很多 看到 这个 地方 已经 拿到 对象 应该 可以 缓存 起来 这样 业务 就 需要 再次 做 次 类似 还有 这里 其实 已经 但是 都 序列 化成 我们 主要 针对 这样 部署 模式 避免 操作 时序 列化 周期 过长 导致 可以 考虑 增加 配置 允许 保留 对象 这样 会 带来 内存 额外 开销 canal entry entry to string canal entry parse event log identity log identity canal entry entry entry log identity log identity entry type entry get entry type execute time entry get header get execute time journal name entry get header get logfile name position entry get header get logfile offset server id entry get header get server id gtid entry get header get gtid event type entry get header get event type build raw raw entry entry to string raw length raw entry size entry type entry type rowdata list canal entry pair props entry get header get props list props null canal entry pair p props rows count equals p get key rows count integer parse p get value row change bytes row change row change row change buider build table error entry entry create entry header entry type rowdata string empty logger warn table parser error store value entry to string row change to string null entry entry create entry header entry type rowdata row change to string entry canal server with embedded entry to string server client client get client tps entry
1017,版本 配置 属性 支持 使用 方法 种 形式 配置 还不 支持 新加 配置 可以 考虑 提交 修复 canal rds manager canal instance with manager rds pr
1016,天 遇到 次 异常 什么 原因 天 遇到 次 下面 异常 堆栈 连接 中断 需要 重联 但是 遇到 种 错误 有时 同步 迅速 就 恢复 有时 同步 会 中断 分钟 左右 什么 原因 如何 解决 对应 版本 建议 升级 最新版 处理 should execute connector connect first otter pid nid exception canal hd canal com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java otter
1015,求 指导 获取 事务 号 中 事务 号 一致 如何 解决 获取 方法 结果 中 查询 结果 中 怎么 查询 办法 命令 中 获取 谢谢 回复 不好意思 之前 查询 方法 错 获取 没有 问题 现 使用 查询 方法 只是 语句 是非 事务 能 对 语句 进行 回滚 操作 请问 如何 处理 呢 只是 解析 里 里 记录 内容 已经 事务 提交 成功 canal tranaction id mysql transaction id canal transaction id transaction end tx end transaction end parse from entry get store value string tx id tx end get transaction id mysql trx id counter mysql mysqlbinlog canal transaction id sudo mysqlbinlog no defaults usr local mysql data mysql bin my sql ddl dll canal ddl canal binlog ddl binlog
1014,修复 通过 获取 多个 时 回车 符 导致 解析 失败 show master status gtid uuid bug as title tks
1013,命令 收到 乱码 数据库 中 插入 条 记录 命令 看到 消费 端 输出 乱码 然后 中 代码 改 相应 配置 参数 中 插入 新 记录 运行 没有 收到 数据包 各位 没 遇到 过 种 情况 模式 默认 发送 对象 序列 化 字节 可见 字符串 接收 会 反序 列 化 要 发送 可见 字符串 请用 模式 将 会 发送 格式 数据 这边 碰到 一样 问题 请问 问题 解决 吗 数据库 中 插入 条 记录 命令 看到 消费 端 输出 乱码 然后 中 代码 改 相应 配置 参数 中 插入 新 记录 运行 没有 收到 数据包 各位 没 遇到 过 种 情况 一样 遇到 相同 问题 接收 格式 改为 可以 接收 输出 但是 原生 没有 消息 请问 问题 解决 吗 模式 默认 发送 对象 序列 化 字节 可见 字符串 接收 会 反序 列 化 要 发送 可见 字符串 请用 模式 将 会 发送 格式 数据 请问 对应 哪个 配置 文件 中 哪个 配置 项 呢 解决 虚拟机 改 大 点 就 可以 如果 不行 修改 参数 写道 这边 碰到 一样 问题 请问 问题 解决 吗 数据库 中 插入 条 记录 命令 看到 消费 端 输出 乱码 然后 中 代码 改 相应 配置 参数 中 插入 新 记录 运行 没有 收到 数据包 各位 没 遇到 过 种 情况 一样 遇到 相同 问题 接收 格式 改为 可以 接收 输出 但是 原生 没有 消息 请问 问题 解决 吗 不好意思 看错 暂时 没有 解决 写道 这边 碰到 一样 问题 请问 问题 解决 吗 数据库 中 插入 条 记录 命令 看到 消费 端 输出 乱码 然后 中 代码 改 相应 配置 参数 中 插入 新 记录 运行 没有 收到 数据包 各位 没 遇到 过 种 情况 一样 遇到 相同 问题 接收 格式 改为 可以 接收 输出 但是 原生 没有 消息 请问 问题 解决 吗 模式 默认 发送 对象 序列 化 字节 可见 字符串 接收 会 反序 列 化 要 发送 可见 字符串 请用 模式 将 会 发送 格式 数据 请问 哪里 可以 配置 呢 没有 配置 这样 接受 对象 解析 里面 内容 然后 内容 放在 中发 送到 中 写道 模式 默认 发送 对象 序列 化 字节 可见 字符串 接收 会 反序 列 化 要 发送 可见 字符串 请用 模式 将 会 发送 格式 数据 请问 哪里 可以 配置 呢 canal kafka bin kafka console consumer sh mysql bin kafka console consumer sh zookeeper topic canal from beginning mysql bin utf bjp mysql bin utf bjpf mysql bin utf b can db j user test p x b c pb id b ri a e b dafd r a cha age b ri y bi utf bjp y bi utf bjpf y bi utf b ca db j e e p x b c pb id b ri a e b eee r a cha age b ri y bi utf bjp kafka client kafka test java string topic canal integer partition string group id string servers string zk servers mysql kafka client running test java canal kafka message client flat message json brightsong mysql bin kafka console consumer sh zookeeper topic canal from beginning mysql bin utf bjp mysql bin utf bjpf mysql bin utf b can db j user test p x b c pb id b ri a e b dafd r a cha age b ri y bi utf bjp y bi utf bjpf y bi utf b ca db j e e p x b c pb id b ri a e b eee r a cha age b ri y bi utf bjp kafka client kafka test java string topic canal integer partition string group id string servers string zk servers mysql kafka client running test java consumer records string string consumer records string message canal kafka message client flat message json cpu canal instance parser parallel jkl notifications github com brightsong mysql bin kafka console consumer sh zookeeper topic canal from beginning mysql bin utf bjp mysql bin utf bjpf mysql bin utf b can db j user test p x b c pb id b ri a e b dafd r a cha age b ri y bi utf bjp y bi utf bjpf y bi utf b ca db j e e p x b c pb id b ri a e b eee r a cha age b ri y bi utf bjp kafka client kafka test java string topic canal integer partition string group id string servers string zk servers mysql kafka client running test java consumer records string string consumer records string message you are receiving because you were mentioned reply to email directly view it on git hub or mute the thread jkl notifications github com brightsong mysql bin kafka console consumer sh zookeeper topic canal from beginning mysql bin utf bjp mysql bin utf bjpf mysql bin utf b can db j user test p x b c pb id b ri a e b dafd r a cha age b ri y bi utf bjp y bi utf bjpf y bi utf b ca db j e e p x b c pb id b ri a e b eee r a cha age b ri y bi utf bjp kafka client kafka test java string topic canal integer partition string group id string servers string zk servers mysql kafka client running test java consumer records string string consumer records string message you are receiving because you were mentioned reply to email directly view it on git hub or mute the thread canal kafka message client flat message json message json kafka liugaozy notifications github com canal kafka message client flat message json you are receiving because you were mentioned reply to email directly view it on git hub or mute the thread
1012,能 获取 中 吗 没有 这样 啊 谢谢 canal mysql lsn log sequence number binlog
1011,模式 前进 模式 前进 来来回回 就 消费 那么 条 数据 没 报错 kafka client offset kafka client offset
1010,最新 启用 模式 还是 会 报错 版本 启用 模式 源 数据库 值 启动 报错 无法 同步 异常 区 配置 问题 拿着 异常 区 配置 问题 配置 模式 值 网上 搜索 错误 得到 解决 方案 都 停止 同步 然后 设置 对于 模拟 来说 要 如何 设置 呢 参考 这个 操作 设置 snapshot gtid errno snapshot gtid gtid purged error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg the slave is connecting using change master to master auto position but the master has purged binary logs containing gti ds that the slave requires at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java google mysql google mysql mysql gtid gtid purged slave slave gtid purged slave canal gtid purged https dev mysql com doc refman en replication mode change online enable gtids html mysql server
1009,代表 主机 删除 meta dat not update canal canal server and client consumes data normally but the timestamp and content of meta dat not change which will cause an exception could not find first log file name in binary log index file when restart canal server pls check the configurations in attachment instance log https github com alibaba canal files instance log canal log https github com alibaba canal files canal log could not find first log file name in binary log index file mysql binlog i got more information with adding log in canal server something unexpected occurs the update cursor does not execute image https user images githubusercontent com b ae d e fe fedf ac df png i compile a canal server with source code and deploy the meta dat was updated normally
1008,对于 类型 默认 返回 如何 返回 中 对于 类型 默认 返回 现 需要 返回 类型 字段 具体 值 如何 实现 呢 之前 做法 修改 模块 方法 对于 返回 修改 方法 对于 类型 按照 类型 修改 返回 但是 报错 请教 大 神 如何 修改 呢 不要 解析 里 修改 可以 外围 拿到 表 结构 基于 下表 找到 具体 文本 进行 替换 比如 大 神 说 找到 具体 文本 进行 替换 指 根据 下标 索引 中 解析 对应 内容 如下 示 中 解析 第 元素 这样 万一 中 元素 包含 特殊 字符 比如 逗号 或者单 引号 怎么办 还是说 其他 办法 求 指教 枚举 特殊 字符 种 情况 实际 测试 一下 谢谢 指导 mysql canal value mysql canal canal value parser rowslogbuffer mysql to java type types rowslogbuffer fetch value string string caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get full string log buffer java img width alt src https user images githubusercontent com beed d e a bb a cae png img width alt src https user images githubusercontent com d e b eee b cc png img width alt src https user images githubusercontent com d e a b af f png binlog log event convert field meta get column type field meta get column type is column type starts with string value of value agapple
1007,restart canal server canal stuck at at sun nio ch net poll method server and client works normally restart server client will disconnect and to connect and subscribe i found client thread stuck someone have got or come up with some ideas about callstack and information as follow error custom canal client main loop outter exception com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header warn http connection pool object null traceback custom canal client com alibaba otter canal client impl simple canal connector get without ack simple canal connector java com alibaba otter canal custom custom canal client process custom canal client java com alibaba otter canal custom custom canal client run custom canal client java java lang thread run thread java error custom canal client main loop outter exception com alibaba otter canal protocol exception canal client exception java net connect exception connection refused warn http connection pool object null traceback custom canal client com alibaba otter canal client impl simple canal connector connect simple canal connector java com alibaba otter canal client impl simple canal connector connect simple canal connector java com alibaba otter canal custom custom canal client process custom canal client java com alibaba otter canal custom custom canal client run custom canal client java java lang thread run thread java java lang thread state runnable at sun nio ch net poll method at sun nio ch socket channel impl poll socket channel impl java locked x d a java lang object at sun nio ch socket adaptor socket input stream read socket adaptor java locked x d a java lang object at sun nio ch channel input stream read channel input stream java locked x e a sun nio ch socket adaptor socket input stream at java nio channels channels readable channel impl read channels java locked x f a java lang object at com alibaba otter canal client impl simple canal connector read simple canal connector java at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java locked x c e a java lang object at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal custom custom canal client process custom canal client java at com alibaba otter canal custom custom canal client run custom canal client java at java lang thread run thread java client example https github com alibaba canal blob master example src main java com alibaba otter canal example simple canal client test java jstack log log https github com alibaba canal files jstack log log i add a shell script test sh to start canal example simple canal client test but the same result comes out image https user images githubusercontent com b e d e a f f e eb png no binlog message you can add sleep time ex thread sleep thank you
1006,support golang canal client address link as title tks
1005,中 事件 少库 名 数据 少 数据库 中 含有 配置 中 事件 少库 名 数据 少 看了 中 确实 少 俩 能 帮 俩 属性 补 全 吗 少 库 名 少 没法 获取 里 就 没有 里 增加 里 添加 不过 需要 理解 语义 如果 事务 中 行 记录 位点 会 造成 发送 之后 丢弃 当前 事务 剩余 记录 binlog rows query log events queryevent row gtid binlog rows query log events queryevent row gtid binlog binlog canal header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name table name product sc id event length event type query gtid fb e c e b b aa f e e b c b d e b be b entry type rowdata store value xxx header gtid version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name gome jiaoyu table name product sc id event length event type update props key rows count value entry type rowdata store value xxx binlog rows query log events schema binlog rowdata gtid gtid gtid mysql
1004,支持 测过 支持 目前 不支持 支持 最高 版本 多少 多 mysql mysql mysql mysql wiki
1003,写 逻辑 没有 考虑 限制 如果 需要 发送 大小 超过 限制 默认 无法 继续 处理 自己 处理 配置 不要 超过 默认 由于 最大 消息 体 限制 请勿 超过 以下 你好 还是 有些 疑惑 需要 请教 一下 意义 什么 呢 控制 粒度 事务 级别 级别 级别 字段 级别 如果 某个 字段 就 超过 如何 处理 呢 拉 取 拉 取的 发送 批 大小 具体 请 参考 配置 说明 如果 单个 字段 大于 情况 暂时 可以 先 调整 消息 体 限制 上限 canal kafka kafka message size https github com alibaba canal blob e b dcc fcf c b c f da dd b server src main java com alibaba otter canal kafka canal kafka producer java l l record kafka mb canal batch size m servers localhost rocketmq means the nameserver retries batch size linger ms buffer memory canal batch size k kafka m k canal batch size rewerma canal batch size or event or row or m canal batch size canal canal m kafka
1002,中 应该 对 次 最后 进行 中 应该 对 次 最后 进行 会 中 重新 创建 两 线程 池 如果 出错 情况 会 无限 多 创建 线程 池 而且 导致 系统 资源 占用 完毕 注意 循环 每次 都会 创建 新 中 时 线程 池 需要 判断 是否 已经 实际 情况 中 存在 线程 池 一直 情况 event parser multi stage coprocess stop rese event parser multi stage coprocess stop reset reset mysql multi stage coprocessor start dump stop terminal mysql multi stage coprocessor my sql multi stage comprocessor stop shutdown shutdown true terminal false cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks
1001,使用 部署 无法 使用 命令 现象 使用 部署 官方 镜像 成功 启动 调用 会 以下 错误 信息 原因 检查 启动 脚本 发现 行 引发 错误 这里 行为 次 启动 时 如果 指定 值 会 目录 重命名 指定 值 由于 指定 值 所以 这个 行为 导致 执行 时 由于 容器 内 已经 没有 文件夹 所以 容器 无法 启动 问题 各位 大佬 如何 解决 这个 问题 自己 镜像 还是 其他 姿势 可以 写 映射 一下 可以 参考 写 操作 做了 下判断 目录 存在 处理 可以 写 映射 一下 可以 参考 写 试过 种 方法 但是 重启 时 会报 其他 错误 docker canal server docker restart docker canal server canal canal server v shell docker restart log mv cannot stat home admin canal server conf example no such file or directory docker https github com alibaba canal blob master docker image admin app sh shell destination perl le print env canal destinations destination then echo multi destination destination is not support exit destination destination example then mv home admin canal server conf example home admin canal server conf destination fi fi destination destination example path home admin canal server conf example destination destination example shell docker restart example docker compose yml docker compose yml https github com canal sharp canal sharp blob b e ecec c cd a e adfea docker docker compose yml mv docker compose yml docker compose yml https github com canal sharp canal sharp blob b e ecec c cd a e adfea docker docker compose yml with lin log server mv cannot move home admin canal server conf example to home admin canal server conf uc device or resource busy
1000,解析 位点 记录 使用 时 启动 版本 所有 配置 修改 两 处 中 配置 另外 处 就 如下 解析 位点 记录 定义 报错 如下 原本 配置 保持 原本 配置 此时 启动 一切 正常 解析 位点 记录 这里 要求 根 路径 查找 文件 时 会 这样 路径 路径 构造 错 file mixed log position manager mysql example mysql ip port spring file instance xml property name log position manager bean com alibaba otter canal parse index failback log position manager constructor arg bean com alibaba otter canal parse index file mixed log position manager constructor arg index value tmp parse dat constructor arg index value constructor arg index ref memory log position manager bean constructor arg constructor arg bean com alibaba otter canal parse index meta log position manager constructor arg ref meta manager bean constructor arg bean property memory log position manager bean id memory log position manager com alibaba otter canal parse index memory log position manager destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by java lang null pointer exception null at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang null pointer exception at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java spring property name log position manager bean com alibaba otter canal parse index failback log position manager constructor arg bean com alibaba otter canal parse index memory log position manager constructor arg constructor arg bean com alibaba otter canal parse index meta log position manager constructor arg ref meta manager bean constructor arg bean property com alibaba otter canal parse index file mixed log position manager data dir dat data dir destination parse dat agapple thx
999,参照 中 说明 配置 数据 同步 启动 报 没 遇到 这个 问题 使用 环境 单机 遇到 一模一样 问题 解决 吗 问题 已经 解决 将 服务 端 配置 文件 中 行 线程 数 关掉 单 例 单 线程 运行 error com alibaba otter canal common alarm log alarm handler destination example java lang illegal argument exception canal kafka quick start canal kafka canal kafka destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by java lang illegal argument exception null at java util concurrent thread pool executor init thread pool executor java na at java util concurrent thread pool executor init thread pool executor java na at java util concurrent executors fixed thread pool executors java na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang illegal argument exception at java util concurrent thread pool executor init thread pool executor java at java util concurrent thread pool executor init thread pool executor java at java util concurrent executors fixed thread pool executors java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java zookeeper kafka canal kafka canal properties
998,解析 出来 中文 乱码 得到 数据 中文 乱码 而且 包含 数据库 配置 都 怎么 没 回事 求 大佬 解答 不好意思 害死 光 看到 打印 信息 没有 直接 获 取值 傻逼 row change canal entry row change row change canal entry row change parse from canal entry get store value ddl sql r n canal utf image https user images githubusercontent com f f ce e c e c bfe png image https user images githubusercontent com ce e f e e c a png to string to string
996,聚 石塔 内 部署 无效 问题 描述 项目 代码 编译 成功 并且 更改 内容 运行 报错 去掉 库 订阅 rds wget conf example instance properties bin startup sh thread info c a otter canal instance core canal instance stop cannal instance null example thread info c a otter canal instance core canal instance stop successful main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main error com alibaba druid pool druid data source test idle is true validation query not set main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful destination example address xxxxxxxx event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status destination example address xxxxxxxx event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address xxxxxxxx has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show command denied to user xxxxxx table slow log sql state sql state marker with command show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type caused by java io io exception error packet error number field count message show command denied to user xxxxxxx table slow log sql state sql state marker with command show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na mysql
995,怎么 处理 源 表 数据 标题 中 就 只有 没啥 区别 说 怎么 处理 指 中 就 只有 没啥 区别 说 怎么 处理 指 好吧 其实 表达 不清楚 应该 说 能 解析 肯定 能 获取 语句 问题 应该 获取 数据 抽取 数据 仓库 仓库 怎么 处理 这个 删除 数据 注意 没有 启用 事务 能 操作 这个 要 处理 啊 什么 关系 可是 试试 这个 要 处理 啊 什么 关系 可是 试试 好的 试试 谢谢 canal delete delete binlog before image event insert update delete binlog before image event insert update canal binlog delete delete canal hive hive hive delete hive canal apache orc hive canal apache orc
994,是否 支持 多 指向 只是 对应 白 名单 表 不同 试 下设 置 多个 其中 数据库 地址 相同 仅仅 白 名单 指向 不同 表 主要 为了 张 表 对应 但是 启动 时候 报错 实例 化 冲突 可以 设置 但是 对于 没有 更新 canal instance database instance instance properties kafka topic datasource zookeeper cursor position
993,对 特定 指定 请问 假如 现在 两 实例 那么 如何 它们 分别 指定 中 不同 配置 应该 没有 办法 能 开 两 中 开启 两 指定 配置 应用 扩展 貌似 中 给出 答案 中 创建 新 实例 属性 文件 新建 配置 文件 中 指定 如果 没有 设置 自动 扫描 开启 自动 扫描 需 中 指定 这里 通道 名称 指 名称 还是 什么 但是 这个 占位符 作用 什么 如何 使用 谢谢 大佬 种 方法 能 指定 两 不同 啊 中 配置 通道 名称 就 需要 默认 目录 中 配置 中 新建 目录 里面 写上 配置 文件 实际上 就是 目录 中 初始化 设置 当前 正在 加载 通道 加载 查找 文件 时 会 用到 变量 感觉 咱俩 说 意思 啊 设置 当前 正在 加载 通道 加载 查找 文件 时 会 用到 变量 说 句 话 倒是 提醒 并不 倾向于 使用者 设置 加载 配置 文件 时候 设置 名称 然后 对 配置 文件 中 占位符 进行 替换 谢谢 instance xxx instance xml conf instance instance properties conf instance instance properties conf spring xml canal littleneko server instance instance https github com alibaba canal wiki dev guide e ba e a e a e b conf instance instance properties xml spring custom instance xml canal properties canal instance instance spring xml classpath spring custom instance xml canal properties canal auto scan true canal properties canal destinations example instance instance canal instance destination yudianer xml xml canal properties instance instance canal conf dir conf canal properties instance properties canal instance destination instance https github com alibaba canal blob master deployer src main java com alibaba otter canal deployer canal controller java java spring system set property canal constants canal destination property destination littleneko smile image https user images githubusercontent com c b ce e bf a aa e png spring system set property canal constants canal destination property destination canal instance destination instance properties
992,使用 乱码 请问 一下 怎么 处理 类型 需要 进一步 解析 出来 具体 可以 中的 定义 正解 canal kafka client example store value thread info c a o canal client running kafka canal kafka client example message id entries header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name payment table name tmp canal test event length event type update props key rows count value entry type rowdata store value b p b n b id b r aint n b f busername b r fvarchar n b f bpassword b r fvarchar b id b r aint b f busername b r fvarchar b f bpassword b r fvarchar raw true raw entries store value com alibaba otter canal protocol row change entry protocol proto ls
991,实现 并且 发送 消息 集群 主备 切换 导致 消息 重复 发送 实现 记录 中 将 主 应用 暂 停掉 备 会 将 之前 段 时间 没有 经由 处理 重新 投递 中 什么 情况 模式 停止 切换 启动 停止 操作 更新 知道 因为 集成 还是 其他 原因 知 问题 建议 升级 新版本 canal ha kafka canal ha binlog position zookeeper binlog kafka ha a b a b a zk cursor position kafka
990,增加 目标 数据库 密码 加密 解密 采用 方式 进行 加密 解密 设置 时 请 增加 目标 数据库 密码 加密 解密 采用 方式 进行 加密 解密 设置 时 请 druid canal instance enable druid true druid canal instance enable druid true cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr shichengming seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr shichengming seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
989,修改 模块 代码 未生效 定制 过程 中 已经 完成 安装 部署 运行 正常 现 需要 对 模块 代码 包下 面的 类 方法 进行 改写 下载 并在 中 打开 但是 一直 生效 知道 什么 原因 哪位 大 神 能 帮忙 指点 谢谢 求大神 有空 指点 生效 断点 能 走到 这里 中 设置 断点 调试 过 没有 走到 这里 难道 要 改 安装 包 中 断点 能 走到 其他 地方 先 确保 里面 能 走到 添加 代码 块 测试 没 问题 工程 打成 包 部署 谢谢 回复 不好意思 之前 写错 应该 修改 模块 模块 代码 没 生效 另外 尝试 模块 其他 代码 设置 断点 调试 都 没有 跑到 断点 具体 情况 这样 正在 定制 获取 增量 数据 并经 转换 得到 自定义 包含 条 修改 格式 如下 条 但是 原生 版本 端 模块 使用 获取 类型 数据 中 插入 查询 数据 精度 小数点 位数 一致 为了 解决 这个 数据 一致性 问题 尝试 对 模块 代码 包下 面的 类 方法 进行 改写 但是 作用 于是 中 开启 断点 调试 但是 程序 显示 会 执行 觉得 原因 可能 中 修改 模块 源码 代码 但是 首页 下载 二 进制 并解 压缩 得到 以及 文件 夹 其中 中 包含 种 负责 解析 二进制 文件 所以 真正 需要 更改 下面 因此 需要 中 修改 源码 需要 重新 打成 新 包 并用 新 包 替换 下面 猜想 待 验证 测试 结果 显示 需要 中 修改 源码 需要 重新 打成 新 包 并用 新 包 替换 下面 修改 已经 生效 谢谢 canal dbsync canal canal canal dbsync com alibaba otter canal parse inbound mysql dbsync log event convert parse one row canal source intellij idea img width alt dbsync src https user images githubusercontent com f cbe e f c b e png agapple lcybo debug idea canal lib canal parse dbsync jar idea debug jar parser dbsync log event convert parser canal mysql json string record json insert record table mysql mysql all types transaction id scn ts data op type i after smallint timestamp inta tinyint varchar a decimal datetime canal client example cluster canal client test java column getvalue decimal mysql shell precision scale canal parser com alibaba otter canal parse inbound mysql dbsync log event convert parse one row intellij idea parse one row intellij idea canal parser canal canal server canal deployer lib bin conf logs lib jar mysql canal server lib jar intellij idea parser parser jar jar canal server lib parser jar intellij idea parser parser jar jar canal server lib parser jar theonesmx
988,生效 尝试 两 服务器 同样 配置 生效 不生效 已经 检查 格式 格式 方法 里 没有 参数 请问 什么 原因 服务器 生效 服务器 生效 两 服务器 配置 不同 会 影响 吗 一下 里 种 常见 未 生效 canal instance filter regex mysql bin log row kafka canal connector subscribe image https user images githubusercontent com fc d cbe e f f f png image https user images githubusercontent com bcc cbea e ee f eb png image https user images githubusercontent com a cbe e aca ae e b ed png image https user images githubusercontent com ad cbea e d ce dbbf b png binlog wiki faq filter
987,解析 日志 调用 不断 抛 异常 疑问 场景 启动 执行 语句 通过 获得 日志 数据 当下 次 调用 方法 时 抛出 以下 异常 如果 解析 日志 前 解析 其他 语句 日志 会 出现 这样 错误 异常 信息 栈 增量 同步 异常 疑问 另外 语句 对应 感觉 太 对 升级 一下 版本 语法 没有 识别 语法 主要 识别 等 操作 create schema canal create schema message get without ack batch size canal create schema crud main error sync logger com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id xcf b e exception java lang null pointer exception at com alibaba otter canal store helper canal event utils create position canal event utils java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel simple channel handler message received simple channel handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec frame frame decoder unfold and fire message received frame decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process nio worker java at org jboss netty channel socket nio nio selector run nio selector java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util thread renaming runnable run thread renaming runnable java at org jboss netty util internal dead lock proof worker run dead lock proof worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java create schema event type query is ddl false image https user images githubusercontent com d cbae e a a f b png create schema ddl create alter drop table
986,版本 错误 长时间 没有 交互 导致 默认 超时 时间 小时 idle timeout exceeds close channel to save server resources canal hashed wheel timer warn c a o c server netty handler client authentication handler channel id x d c idle timeout exceeds close channel to save server resources i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x b b exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java client canal server
985,配置 多 实例 某个 实例 报错 如何 恢复 监听 多个 库 库 由于 网络 问题 中断 一会 后面 一直 连 不上 报 要 重新 接 的话 能 重启 还是 说 可以 重 启 出错 实例 建议 直接 测试 一下 最新 版本 server server timeout server https user images githubusercontent com e f cb b e e ac e png
984,问 代码 数据 结构 问题 中 可能 会 返回 多条 吗 如果 会 什么 情况 会 批量 情况 canal row change row change get row datas list
983,是否 支持 支持 maria db mariadb x x
982,请 问 客户端 如何 能 获取 对象 谢谢 如题 想 客户端 获取 表中 主键 或者 唯一 键 知 从何 下手 现在 我们 据说 以后 增加 实时 存储 表 结构 信息 客户端 如何 获取 呢 直接 中 还是 批量 拉取 时 返回 或者 其他 对象 中 能 获取 请 不吝 赐教 谢谢 各位 表 主键 返回 对象 里 已经 标识 如果 要 获取 唯一 键 需要 拿到 表名 反 查 一下 数据库表 结构 明白 谢谢 table meta canal canal tsdb connect druid message protobuf is key
981,模块 中 包 外部 使用 单独 依赖 client rocketmq client scope provide tks
980,错误 机构 机构 地址 是否 删除 删除 删除 是否 上线 上线 线 第二 机构 机构 以上 错误 日 志 两 天 前 增加 数据 列 今天 发生 错误 中 出现 两 对应 版本 能 本地 文件 里 找到 对 应该 表上 操作 本地 复现 一下 内存 表 结构 没有 判重 处理 判重 主要 里 会 基于 位点 做 去重 过滤 如果 正常 主备 复制 时会 保留 对应 位点 会 不同 此时 会 主备 库 各自 此时 如果 回溯 次 的话 就 会 出现 内存 重复 列 国 庆 之后 支持 一下 内存 表 结构 幂等 处理 规避 主备 切换 回溯 出现 重复 天 前 版本 实例 配置 里面 连接 主库 未 设置 以下 查询 结果 只有 条 应用 名词 索引 管理员 账号 访问 记录 增 权限 根据 控制 权限 描述 审核 管理 允许 角色 角色 可以 行使 权限 运营 后台 管理员 表 分为 级 级 审核 级为 驳回 状态 待审 审核 通过 投顾 身份 审核 直播人 审核 投顾 审核 投顾 审核 完成 投顾 降级 直播 操作员 姓名 操作员 角色 事件 操作 时间 操作 内容 操作 类型 申请 驳回 通过 审核 菜单 父 菜单 名称 菜单 标识 二级 菜单 链接 地址 菜单 权限 日期 文章 评论 数 视频 直播 评论 数 系统 课 评论 数 财圈 数 文章 总数 文章 留言 数 视频 点播 课 数 视频 直播 课 数 财圈 回复 数 新增 关注 数 取消 关注 数 净增 关注 数 累计 关注 数 财播 数 销售额 股 雷达 数 投顾 回答 数 直播室 老师 发言 总数 直播室 中 学员 发言 总数 老师 直播室 中 公开 回复 总数 学员 私信 提问 总数 老师 私信 回复 总数 学员 发言 免费 学员 发言 收费 学员 私信 提问 免费 学员 私信 提问 收费 老师 公开 发言 免费 老师 公开 发言 收费 老师 公开 回复 免费 老师 公开 回复 收费 老师 私密 回复 免费 老师 私密 回复 收费 免费 文章 数 收费 文章 数 老师 直播室 在线 时 长 免费 直播室 在线 人数 收费 直播室 在线 人数 隐私 观点 数 免费 直播室 隐私 观点 数 收费 直播室 暂 无数 老师 隐私 观点 所有 审核 类型 合作者 请求 接口 名称 请求 参数 请求 时间 接口 返回 内容 请求 是否 成功 成功 失败 代表 失败 条 记录 已经 手工 同步 操作 敏感 词 老师 广告 内容 拓展 字段 创建 时间 创建 用户 合作者 是否 隐藏 组合 账号 组合 账号 是否 隐藏 隐藏 隐藏 增 用户 真实 姓名 性别 省份 城市 号 博客 微博 组织 名称 简介 标签 类型 内容 内容 最后 修改 时间 创建 时间 未 合作 合作 暂停 拉 黑 代表 禁用 开启 文字 直播 服务 代表 禁用 开启 未 合作 合作 暂停 拉 黑 未 开通 微信 平台 开通 微信 平台 隐藏 没有 权限 权限 合作者 合作者 机构 机构 地址 是否 删除 删除 删除 是否 上线 上线 线 第二 机构 机构 老师 排序 是否 打开 推荐 老师 排序 是否 打开 推荐 合作者 是否 显示 服务 按钮 是否 显示 计划 是否 显示 文章 是否 显示 圈子 是否 显示 课程 是否 显示 博客 计划 链接 文章 圈子 课程 博客 自增主键 合作者 合作者 名称 真实 姓名 身份证 号 地址 创建 时间 最后 修改 时间 自增主键 栏目 父 栏目 栏目 名称 栏目 类型 自增主键 标的 标的 名称 标的 类型 标的 栏目 自增主键 合作者 标的 类型 时间 时间戳 接口 名 方法 名 当前 调用 应用 类型 值 流量 地址 耗时 并发 数 输入 值 输出 大 成功 次数 失败 次数 远程 地址 远程 应用 类型 时间戳 接口 名 方法 名 当前 调用 应用 类型 值 流量 地址 耗时 并发 数 输入 值 输出 大 成功 次数 失败 次数 远程 地址 远程 应用 类型 table meta error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table partner organization data id not null auto increment organization name varchar null organization id varchar not null organization logo varchar null comment logo organization url varchar null comment is delete tinyint not null comment is online tinyint not null comment organization logoh varchar null comment h logo organization logoh varchar null comment h logo organization urlh varchar null comment h url primary key id engine inno db auto increment charset utf compare failed db table meta schema operation table partner organization data fileds field meta column name id column type nullable false key true value null extra null unique false field meta column name organization name column type varchar nullable true key false value null extra null unique false field meta column name organization id column type varchar nullable false key false value null extra null unique false field meta column name organization logo column type varchar nullable true key false value null extra null unique false field meta column name organization url column type varchar nullable true key false value null extra null unique false field meta column name is delete column type tinyint nullable false key false value extra null unique false field meta column name is online column type tinyint nullable false key false value extra null unique false field meta column name organization logoh column type varchar nullable true key false value null extra null unique false field meta column name organization logoh column type varchar nullable true key false value null extra null unique false field meta column name organization urlh column type varchar nullable true key false value null extra null unique false mem table meta schema operation table partner organization data fileds field meta column name id column type nullable false key true value null extra null unique false field meta column name organization name column type varchar nullable true key false value null extra null unique false field meta column name organization id column type varchar nullable false key false value null extra null unique false field meta column name organization logo column type varchar nullable true key false value null extra null unique false field meta column name organization url column type varchar nullable true key false value null extra null unique false field meta column name is delete column type tinyint nullable false key false value extra null unique false field meta column name is online column type tinyint nullable false key false value extra null unique false field meta column name organization logoh column type varchar nullable true key false value null extra null unique false field meta column name organization logoh column type varchar nullable true key false value null extra null unique false field meta column name organization logoh column type varchar nullable true key false value null extra null unique false field meta column name organization urlh column type varchar nullable true key false value null extra null unique false scheduler table meta snapshot error c a o canal parse inbound mysql tsdb database table meta compare failed check log organization logoh mem organization logoh h ddl meta history server id server id meta history ddl tsdb ddl master canal instance standby select from meta snapshot partner operation create table application n t id not null auto increment n t name varchar not null n t type varchar not null n t primary key id n t unique name n engine inno db auto increment charset utf n create table op account history n t id not null auto increment n t hexun user id not null n t hexun user nick varchar not null n t add time datetime not null n t type varchar not null n t content varchar not null n t success not null n t params text n t access type varchar null n t access log param text n t access log detail text n t ip varchar null n t primary key id n engine inno db auto increment charset utf comment n create table op account url permission n t id not null auto increment comment permission id n n t permission url varchar not null comment url n t permission desc varchar null comment n t allowed roles varchar not null comment id n t log message format varchar null n t access type varchar null n t permission api id varchar null n t primary key id n t unique id unique id n t unique permission url unique permission url n engine inno db auto increment charset utf comment n create table op account user n t id not null auto increment n t hexun user id not null n t hexun user name varchar not null n t hexun user nick varchar not null n t email notification varchar not null n t user role id not null n t create time datetime not null n t creator user id not null n t creator user name varchar not null n t creator user nick varchar not null n t true name varchar null n t primary key id n t unique id unique id n t unique hexun user id unique hexun user id n engine inno db auto increment charset utf comment n create table op account user role n t id not null auto increment n t role id tinyint not null n t role name varchar not null n t role desc text n t primary key id n t unique id unique id n t unique role name unique role name n t unique role id unique role id n engine inno db auto increment charset utf n create table op check flow right n t id tinyint not null n t check level tinyint null n t role id varchar null n t modular id tinyint null n t primary key id n engine inno db charset utf n create table op check partner eventflow n t id not null auto increment n t partner id null n t check level tinyint comment n t check status tinyint comment n t check time datetime null n t check reason varchar null n t partner submit time datetime null n t adviser status tinyint comment n t primary key id n engine inno db auto increment charset utf n create table op check partner log n t id not null auto increment n t operate name varchar comment n t operate type varchar comment n t partner id null comment id n t operate time datetime null comment n t operate content varchar comment n t check type varchar comment n t check user id null n t reason mediumtext n t primary key id n engine inno db auto increment charset utf n create table op check partner situation detail n t id not null auto increment n t check user id null n t partner id null n t check time datetime null n t check status tinyint null n t check level tinyint null n t primary key id n engine inno db auto increment charset utf n create table op menu management n t id not null auto increment n t parent id comment id n t menu name varchar not null comment n t menu flag varchar not null comment n t menu link address varchar null comment n t menu permission varchar null comment n t primary key id n engine inno db auto increment charset utf n create table op operate log n t id not null auto increment n t operater id null n t operater name varchar null n t model varchar null n t user id null n t operate content varchar null n t time stamp datetime null n t primary key id n engine inno db auto increment charset utf n create table op partner comment statistics n t id not null auto increment n t data date datetime null comment n t article comment count comment n t video comment count comment n t system comment count comment n t primary key id n engine inno db auto increment charset utf n create table op partner data statistics n t id not null auto increment n t data date datetime null n t partner id null n t caiquan count comment n t article count comment n t article message count comment n t video demand count comment n t live count comment n t caiquan reply count comment n t attention count comment n t cancel attention count comment n t increase attention count comment n t total attention count comment n t caibo count comment n t sales comment n t a shares count comment a n t tugu reply count comment n t remark count comment n t student speak count comment n t open reply count comment n t student secret ask count comment n t secret reply count comment n t free student speaks comment n t non free student speaks comment n t free student asks comment n t non free student asks comment n t free teacher speaks comment n t non free teacher speaks comment n t free teacher replies comment n t non free teacher replies comment n t free teacher replies comment n t non free teacher replies comment n t free article count comment n t nonfree article count comment n t online time comment n t free student count comment n t non free student count comment n t free teacher secret speaks comment n t non free teacher secret speaks comment n t total teacher secret speaks comment n t primary key id n t unique index data id using btree data date partner id n t key index date using btree data date n engine inno db auto increment charset utf n create table op partner data statistics log n t id not null auto increment n t partner id null n t data date datetime null n t primary key id n engine inno db auto increment charset utf n create table op product data n t id not null auto increment n t product id null n t product name varchar null n t partner id null n t check type varchar null comment n t product type varchar null n t create time datetime null n t bussiness pro id varchar null n t bussiness check varchar null n t bussiness info varchar null n t bussiness log varchar null n t modifi time datetime null n t is close n t verify code varchar null n t primary key id n engine inno db auto increment charset utf n create table op req external service log n t id not null auto increment n t partner id null comment id n t service name varchar null comment n t req param text comment n t req time datetime null comment n t resp content text comment n t resp status tinyint null comment n t manual sync status tinyint comment n t primary key id n t key index partner id using btree partner id n engine inno db auto increment charset utf n create table op violation forbidden words n t id not null auto increment n t forbidden word varchar character set utf collate utf bin not null n t add time datetime not null n t creator user id not null n t creator user nick varchar not null n t primary key id n t unique id unique id n engine inno db auto increment charset utf comment n create table partner advertising data n t id not null auto increment n t partner id null comment id n t content text comment n t content h text comment n t create time datetime null comment n t create user id null comment id n t primary key id n engine inno db auto increment charset utf n create table partner circle data n t id not null auto increment n t partner id not null n t primary key id n engine inno db auto increment charset utf n create table partner config n t id not null auto increment n t partner id bigint not null comment id n t is combined tinyint comment n t is hide tinyint not null comment n t primary key id n engine inno db auto increment charset utf n create table partner data n t id not null auto increment comment id n t partner id not null comment id n t truename varchar null comment n t sex varchar null comment n t province varchar null comment n t city varchar null comment n t qq varchar null comment qq n t blog varchar null comment n t weibo varchar null comment n t orgname varchar null comment n t intro text comment n t notice type varchar null comment n t notice info text comment n t level varchar null comment n t modifitime datetime null comment n t createtime datetime null comment n t cooperation state tinyint comment n t aplanstate tinyint comment n t zhibostate tinyint comment n t bus department varchar null n t job code varchar null n t adviser cooperation state tinyint comment n t open we chat platform tinyint comment n t adviser hide tinyint comment n t open entrust tinyint comment n t primary key id n t unique partner id partner id n t key level using btree level n engine inno db auto increment charset utf n create table partner navigation n t id not null auto increment n t partner id not null comment id n t navigation varchar null n t primary key id n engine inno db auto increment charset utf n create table partner notice n t id not null auto increment n t title varchar null n t content varchar null n t create time datetime null n t create user name varchar null n t primary key id n engine inno db auto increment charset utf n create table partner notice number n t id not null auto increment n t partner id null n t read number null n t primary key id n engine inno db auto increment charset utf n create table partner organization n t id not null auto increment n t partner id null comment id n t organization varchar null n t primary key id n engine inno db auto increment charset utf n create table partner organization data n t id not null auto increment n t organization name varchar null n t organization id varchar not null n t organization logo varchar null comment logo n t organization url varchar null comment n t is delete tinyint not null comment n t is online tinyint not null comment n t organization logoh varchar null comment h logo n t organization logoh varchar null comment h logo n t organization urlh varchar null comment h url n t primary key id n engine inno db auto increment charset utf n create table partner recommend n t partner id not null comment id n t partner order not null comment n t open recommend tinyint null comment n t primary key partner id n t unique index partner id using btree partner id n engine inno db charset utf n create table partner recommend copy n t partner id not null comment id n t partner order not null comment n t open recommend tinyint null comment n t primary key partner id n t unique index partner id using btree partner id n engine inno db charset utf n create table partner service data n t id not null auto increment n t partner id not null comment id n t service status tinyint not null comment n t aplan status tinyint not null comment a n t article status tinyint not null comment n t circle status tinyint not null comment n t classes status tinyint not null comment n t blog status tinyint null comment n t aplan url varchar null comment a n t article url varchar null comment url n t circle url varchar null comment url n t url varchar null comment url n t blog url varchar null comment url n t primary key id n t key partner id using btree partner id n engine inno db auto increment charset utf n create table partner signelectric n t id not null auto increment comment n t partner id not null comment id n t partner name varchar null comment n t true name varchar null comment n t id card varchar null comment n t address varchar null comment n t createtime datetime null comment n t modifitime datetime null comment n t primary key id n engine inno db auto increment charset utf n create table partner tag category n t id not null auto increment comment n t category id not null comment id n t parent id null comment id n t category name varchar null comment n t category type null comment n t primary key id n engine inno db auto increment charset utf n create table partner tag data n t id not null auto increment comment n t tag id not null comment id n t tag name varchar null comment n t tag type null comment n t category id null comment n t primary key id n engine inno db auto increment charset utf n create table partner user tag n t id not null auto increment comment n t partner id null comment id n t tag varchar null comment n t tag type null comment n t createtime datetime null comment n t user defined tinyint null n t primary key id n engine inno db auto increment charset utf n create table statistics px operation app n t id not null auto increment n t timestamp bigint not null comment n t service varchar not null comment n t method varchar not null comment n t type varchar null comment n t tps not null comment tps n t kbps null comment n t host varchar null comment ip n t elapsed null comment n t concurrent null comment n t input null comment n t output null comment n t success count null comment n t failure count null comment n t remote address varchar null comment n t remote type varchar null comment n t primary key id n t key time index timestamp n t key method index method n t key service index service n engine inno db auto increment charset utf n create table statistics zhibo app n t id not null auto increment n t timestamp bigint not null comment n t service varchar not null comment n t method varchar not null comment n t type varchar null comment n t tps not null comment tps n t kbps null comment n t host varchar null comment ip n t elapsed null comment n t concurrent null comment n t input null comment n t output null comment n t success count null comment n t failure count null comment n t remote address varchar null comment n t remote type varchar null comment n t primary key id n t key time index timestamp n t key method index method n t key service index service n engine inno db auto increment charset utf n
979,里 做 意义 如果 即使 没有 变更 这里 仍然 指向 上一 次 位点 里 传入 就 最后 次 变更 应用 内存 结构 位点 还是 没 明白 为啥 要 做 reset last position when apply snapshot to database apply snapshot to db reset image https user images githubusercontent com dc c a e eef f a b aa png reset ddl position ddl apply snapshot to db position ddl reset
978,解决 客户端 消息 无法 解决 客户端 消息 无法 kafka ack bug kafka ack bug
977,同步 位点 问题 版本 源 实例 问题 启动 之后 配置 多 如果 订阅 过程 发生 主备 切换 或者 实例 迁移 怎么 修复 经过 试过 修改 配置 文件 只是 将 进行 修改 信息 会 同步 中 那么 这个 时候 应该 怎么 做 停止 删除 中 整个 重 启 如果 对应 多个 重启 会 对 其他 影响 吗 当然 会 其他 会 停掉 会 其他 位点 记录 中 次 启动 会 按照 对应 位点 继续 多谢 canal rds canal server intancaes rds intances reload zk canal server zookeeper otter canal destinations your instance znode canal server intances server intances instance canal server instance zk
976,版本 没有 变化 时候 占用 跑 满 核心 使用 版本 使用 默认 配置 启动 占用 就 高 没有 变化 服务器 信息 线程 调用 信息 火焰 图 因为 机器 配置 低 还是 其他 原因 请 新 最新 版本 canal kafka binlog cpu cpu of core canal kafka canal properties cpu binlog cpu cpuinfo txt https github com alibaba canal files cpuinfo txt https user images githubusercontent com a bf c de e a bb a e png image https user images githubusercontent com bcbb c df e e bc fa png
975,数据 一直 同步 数据 量 对 隔 秒 就 报 次 这个 错 大佬 偷 连 吗 这个 好像 荷兰 你自己 不要 暴露 公网 啊 error c a otter canal server netty handler session handler something goes wrong with channel id x a b canal ip canal ip
973,提供 原生 接入 提供 对接 但是 目前 仅 支持 单 分区 有序 待 层 可以 按照 业务 字段 拆分 聚合 做 多 分区 有序 但是 这样 对 改动 较大 后续 按照 表明 做 多 分区 有序 处理 但是 表 之间 出现 关联 时 会 存在 问题 客户端 配置 格式 有点 问题 应该 改成 可以 考虑 增加 对 支持 做 数据 分片 issue rocket mq canal rocketmq connector canal canal message hash canal cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub canal client yml mq topics mq mode kafka topic example groups group id example g out adapters name logger rocket mq flat message hash
972,模式 运行 段 时间 就 停止 消费 重启 客户端 之后 继续 消费 但是 位点 更新 以下 服务 端 出现 错误 日志 重启 服务 端 位点 开始 更新 canal zk closed channel exception canal i o server worker error c a otter canal server netty handler ses sion handler something goes wrong with channel id x b f exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio se rver socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket p ipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at com alibaba otter canal server netty handler session handler exception caught session handle r java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state awar e channel handler java at org jboss netty handler codec replay replaying decoder exception caught replaying decoder ja va at org jboss netty channel channels fire exception caught channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java i o server worker error c a otter canal server netty handler sess ion handler something goes wrong with channel id x ac exception java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java
971,为什么 存在 这样 比较 过程 题 为了 确保 基于 内存 维护 表 结构 正确性 做 之前 当前 数据库 做 一下 对比 在内 存 维护 表 结构 正确 情况 下面 两 中 情况 仍然 会 导致 返回 消费 存在 比较 大 延迟 此时 内存 中 表 结构 真实 表 结构 存在 差异 回退 位点 重复 消费 消费 慢 小时 内 未 追上 最新 位点 会 间 隔 小时 定时 发起 如果 次 中 对比 失败 可以 下一次 对比 成功 记录 清楚 块 设计 意图 question canal v database table meta compare table meta db and memory tsdb snapshot tsdb database table meta compare table meta db and memory false canal mysql binlog snapshot q
970,重现 启用 并行 解析 正常 连接 源端 数据库 打印 线程 数 关闭 源 端 数据库 打印 线程 数 通过 频繁 打印 当前 线程 数 发现 线程 数 不断 递增 直至 赞 fix bug bug oom
969,fix link error as title tks
968,并行 解析 数据库 一直 连 导致 异常 版本 oom v alpha heapdump image https user images githubusercontent com d c e e d b a png
967,运行 段 时间 服务 端 报错 版本 其他 说 这个 空闲 超时 时间 问题 看了 报错 点 好像 就是 小时 之后 报错 想 问 可以 设置 这个 参数 时间 谢谢 canal i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x c e exception java io io exception connection reset by peer canal issue idle timeout idle timeout simple canal connector idle timeout
966,源码 问题 关于 实现 疑问 操作 会 调用 检查 是否 空位 源码 如下 刚好 追上 轮 想 知道 为什么 调用 方法 获得 较 值 应该 总是 小于 等于 吗 直接 比较 就 可以 基本 满足 这个 关系 memory event store with buffer check free slot at memory event store with buffer put check free slot at check free slot at sequence wrap point sequence buffer size min point get minimum get or ack wrap point min point false get minimum get or ack get sequence ack sequence ack sequence get sequence ack sequence ack get put
965,持久化 存储 方案 使用 时 可以 正常 监听 数据 改成 之后 就 监听 数据 版本 中 配置 中 配置 记录 按 时间 序列 记录 表 结构 将 表 结构 数据 保存 嵌入式 数据库 中 打开 数据库 文件 发现 中 都 没有 数据 问题 太 笼统 关注 异常 日志 tsdb mysql h canal properties h table meta tsdb info canal instance tsdb enable true canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb db username canal canal instance tsdb db password canal instance properties h table meta tsdb info canal instance tsdb enable true h canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb db username canal canal instance tsdb db password canal h meta history meta snapshot h https user images githubusercontent com cc c bdce e d dd png server
964,建立 表 建 表语 句 中 字段 中 查询 语句 字段 一样 导致 更改 表 结构 时 报错 使用 版本 中 建立 表 建 表语 句 如下 主键 创建 时间 修改 时间 通道 名称 文件 名 偏移量 节点 应用 时间戳 执行 时 对应 对应 对应 执行 类型 额外 扩展 信息 表 结构 变化 明细表 中 查询 字段 如下 一致 字段 最新 主干 已经 修复 tsdb meta history sqlmap history conf spring tsdb sql create table sql meta history create table not exists meta history id bigint unsigned not null auto increment comment gmt create datetime not null comment gmt modified datetime not null comment destination varchar null comment binlog file varchar null comment binlog binlog offest bigint null comment binlog binlog master id varchar null comment binlog id binlog timestamp bigint null comment binlog use schema varchar null comment sql schema schema varchar null comment schema table varchar null comment table sql longtext null comment sql type varchar null comment sql extra text null comment primary key id unique key binlog file offest destination binlog master id binlog file binlog offest key destination destination key destination timestamp destination binlog timestamp key gmt modified gmt modified engine inno db auto increment charset utf comment conf spring tsdb sql map sqlmap history xml xml sql id all vo columns cdata a id as id a gmt create as gmt create a gmt modified as gmt modified a destination as destination a binlog file as binlog file a binlog offest as binlog offest a binlog master id as binlog master id a binlog timestamp as binlog timestamp a use schema as use schema a sql schema as sql schema a sql table as sql table a sql text as sql text a sql type as sql type a extra as extra sql shema sql shema table sql table sql sql text type sql type
963,中 含义 什么 请 帮忙 解释 一下 多 canal client identity destination client id wiki
962,如何 自定义 端 获取 字段 内容 数据 类型 端 获取 字段 内容 默认 类型 请 大 神 指教 如何 才 能够 自定义 端 获取 字段 内容 数据 类型 多 根据 业务 类型 自行 将 字符串 转换 具体 canal client client canal client string client wiki type
961,端 获取 类型 字段 精度 中 一致 现象 中源 表 字段 类型 中 查询 字段 值 查询 操作 触发 之后 中 获取 值 获取 方法 端 问题 端 获取 类型 字段 精度 中 一致 曾经 尝试 改写 方法 如下 但是 结果 现实 方法 改写 作用 请问 大 神 如何 修正 这个 问题 祝好 告诉 一下 重现 办法 版本 版本 建 表语 句 测试 等等 修复 修改 生效 之前 生效 原因 没有 中 将 修改 源码 重新 打包 替换 安装 中 对应 精度 一致 修复 方法 模块 方法 将 转换 处理 你自己 改动 代码 导致 现象 中源 表 字段 类型 中 查询 字段 值 查询 操作 触发 之后 中 获取 值 获取 方法 端 问题 端 获取 类型 字段 精度 中 一致 这个 精度 问题 一致 问题 由于 更改 源码 导致 版本 版本 建 表语 句 测试 经过 测试 发现 可能 因为 方法 中 做 对象 类型 直接 中 如果 会 导致 精度 丢失 这个 一定 改 自带 工具 解析 直接 变为 解析 如果 强 转为 自己 插入 实际 存入 对于 描述 存储 本身 存在 精准 行为 考虑 精度 误差 这样 处理 不知道 是否 正确 先 转 存入 数据 类型 因此 中 数 点 位 对 中 数 点 位 进行 舍 入 小数点 位 数字 小数 店 第 位 否则 不变化 因此 取 位 经过 次 测试 目前 发现 经 处理 结果 中 存入 结果 一致 没有 依托 可靠 自身 解析 代码 也是 直接 对象 处理 语句 直接 插入 里 出来 结果 啊 这样 的话 确实 处理 种 类型 本身 决定 里 建议 使用 canal client mysql mysql shell insert insert canal canal client column get value canal client mysql com alibaba otter canal common utils canal to string style append detail img width alt mysql src https user images githubusercontent com bdba e c fd bebe fcf png mysql canal sql intellij idea jar canal server lib jar parser logeventconvert parse one row types real mysql shell insert insert canal canal client column get value canal client mysql mysql server version log my sql community server gpl canal create table all types varchar varchar null inta unsigned not null auto increment tinyint tinyint null smallint smallint null bigint bigint null decimal decimal null null date date null time time null year year null datetime datetime null timestamp timestamp not null current timestamp on update current timestamp null primary key inta engine inno db auto increment charset latin sql insert into all types values a sysdate sysdate sysdate sysdate logeventconvert parse one row types real number valueof column builder set value string value of value string value of value value mysql mysqlbinlog canal mysql mysql https dev mysql com doc refman en problems with html mysql scale scale scale scale scale mysql mysql binlog insert mysql select mysql
960,没 工具 可以 转为 语句 需要 转换成 从库 执行 语句 是否 提供 相关 接口 一下 里 message sql message canal client example
959,消息 顺序 问题 能 保证 级 消息 顺序 对于 张 表 某个 记录 需要 保证 严格 顺序 这个 怎么 处理 并没有 对于 做 什么 特殊 处理 默认 全部 发送 配置 会 发 送到 对应 kafka kafka partition canal destinations kafka key partition pk hash partition
958,生产 端 增加 按 对应 功能 生产 端 增加 按 对应 功能 未 设置 分区 或则 默认 状态 全部 发送 分区 端 增加 如下 配置 对应 分区 数量 库 名 表 名 唯一 主键 指定 库 表中 唯一 主键 值 作为 分发 功能 适用 模式 建议 可以 优化 一下 表 字段 定义 方便 大量 表 配置 问题 增加 通配符 匹配 表 同时 支持 这样 默认 关键 字 未 命中 通配符 按照 进行 匹配 迫不及待 kafka pk hash partition kafka pk hash partition hash server kafka canal destinations canal destination example topic expample topic partitions num partition hash hash partition mytest person id flat message hash pk schema table columng a
957,一些 相关 问题 目前 实现 套 数据 增量 项目 一些 问题 请教 挂掉 段 时间 内 增量 数据 重 启后 这些 增量 数据 会 通知 会 出现 数据 丢失 问题 吗 没 关于 监控 方案 类似 对于 监控 多 一下 文档 想要 答案 都 监控 直接 对接 canal kafka canal kafka elasticsearch client client client cannal jmxtrans influx db grafana kafka prometheus
956,没 未来 年 关注 canal roadmap issue wiki
955,开启 会 出现 异常 配置 如下 使用 最新 版本 canal v gtid canal parse exception java util concurrent modification exception canal instance gtidon true enable gtid use true false canal instance gtidon true caused by java util concurrent modification exception at java util array list itr check comodification array list java at java util array list itr next array list java at com alibaba otter canal parse driver mysql packets uuid set to string uuid set java at com alibaba otter canal parse driver mysql packets mysql gtid set to string mysql gtid set java at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert build query entry log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows query event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql multi stage coprocessor java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql multi stage coprocessor java at com lmax disruptor work processor run work processor java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java alpha
954,遇到 问题 使用 高 版 都 申请 高 权限 账号 按照 常规 配置 能够 启动 报错 好像 高 权限 账号 没有 库 表 权限 没有 这个 权限 但是 启动 正常 咨询 阿里云 工程师 说 配置 问题 需要 剔除 库 监听 然后 启动 正常 但是 客户端 收 数据 第二 问题 服务 端 删除 节点 但是 次 启动 报错 源码 跟踪 调试 发现 启动 原来 删除 节点 太 奇怪 整个 包 删除 重新 部署 还是 会 启动 那个 删除 节点 单机 部署 没有 使用 望 有空 解答 谢谢 老实 说 没 太 看懂 问题 老实 说 没 太 看懂 问题 背景 这样 单机 部署 端 然后 连 第一 问题 我们 访问 下面 一些 表 高 权限 账号 不行 然后 这块 好像 能 通过 配置 去掉 监控 当时 收 数据 应该 正则 配置 错误 问题 第二 问题 就是 文件夹 删除 配置 但是 重 启 之后 服务 端 还是 加载 这个 删除 配置 奇怪 工程 删除 重新 部署 还是 会 加载 这个 看到 然后 能 重启 重 启 之后 就 所以 这里 怀疑 哪里 缓存 节点 缓存 应该 没有 都 目录 缓存 应该 没有 都 目录 另外 如果 单机 模式 端 数据 如果 消费 掉 的话 会 会 爆 内存 天 莫名 爆满 内存 优化 块 什么 建议 吗 或者 换 多 会 爆 内存 canal rds rds mysql rds instance properties destination xxx address xxx xxx event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump addressxxx xxx has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show view command denied to user canal xxx table db view sql state sql state marker mysql db view canal instance filter regex mysql can t find destination deployer zk ecs deploy server rds mysql filter mysql schema binlog filter deploy server conf rds canal deploy debug ecs conf conf conf server log ecs zk wiki
953,单词 拼写 修正 内 改为 memory event store with buffer init sqeuence init sequence cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr zhikuodai seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
952,不打印 数据 信息 类 信息 参考 写 打印 事务 头 信息 执行 线程 事务 耗时 打印 事务 提交 信息 事务 发送 删除 命令 发送 插入 命令 发送 修改 命令 检查 过滤 条件 canal rowdata https user images githubusercontent com b c bb e d f ba png https github com alibaba canal blob master example src main java com alibaba otter canal example canal client test java print entry list entry entrys entry entry entrys execute time entry get header get execute time delay time system current time millis execute time date date date entry get header get execute time simple date format simple date format simple date format yyyy mm dd hh mm ss entry get entry type entry type transactionbegin entry get entry type entry type transactionend entry get entry type entry type transactionbegin transaction begin begin null begin transaction begin parse from entry get store value invalid protocol buffer exception e runtime exception parse event has an error data entry to string e id logger info transaction format object entry get header get logfile name string value of entry get header get logfile offset string value of entry get header get execute time simple date format format date entry get header get gtid string value of delay time logger info begin thread id begin get thread id print xa info begin get props list entry get entry type entry type transactionend transaction end end null end transaction end parse from entry get store value invalid protocol buffer exception e runtime exception parse event has an error data entry to string e id logger info n logger info end transaction id end get transaction id print xa info end get props list logger info transaction format object entry get header get logfile name string value of entry get header get logfile offset string value of entry get header get execute time simple date format format date entry get header get gtid string value of delay time entry get entry type entry type rowdata row change row chage null row chage row change parse from entry get store value exception e runtime exception parse event has an error data entry to string e event type event type row chage get event type string table name entry get header get table name canal entry row data row data row chage get row datas list map map hash map map put table name table name map put event type event type map put event date org apache http client utils date utils format date date yyyy mm dd event type canal entry event type delete print column map row data get before columns list event type canal entry event type insert print column map row data get after columns list print column map row data get after columns list event type event type query row chage get is ddl logger info sql row chage get sql sep print xa info row chage get props list
951,版本 源 端 没有 数据 时 日志 就 抛 异常 导致 重 连 启动 如果 持续 数据 报错 没有 数据 时 就 异常 导致 重 连 报错 位于 查看 代码 中 如果 数据 就 会 抛出 其中 累加 入参 就 会 向上 抛出 异常 导致 重 连 首先 累加 其次 开启 默认 没 数据 时 会 获得 包 重置 超时 时间 可以 这里 着手 检查 一下 系统 描述 错 文件 中 定义 然后 时候 现在 现象 就是 中 方法 传入 时间 如果 没有 增量 数据 超过 就 抛出 异常 如你 所说 如果 开启 话 就 会 异常 进行 重 连 开启 设置 配置 文件 中 现在 设置 没有 起作用 呢 哪里 没 设置 对么 概念 出 发起 协议 部分 发起 直接 中 传输 无需 配置 直接 开启 为了 解决 半 连接 问题 可以 段 检查 端 是否 生效 感谢 看了 介绍 这个 端 设置 做为 直接 开启 已经 应该 需要 端 设置 什么 检查 是否 生效 意思 要 设置 什么 怎么 检查 端 执行 命令 执行 成功 但是 还是 断开 重 连 连接 或者说 为了 解决 半 连接 问题 没 数据 时 自动 重 连 次 正常 感谢 试 可以 之前 连接 不支持 现在 换成 使得 生效 断 如果 连接 以下 版本 支持 就 会 断开 重连 嗯 这个 加入 v dump socket s timeout canal s socket timeout exception bio socket channel read bio socket channel java bio socket channel so timeout s read s socket timeout exception s timeout s canal master heartbeat s heartbeat lcybo s s direct log fetcher master hearbeat read timeout milliseconds master heartbeat period seconds read timeout s bio socket channel read timeout s s socket timeout exception master heartbeat s sockettimeout master heartbeat canal instance detecting enable true canal instance detecting heartbeat ha enable true canal instance detecting enable binlog master heartbeat canal instance detecting enable fork connection canal server heartbeat binlog master heartbeat my sql dump my sql master dump connection canal server https dev mysql com doc refman en change master to html master heartbeat period master lcybo master heartbeat period slave canal server slave canal master master master change master to master heartbeat period s canal server master canal server s destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher socket timeout expired closing connection java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java classes na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java classes na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java classes na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java classes na at com alibaba otter canal parse inbound event parser run event parser java classes na at java lang thread run unknown source na lcybo master mysql master heartbeat period mysql master heartbeat period s master heartbeat period s theonesmx feature
950,模式 同步 报 错误 版本 启用 模式 源 数据库 值 启动 报错 无法 同步 着急 的话 可以 先 将 主干 代码 编译 打包 试 这个 gtid gtid purged gtid gtid purged error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg the slave is connecting using change master to master auto position but the master has purged binary logs containing gti ds that the slave requires at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java see google errmsg
949,fix simple canal connector bug as title tks
948,序列化 问题 更新 版本 出现 反序 列化 错误 error com alibaba otter canal client kafka message deserializer error when deserializing to message
947,修复 模式 报错 修复 统一 层 对于 中 每个 单独 统计 group https github com alibaba canal issues counter my sql event parser gourp parser tks
945,收到 非 订阅 表 语句 会 收到 非 订阅 表 语句 正常 会 收到 非 订阅 表 数据 正常 设置 目前 会 对 语句 进行 过滤 因为 无法 获取 对应 本来 想 记录 语句 无法 过滤 的话 就 关掉 dml mysql binlog rows query log events on canal canal instance filter query dml false dml canal instance filter query dml true dml query dbname agapple ok sql binlog rows query log events tks
944,请 问 是否 存在 问题 类 以下 代码 意思 或者 执行 时间 大于 分钟 才 会 执行 操作 试 下一直 正常 消费 数据 永远 会 执行 这样 问题 呢 请问 为什么 要 这样 写 等待 开关 开启 间隔 段 时间 次 防止 超时 未 响应 切换 另外 台 客户端 大于 分钟 未 消费 完 次 确实 最新 中会 修复 这里 间隔 段 时间 为了 防止 消费 超时 会 切换 另外 台 谢谢 canal adapter kafka worker ack com alibaba otter canal client adapter loader canal adapter kafka worker poll null ack connector ack running switcher get message message connector get without ack l time unit milliseconds time flag start time time flag false executing set true message null ack current ts system current time millis executing get ack keep alive system current time millis current ts connector ack current ts system current time millis connector ack commit failed exception e logger warn e get message exception e logger error e get message e time unit seconds sleep l bug pr ack kafka consumer rewerma
943,版本 模式 问题 启动 时 实例 会 报错 其它 实例 会 但是 会 正常 消费 错误 如下 好像 说 真正 这个 方法 但是 确 设置 成 使用 这个 方法 但是 为什么 其它 模式 报错 可以 的话 请 补丁 测试 一下 万分 感谢 可以 的话 请 补丁 测试 一下 万分 感谢 嗯 现在 已经 报错 v goup goup com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset main warn com alibaba otter canal prometheus prometheus service unable to register instance exports coupon java lang illegal argument exception canal event parser must be mysql event parser at com alibaba otter canal prometheus impl parser collector register parser collector java canal prometheus jar na at com alibaba otter canal prometheus canal instance exports register canal instance exports java canal prometheus jar na at com alibaba otter canal prometheus prometheus service register prometheus service java canal prometheus jar na at com alibaba otter canal server embedded canal server with embedded start canal server with embedded java canal server jar na at com alibaba otter canal deployer canal controller process active enter canal controller java canal deployer jar na at com alibaba otter canal common zookeeper running server running monitor process active enter server running monitor java canal common jar na at com alibaba otter canal common zookeeper running server running monitor init running server running monitor java canal common jar na at com alibaba otter canal common zookeeper running server running monitor start server running monitor java canal common jar na at com alibaba otter canal deployer canal controller start canal controller java canal deployer jar na at com alibaba otter canal deployer canal launcher main canal launcher java canal deployer jar na main info c a otter canal instance spring canal instance with spring start cannal instance coupon main info c a otter canal instance core canal instance start successful set connection charset charset connection charset set connection charset string connection charset https github com alibaba canal pull shizhengchao shizhengchao lcybo shizhengchao thx
942,增加 当前 相关 信息 将 当前 信息 增加 中 客户端 中 获取 相关 值 增加 获取 对应 相关 信息 示例 时 会 存在 并发 性 会 每个 事件 实例 化 对象 事件 到来 时 对 操作 后续 无论是 串行 还是 并行 解析 都 对 这个 事件 私有 中 进行 操作 理解 串行 解析 顺序 应该 并行 解析 顺序 应该 gtid entry header gtid sequence no last committed entry trx begin end rowdata header property example gtid map string string gtid map hash map put get log decoder event log header gtid log header map put event header map get put get get get put get get get tks
941,增加 扁平 用于 消息 投递 增加 类 消息 投递 每个 会 拆分 成 对应 使用 序列 化 发送 消费 后续 将 实现 对 按 进行 拆分 需求 增加 配置 端 增加 新 属性 代表 使用 消息 投递 代表 使用 原生 消息 投递 端 增加 属性 代表 使用 消息 投递 代表 使用 原生 消息 投递 注 对 消息 投递 有效 影响 原生 消息 传输 感觉 这个 最大 差距 应该 同步 提交 使用 异步 提交 否则 封装 来看 这个 差异 应该 这么 大 呀 尝试 过 都 改成 异步 测试 吗 改成 异步 并没有 区别 很大 message kafka flat message kafka message entry flat message json kafka flat message pk hash partition server conf kafka yml flat message true true flat message false message client canal client conf canal client yml flat message true true flat message false message flat message kafka tcp message image https user images githubusercontent com e bcf b e d bb png kafka tps ok
940,生产 环境 点位 信息 没有 写 更新 没有 目录 目录 但是 更新 重启 次 都 如此 部署 另外 实例 时候 没有 报 点位 信息 全部 正常 启动 时候 报错 信息 配置 信息 配置 信息 批次 大小 单位 量 大 建议 改为 自查 遍 估计 这个 错误 发生 这个 配置 直接 空了 这个 地方 配上 然后 按 实例 增 部署 其他 都 没有 发生 问题 猜 应该 启动 过程 中 扫描 其他 代码 先后 顺序 引发 问题 destination zk zk destinaton cursor cursor canal server table id not found exception canal canal log destination ordercanalprd address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception table id not found exception not found table id caused by com alibaba otter canal parse exception table id not found exception not found table id destination ordercanalprd address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position destination ordercanalprd address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception table id not found exception not found table id caused by com alibaba otter canal parse exception table id not found exception not found table id destination ordercanalprd address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception table id not found exception not found table id caused by com alibaba otter canal parse exception table id not found exception not found table id destination ordercanalprd address event parser error com alibaba otter canal common alarm log alarm handler destination ordercanalprd com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception table id not found exception not found table id caused by com alibaba otter canal parse exception table id not found exception not found table id destination ordercanalprd address event parser error com alibaba otter canal common alarm log alarm handler destination ordercanalprd com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception table id not found exception not found table id caused by com alibaba otter canal parse exception table id not found exception not found table id canal properties binlog filter config canal instance filter druid ddl true canal instance filter query dcl true canal instance filter query dml true canal instance filter query ddl true canal instance filter table error true canal instance filter rows false canal instance filter transaction entry false table meta tsdb info canal instance tsdb enable false canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb db username canal canal instance tsdb db password canal canal instance global spring xml classpath spring instance xml instance properties canal instance gtidon false position info canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance master gtid rds oss binlog canal instance rds accesskey canal instance rds secretkey canal instance rds instance id table meta tsdb info canal instance tsdb enable false kafka yml servers retries batch size linger ms buffer memory canal k m canal batch size filter transaction entry true canal destinations canal destination ordercanalprd topic ordercanalprd partition canal destination ordercanalprd topic ordercanalprd partition canal destination ordercanalprd topic ordercanalprd partition canal destination ordercanalprd topic ordercanalprd partition canal destinations slaveid destination destination
939,发送 数据 量 产生 量 一致 这样 配置 批次 大小 单位 量 大 建议 改为 存储 过程 插入 条数 每次 都 能 消费 千 多 条 能 改 太 大 消息 体 默认 最大 能 超过 数据 所以 必须 一下 建议 可以 按 默认 需要 修改 这个 单位 字节 吗 按 字节 算 的话 改成 默认 样 情况 批次 大小 单位 试 过 参数 都 一样 情况 每次 都是 能 同步 六千六百 多 条 数据 canal kafka mysql kafka yml retries batch size linger ms buffer memory canal k m canal batch size filter transaction entry true canal destinations canal destination elample topic elample partition mysql kafka batch size kafka m canal batch size m k batch size rewerma m retries batch size linger ms buffer memory canal k canal batch size filter transaction entry true
938,fix upgrade proto to proto fix upgrade proto to proto and that test is already compatible with previous versions of the client
937,作用 版本 版本 问题 里 配置 之后 里 仍然 可以 看到 请问 怎么 处理 可以 端 除掉 问题 二 里 配置 之后 里 仍然 可以 看到 未 关注 表 相比 关注 表 未 关注 表 只是 少 请 问 能 能 做到 同步 关注 表 以此 减少 负载 问题 问题 未 生效 导致 建议 升级 再试 一下 开启 会 导致 无法 一旦 同步 出现 问题 将 可能 导致 丢 数据 甚至 批量 数据 重发 可能 做了 大量 性能 优化 之前 版本 性能 问题 应该 得到 大幅度 缓解 甚至 解决 感谢 回答 目前 应用 场景 允许 脱离 之后 尝试 一下 版本 canal instance filter transaction entry mysql canalserver canal properties canal instance filter transaction entry true canal client entry type transactionbegin transactionend server transcation instance properties canal instance filter regex canal client transactionbegin transactionend query event type dml event type canalserver binlog canalserver ps canal instance filter transaction entry true ack canal server ack
936,并发 解析 多 线程 对 更新 操作 导致 具体 错误 如下 配置 信息 计算 结果 分析 原因 一定 正确 行 对 进行 更新 其实 更新 行 这个 地方 更新 方法 中 遍历 结果 触发 行的 方法 由于 增加 但是 没有 增加 跑出 异常 解决 方法 方法 方法 多 线程 情况 需要 加锁 可以 先尝 试用 一下 版本 遇到 同样 问题 分析 原因 一致 现 先 采用 方法 测试 一下 后续 考虑 加锁 canal gtid java util concurrent modificatioin exception destination address event parser error c a o c p i mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java util concurrent modification exception null at java util array list itr check comodification array list java na at java util array list itr next array list java na at com alibaba otter canal parse driver mysql packets uuid set to string uuid set java canal parse driver jar na at com alibaba otter canal parse driver mysql packets mysql gtid set to string mysql gtid set java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql multi stage coprocessor java canal parse jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql multi stage coprocessor java canal parse jar na at com lmax disruptor work processor run work processor java disruptor jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na destination address event parser error c a o c common alarm log alarm handler destination com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java util concurrent modification exception at java util array list itr check comodification array list java at java util array list itr next array list java at com alibaba otter canal parse driver mysql packets uuid set to string uuid set java at com alibaba otter canal parse driver mysql packets mysql gtid set to string mysql gtid set java at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql multi stage coprocessor java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql multi stage coprocessor java at com lmax disruptor work processor run work processor java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java st java at java util array list itr next array list java at com alibaba otter canal parse driver mysql packets uuid set to string uuid set java at com alibaba otter canal parse driver mysql packets mysql gtid set to string mysql gtid set java at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on event mysql mu jdk preallell true parallelthread size log event convert gtid set mysql gtid set sets get sid intervals add all us intervals list mod count uuid set tostring intervals array list check comodification add all mod count execpted mod count preallell false https github com alibaba canal pull alpha mycat lulin preallell false
935,如何 指定 表 数据 分散 多个 里 或者说 如何 确认 创建 时候 就 partition partition kafka topic partition ok
934,如何 设置 张 表到 指定 这个 这个 表名 作为 就 行 了吧 topic partition message key
933,修改 配置 文件 重新 启动 实例 这个 信息 会同 步 中 吗 版本 不会 canal instance zk
932,请 问 能 拿到 单条 数据 吗 否则 发送 能 单 分区 多 分区 顺序 无法 保证 请问 发送 的话 现在 能 单 分区 发送 多 分区 顺序 能 保证 我们 希望 能 发送 不同 分区 并且 按照 进行 分区 做法 出来 遍历 出来 遍历 最后 得到 条 库 名 加 主键 值 拼出 按照 发送 条 数据 就 可以 保证 条 数据 总是 会 分区 但是 觉着 这样 效率 低 请问 之后 会 能 直接 拿到 单条 数据 方法 吗 还是 现在 就 呢 修改 代码 如下 获取 遍历 遍历 重新 封装 按照 进行 分区 发送 针对 数据 不同 分区 如果 高效 需要 构建 之前 就 完成 计算 否则 就 会 有解 压 反序 列化 问题 感谢 回复 但是 代码 能 按 批 获取 数据 反序 列化 出来 没法 直接 拆成 单条 其实 可以 这样 处理 写入 数据 作为 贴源 数据包 存在 之后 可以 做个 进行 分发 合并 等 预处理 工作 因为 无论如何 必须 要 处理 端 对 数据包 进行 解析 部分 贴源 数据 一直 包 形式 存在 中 无论 后续 数据 需要 如何 处理 贴源 数据 会 作为 基础 数据 存 服务 不同 数据 流 应用 场景 中 扩展性 会 还有 场景 需要 考虑 处理 多 组合 对 包 数据 进行 拆解 幂 等 处理 嗯 感谢 提供 思路 分层 能 更 进行 解耦 不错 方法 贴源 层 能 单 分区 预处理 分发 部分 能 单 线程 整体 性能 现在 一样 其实 现在 量 达 够 程度 只是 想 看看 更 方式 以来 大家 交流 一下 并发 打开 试 没 知 目前 数据库 多少 延迟 多 大 本来 模式 接 发现 吃力 现在 拆了 每个 接 模式 实例 单个 实例 过滤 正常 就 几十 一百多 没有 延迟 业务 有时候 会 全 表 字段 时候 会 卡 久 高 之前 没用 时候 数据 有错 端 需要 回退 然后 能 单线程 追数 追 比较 慢 所以 现在 想 使用 多 分区 之后 出 问题 或者 全 表 多线程 消费 就 快 如果 消费 逻辑 组装 数据 慢 这个 消费 性能 太 低 完全 可以 多线程 消费 事务 提交 记录 如果 次 这个 重新 开始 消费 消费 输出 需要 保证 幂等 实际上 消费 线程 池 实践 中 都 出于 饥饿 状态 阻塞 队列 没有 任务 等待 刚 开始 上线 时候 可以 考虑 这个 场景 如果 需要 保证 顺序 问题 消费 时候 做 线程 池绑 定 初始化 单 线程 线程 池 现在 就是 按照 这个 思路 处理 回溯 历史 分钟 拉 消息 消费 节点 节点 线程 池 需要 分钟 消费 完 如果 单线程 消费 遇到 大量 更新 就 傻眼 如果 能够 源头 入 时候 就 做好 数据 分发 端 就 不用 考虑 并发 顺序 问题 感谢 提供 思路 之前 没 想 过 线程 池绑 定 现在 做法 发送 时候 将 数据 拆分 成 单条 按照 发 送到 多 分区 这样 好处 消费 时候 顺序 可以 保证 二 数据 回溯 时 端 需要 操作 端 设置 消费 起始 时间 三 消费者 可以 单 实例 多 线程 可以 不同 机器 多 实例 多 线程 消费 性能 可用性 得到 保证 缺点 就是 数据 拆分 重组 部分 需要 反序 列 化再 序列 化 可能 会 成为 性能 瓶颈 目前 接入 使用 正常 最大 并发 数 没 测试 多 分区 大 问题 在于 变更 如果 业务 场景 能 规避 比较 已经 提交 多 分区 写出 方案 版本 就 会 带上 kafka kafka key hash entrys rowchange rowdata key key send kafka properties topic topic message message io exception entrys list string raw entries message get raw entries string raw entry raw entries message add entry canal entry entry parse from raw entry entrys canal entry entry entry message get entries string table name entry get header get table name canal entry row change row chage canal entry row change parse from entry get store value canal entry event type event type row chage get event type rowchange canal entry row data row data row chage get row datas list string key list canal entry column list null event type canal entry event type delete list row data get before columns list list row data get after columns list canal entry row data builder row data builder canal entry row data builder canal entry column column list column get is key key table name column get value event type canal entry event type delete row data builder add before columns column row data builder add after columns column canal entry row change builder row change builder canal entry row change builder row change builder add row datas row data builder canal entry row change row change row change builder build canal entry entry builder entry builder canal entry entry builder entry builder set header entry get header set entry type entry get entry type set store value row change to string list canal entry entry list entry array list list entry add entry builder build message message message message get id message set entries list entry rowkey hash producer record string message record record producer record string message topic get topic key message producer send record logger is debug enabled logger debug send message to kafka topic n topic get topic message to string hash protobuf canal kafka kafka sink message kafka key key wingerx undeadwing tps wingerx group mysql mysql tps update tps kafka server client kafka update client client offset zk kill offset client hash n canal server binlog w kafka client yin kafka key kafka server client kafka partition pk uk perfect ps kafka
931,空 记录 时 防止 循环 数据 过快 长了 点 如果 控制 低 延迟 可以 考虑 fix sleep s get ms binlog ms tks
930,服务 异常 考虑 升级 版本 估计 超 时 canal i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x b bba exception java io io exception connection reset by peer canal idle
929,总是 返回 如何 解析 请 问 如何 将 中 转为 正常 业务 对象 搞 清楚 先 解析 出 解析 出 message raw entries raw entries string entry row change entry change entry entry parse from raw entry row change parse from change entry get store value
928,consider add filed execute time at canal adapter common dml consider add filed execute time that s sql exactly execute time more useful sometimes solved on v
927,解决 冲突 问题 通过 插件 将 修改 包 路径 打包 进 fix guava maven guava canal client tks
926,版本 中 默认 开启 报错 信息 如下 下有 一些 初始化 文件 检查 一下 这个 文件 尝试 一下 为啥 操作 没有 生效 里 谢谢 tsdb destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception apply failed caused by org springframework jdbc bad sql grammar exception sql map client operation bad sql grammar nested exception is com ibatis common jdbc exception nested sql exception the error occurred in spring tsdb sql map sqlmap history xml the error occurred executing query check the select a id as id a gmt create as gmt create a gmt modified as gmt modified a destination as destination a binlog file as binlog file a binlog offest as binlog offest a binlog master id as binlog master id a binlog timestamp as binlog timestamp a use schema as use schema a sql schema as sql schema a sql table as sql table a sql text as sql text a sql type as sql type a extra as extra from meta history a where destination and binlog timestamp and binlog timestamp order by binlog timestamp asc id asc check the sql statement preparation failed cause org h jdbc jdbc sql exception table meta history not found sql statement select a id as id a gmt create as gmt create a gmt modified as gmt modified a destination as destination a binlog file as binlog file a binlog offest as binlog offest a binlog master id as binlog master id a binlog timestamp as binlog timestamp a use schema as use schema a sql schema as sql schema a sql table as sql table a sql text as sql text a sql type as sql type a extra as extra from meta history a where destination and binlog timestamp and binlog timestamp order by binlog timestamp asc id asc at org springframework jdbc support sql error code sql exception translator translate sql error code sql exception translator java at org springframework jdbc support fallback sql exception translator translate fallback sql exception translator java at org springframework orm ibatis sql map client template execute sql map client template java at org springframework orm ibatis sql map client template query list sql map client template java at com alibaba otter canal parse inbound mysql tsdb dao meta history dao find by timestamp meta history dao java at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by com ibatis common jdbc exception nested sql exception the error occurred in spring tsdb sql map sqlmap history xml the error occurred executing query check the select a id as id a gmt create as gmt create a gmt modified as gmt modified a destination as destination a binlog file as binlog file a binlog offest as binlog offest a binlog master id as binlog master id a binlog timestamp as binlog timestamp a use schema as use schema a sql schema as sql schema a sql table as sql table a sql text as sql text a sql type as sql type a extra as extra from meta history a where destination and binlog timestamp and binlog timestamp order by binlog timestamp asc id asc check the sql statement preparation failed cause org h jdbc jdbc sql exception table meta history not found sql statement select a id as id a gmt create as gmt create a gmt modified as gmt modified a destination as destination a binlog file as binlog file a binlog offest as binlog offest a binlog master id as binlog master id a binlog timestamp as binlog timestamp a use schema as use schema a sql schema as sql schema a sql table as sql table a sql text as sql text a sql type as sql type a extra as extra from meta history a where destination and binlog timestamp and binlog timestamp order by binlog timestamp asc id asc at com ibatis sqlmap engine mapping statement mapped statement execute query with callback mapped statement java at com ibatis sqlmap engine mapping statement mapped statement execute query list mapped statement java at com ibatis sqlmap engine impl sql map executor delegate query list sql map executor delegate java at com ibatis sqlmap engine impl sql map executor delegate query list sql map executor delegate java at com ibatis sqlmap engine impl sql map session impl query list sql map session impl java at org springframework orm ibatis sql map client template in sql map client sql map client template java at org springframework orm ibatis sql map client template in sql map client sql map client template java at org springframework orm ibatis sql map client template execute sql map client template java more caused by org h jdbc jdbc sql exception table meta history not found sql statement select a id as id a gmt create as gmt create a gmt modified as gmt modified a destination as destination a binlog file as binlog file a binlog offest as binlog offest a binlog master id as binlog master id a binlog timestamp as binlog timestamp a use schema as use schema a sql schema as sql schema a sql table as sql table a sql text as sql text a sql type as sql type a extra as extra from meta history a where destination and binlog timestamp and binlog timestamp order by binlog timestamp asc id asc at org h message db exception get jdbc sql exception db exception java at org h message db exception get db exception java at org h message db exception get db exception java at org h command parser read table or view parser java at org h command parser read table filter parser java at org h command parser parse select simple from part parser java at org h command parser parse select simple parser java at org h command parser parse select sub parser java at org h command parser parse select union parser java at org h command parser parse select parser java at org h command parser parse prepared parser java at org h command parser parse parser java at org h command parser parse parser java at org h command parser prepare command parser java at org h engine session prepare local session java at org h engine session prepare command session java at org h jdbc jdbc connection prepare command jdbc connection java at org h jdbc jdbc prepared statement init jdbc prepared statement java at org h jdbc jdbc connection prepare statement jdbc connection java at com alibaba druid pool druid pooled connection prepare statement druid pooled connection java at com ibatis sqlmap engine execution sql executor prepare statement sql executor java at com ibatis sqlmap engine execution sql executor execute query sql executor java at com ibatis sqlmap engine mapping statement mapped statement sql execute query mapped statement java at com ibatis sqlmap engine mapping statement mapped statement execute query with callback mapped statement java table meta history not found conf ddl agapple canal conf spring tsdb sql create table sql debug init table meta history dao init table agapple
925,如何 确定 同步 完成 使用 示例 程序 会 持续 获取 发送 协议 获取 端 数据 然后 进行 更新 处理 发现 似乎 程序 同步 完 数据 没有 结束 处于 待机 状态 而是 持续不断 地 重复 次 同步 数据 例如 主库 新增 条 记录 按 处理 流程 备库 增加 条 按照 一般 逻辑 此时 客户端 完成 同步 应 处于 待机 状态 直 主库 新 更新 进行 同步 示例 程序 展示 持续 否断 地 重复 之前 同步 数据 请问 需要 进行 什么 参数 设置 吗 另外 版本 对 操作 仅 输出 语句 似乎 没有 对 备库 进行 相应 操作 不知 情况 是否 属实 先 谢谢 同行 解答 example dump master binlog canal example ddl eventype sql ddl thread warn com alibaba otter canal example db canal connector client parse event query sql create table xgeom id not null auto increment location point not null x timestamp not null current timestamp primary key id spatial key sp index location engine my isam auto increment charset utf ignored thread info com alibaba otter canal example db canal connector client transaction begin binlog mysql bin execute time delay ms close issue
924,整 张 表 无限 循环 报错 错误 信息 如下 解析 信息 消息 一直 增长 日志 全部 上面 这个 问题 基本上 查明 过滤 事务 头尾 设置 之后 如果 没有 点位 信息 起始 天 前 刚好 做 大批量 更新 就 会 无限 循环 报错 问题 关键 点 应该 这个 设置 需要 位点 更新 使用 不能 将 设置 正解 update no match ack position log position pool thread error com alibaba otter canal kafka producer canal kafka starter no match ack position log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id gtid timestamp sql update t order shop set modify time now binlog filter config canal instance filter druid ddl true canal instance filter query dcl true canal instance filter query dml true canal instance filter query ddl true canal instance filter table error true canal instance filter rows false canal instance filter transaction entry true binlog batch id count memsize time start mysql bin end mysql bin kafka binlog mysql bin canal instance filter transaction entry true true zk timestamp canal instance filter transaction entry true true canal instance filter transaction entry true ls
923,怎么 解决 宿主 机 访问 绑 定的 啊 使用 模式 时 注册 容器 网络 比如 里 绑 定的 地址 那么 客户端 访问 啊 而且 能 直接 写 成宿 主机 会 报错 可以 考虑 模式 docker ip docker canal zookeeper ip docker ip docker canal server com alibaba otter canal protocol exception canal client exception java net connect exception connection timed out connect at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl simple canal connector access simple canal connector java at com alibaba otter canal client impl simple canal connector process active enter simple canal connector java at com alibaba otter canal client impl running client running monitor process active enter client running monitor java at com alibaba otter canal client impl running client running monitor init running client running monitor java at com alibaba otter canal client impl running client running monitor start client running monitor java at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl cluster canal connector connect cluster canal connector java at com fcbox canal scheduling scheduler task run scheduler task java caused by java net connect exception connection timed out connect at sun nio ch net connect method at sun nio ch net connect net java at sun nio ch net connect net java at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal client impl simple canal connector connect simple canal connector java common frames omitted warn cluster canal connector java failed to connect to after retry times canal ip ip docker host
922,关于 设置 问题 版本 问题 现象 中 意思 订阅 数据库 开头 表 这样 没 问题 但是 代码 时 修改 其它 数据库 表 比如 修改 数据库 表 客户端 还是 能 接收 消息 消息 只有 虽然 两 消息 并不 想要 但是 还是 希望 要 收到 其它 数据库 修改 垃圾 消息 垃圾 消息 如下 想 表达 问题 的确 能 达到 预期 效果 但是 其它 数据库 消息 收到 增 删改 就 会 收到 消息 虽然 没有 增删 改 消息 想 收到 两 消息 什么 办法 能 解决 参数 可以 关闭 过 滤掉空 事务 头 尾 里面 只有 其他 全部 可以 改为 这里 可以 这个 意思 就 事务 头尾 过滤 这个 配置 就是 默认 产生 语句 过滤 掉 也就是 日志 改为 模式 还是 会 条 语句 谢谢 canal instance filter regex agapple mysql canal instance filter regex cms rc cms rc debug test entry type transactionbegin transactionend header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name table name event length entry type transactionbegin store value canal instance filter regex cms rc schema entry type transactionbegin transactionend canal properteis true false https github com alibaba canal wiki admin guide canal instance filter transaction entry true canal instance filter query dcl true canal instance filter query dml true canal instance filter query ddl true canal instance filter table error true sql binlog row entry type query sql yin agapple
921,设置 更新 要 随意 设置 会 导致 状态 更新 canal instance filter transaction entry true zk cusor canal instance filter transaction entry true type com alibaba otter canal protocol position log position identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp canal instance filter transaction entry zk
920,数据 过滤 问题 配置 白 名单 还是 能 收到 其他 表 信息 见 如下 打印 canan kafka canal instance filter regex easy ip civil user phone table sys user logfile mysql bin entry rowdata event type query sql update sys user set login date where id faq
919,升级 之后 使用 老 版本 客户端 是否 可以 读取 数据 估计 行 这个 升级 兼容 可以 读取 数据 测试 可以 连 fix upgrade protobuf version upgrade protobuf version cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub protobuf protobuf cliet tks
918,新 旧 版本 是否 兼容 出来 之后 打算 升级 老 版本 由于 对 实时 性 要求 较 高 能 停服 考虑 想要 平滑 升级 新 版本 配置 相同 老 版本 共同 注册 关掉 老 版本 节点 新 版本 抢占 处理权 再上 新 版本 疑问 步骤 时候 新老 版本 能 兼容 吗 文档 说 可以 完全 兼容 v snapshot config zk server
917,数据库 密码 支持 加密 可以 考虑 根据 自己 需求 扩展 覆盖 掉 canal instance db password properties resolver
916,集群 搭建 启动 报错 连接 连接 端口号 弄错 zookeeper canal session x server null unexpected error closing socket connection and attempting reconnect java net connect exception connection refused at sun nio ch socket channel impl check connect method na at sun nio ch socket channel impl finish connect socket channel impl java na at org apache zookeeper client cnxn socket nio transport client cnxn socket nio java zookeeper jar at org apache zookeeper client cnxn send thread run client cnxn java zookeeper jar canal properties canal id canal zk servers canal instance global spring xml classpath spring instance xml canal zookeeper
915,关于 主备 切换 两 问题 望 指教 中 设置 备用 库 主 库宕机 切 备用 库 之后 主库 恢复 备用 库宕 机 能 切回 主库么 是否 支持 从而 关注 物理 节点 切换 会 主动 主库 支持 模式 切换 备库 以后 回退 数据 重复 问题 怎么 解决 主 键么 如果 修改 主键 怎么 办 例如 源端 操作 源 端 目标 端 数据库 都 条 数据 现在 此时 主库 切换 备库 回退 日志 重 做 步骤 成功 失败 主键 冲突 此时 目标 库 就 变成 两 条 数据 数据 不一致 源 端 可以 考虑 使用 遇到 主键 冲突 拆 mysql canal canal vip rds vip agapple tks s insert id update id where id id s id id insert merge sql update delete before pk merge insert pk
914,数据库 密码 支持 加密 密码 这个 密码 支持 加密 密码 目前 支持 可以 考虑 提交 给我 canal instance db password pr
913,异常 场景 测试 导致 操作 系统 内存 泄漏 模拟 文件 内容 跌断 对 文件 删除 一部分 数据 发送 解析 文件 时 异常 异常 持续 长 时间 会 导致 内存 泄漏 操作 系统 日志 最终 导致 操作 系统 最后 能 重启 系统 自己 检查 一下 所需要 内存 参数 机器 内存 是否 机器 内存 使用 默认 内存 会 不停 创建 线程 数量 达到 时 系统 就 没法 分配 内存 会 抛 异常 最终 导致 整个 系统 参数 使用 默认值 创建 大量 线程 如下 新 已经 修复 v cannot allocate memory my sql binlong binlog canal dump binlog fatal error pthread create failed cannot allocate memory agapple jvm match agapple g canal agapple canal canal java lang out of memory error unable to create thread jvm multi stage coprocessor other example multi stage coprocessor other example multi stage coprocessor parse example multi stage coprocessor parse example master https github com alibaba canal pull
912,集成 异常 版本 太 低 集成 貌似 可以 解决 修改 原 代码 解决 使用 自定义 下午 对于 进行 次 缓存 避免 内部 使用 多 使用 新 方式 替代 以前 旧 旧的 集成 问题 其他 原 代码 省略 未 做 修改 说 里面 都 使用 地方 其中 旧 依赖 地方 加上 标签 看看 能 能 解决 行 啊 依赖 旧 版本 用上 新 的话 其中 类 里 过时 方法 已经 移 除了 想 统一 新版本 行 通 啊 所以 现在 修改 里面 源码 将 过期 方法 替换 成 新 方式 使用 版本 依赖 版本 版本 差异 比较 大 谨慎 使用 替换 成功 可以 提交 兄弟 后来 用的 版本 哪个 版本 就 修改 源码 引入 根本 能 能 重新 方法 避免 修改 源码 现在 主要 问题 高 版本 使用 当前 中 依赖 提 中 方法 这个 方法 中 已经 移 除了 所以 想 修改 原码 的话 需要 使用 版本 大概 想到 解决 方法 就 这个 直接 里面 显示 依赖 就 可以 了么 就是 这么 解决 canal springboot guava springboot guava java lang no such method error com google common collect map maker make computing map lcom google common base function ljava util concurrent concurrent map at com google common collect migrate map make computing map migrate map java canal common jar na at com alibaba otter canal common zookeeper zk clientx clinit zk clientx java canal common jar na at com alibaba otter canal client kafka kafka canal connector init kafka canal connector java classes na at com alibaba otter canal client kafka kafka canal connectors kafka connector kafka canal connectors java classes na at com louxun search service sync data to es job sync house data to es sync data to es job java classes na at com louxun search listener startup listener on application event startup listener java classes na at com louxun search listener startup listener on application event startup listener java classes na at org springframework context event simple application event multicaster invoke listener simple application event multicaster java spring context release jar release at org springframework context event simple application event multicaster invoke listener simple application event multicaster java spring context release jar release at org springframework context event simple application event multicaster multicast event simple application event multicaster java spring context release jar release at org springframework context support application context publish event application context java spring context release jar release at org springframework context support application context publish event application context java spring context release jar release at org springframework context support application context finish refresh application context java spring context release jar release at org springframework boot web servlet context servlet web server application context finish refresh servlet web server application context java spring boot release jar release at org springframework context support application context refresh application context java spring context release jar release at org springframework boot web servlet context servlet web server application context refresh servlet web server application context java spring boot release jar release at org springframework boot spring application refresh spring application java spring boot release jar release at org springframework boot spring application refresh context spring application java spring boot release jar release at org springframework boot spring application run spring application java spring boot release jar release at org springframework boot spring application run spring application java spring boot release jar release at org springframework boot spring application run spring application java spring boot release jar release at com louxun search search application main search application java classes na exclusion com alibaba otter canal common zookeeper java util map com google common cache cache builder com google common cache cache loader com google common cache loading cache org i itec zkclient i zk connection org i itec zkclient zk client org i itec zkclient exception zk exception org i itec zkclient exception zk interrupted exception org i itec zkclient exception zk no node exception org i itec zkclient exception zk node exists exception org i itec zkclient serialize zk serializer org apache zookeeper create mode com google common base function com google common collect migrate map zoo keeperx zk connection author jianghang version zk clientx zk client bug zkclient jvm zk connection map string zk clientx clients migrate map make computing map function string zk clientx zk clientx apply string servers zk clientx servers guava springboot loading cache string zk clientx clients cache builder builder build cache loader string zk clientx zk clientx load string servers zk clientx servers pom guava exclusion canal guava guava canal guava canal spring spring boot spring x pr panjianping canal springboot gezhiwei canal springboot canal zk clientx java dubbo panjianping panjianping canal gezhiwei spring boot guava canal zk clientx java guava guava spring x pom guava dependency group id com google guava group id artifact id guava artifact id version version dependency
911,最新 部署 无法 启动 调试 源码 也是 同样 异常 求 关注 我们 环境 里 无法 重试 尝试 一下 什么 条件 canal kafka tar main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually use d com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string com alibaba otter canal parse inbound mysql mysql e vent parser set connection charset java nio charset charset main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main error com alibaba druid pool druid data source test idle is true validation query not set main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just las t position identity slave id source address address my slave port postion gtid included false journal name mysql bin position server id timestamp thread info c a otter canal instance core canal instance stop cannal instance null example destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy parse events has an error com alibaba otter canal parse exception canal parse exception dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception should execute connector connect first caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na thread info c a otter canal instance core canal instance stop successful debug mysql connection disconnect
910,如何 某些 数据 导入 集群 目前 已经 集群 台 客户端 台 数据 更新 情况 如何 能 中 现 有的 某些 表 数据 导入 集群 中 呢 谢谢 数据 更新 情况 这个 前提 不符合 工作 原理 可能 无法 满足 需求 可以 看看 或者 可以 满足 明白 谢谢 canal mysql redis redis canal mysql redis canal yugong data x
909,如何 中 处理 云 服务器 问题 大小 网 问题 中 注册 云 服务器 内网 对应 大网 服务器 地址 其他 这样 导致 以及 必须 部署 同一 云 服务器 网段 中 无法 使用 大 网段 进行 访问 种 特殊 网络 没 设计 考虑 范畴 能否 计划 支持 类似 情况 进行 网络 段位 过滤 机制 每个 自己 人肉 设置 对应 可以 考虑 提交 给我 v canal zookeeper ip ip canal zookeeper ip x ip x x canal zookeeper client agapple agapple zuul canal server ip pr
908,问题 为什么 启动 服务 生成 文件 生成 文件 没 大 神 解释 一下 文件 默认 会 写到 这个 才 写本 地 正解 meta bat meta bat h mv db h mv db canal instance global spring xml classpath spring instance xml zk canal instance global spring xml classpath spring file instance xml meta bat ls
907,里面 报错 感觉 主动 关闭 example wrapper simple app main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties wrapper simple app main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties wrapper simple app main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string wrapper simple app main info c a otter canal instance spring canal instance with spring start cannal instance example wrapper simple app main info c a otter canal instance core canal instance start successful canal instance scan info c a otter canal instance core canal instance stop cannal instance null example destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy parse events has an error com alibaba otter canal parse exception canal parse exception dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java net socket exception socket closed caused by java net socket exception socket closed at java net socket input stream socket read method na at java net socket input stream socket read socket input stream java na at java net socket input stream read socket input stream java na at java net socket input stream read socket input stream java na at java io buffered input stream fill buffered input stream java na at java io buffered input stream read buffered input stream java na at java io buffered input stream read buffered input stream java na at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql query executor read next packet mysql query executor java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection load binlog format mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection get binlog format mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na canal instance scan info c a otter canal instance core canal instance stop successful caused by com alibaba otter canal parse exception canal parse exception java net socket exception socket closed caused by java net socket exception socket closed
906,版本 启动 异常 无法 检测 数据库 变动 检查 一下 数据库 destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception eof encountered caused by java io io exception eof encountered at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql query executor read next packet mysql query executor java at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception eof encountered
905,是否 支持 多 订阅 者 模式 请 问 是否 支持 多 订阅 者 模式 每个 订阅 者 维持 不同 支持 需要 多 订阅 者 可以 将 数据 写入 canal mark ack mq
904,版本 启动 一直 死 循环 对象 版本 启动 一直 甚至 这个 属于 这个 版本 存在 问题 还是 使用 姿势 问题 配置 方面 使用 集成 方式 不管 没 下来 进程 消耗 基本上 一直 样子 看看 哪个 线程 占 高 然后 看看 哪个 类 方法 引起 现在 部署 压测 环境 没有 任何 下载 情况 部署 台云机 核心 机器 求 大佬 解决 啊 线程 来看 就是 进入 死 循环 对象 区 启动 分钟 次 昨晚 十点 启动 现在 次 只有 启动 初始化 因为 次 记录 就 运行 中 没有 正常 拉取 时候 线程栈 信息 如下 大佬 这个 问题 帮忙 看看 啊 估计 未设置 时间 针对 空 结果 时 相当于 无限 循环 跑了 可以 优化 一下 修改 提交 不过 有点 奇怪 这边 设 一直 无线 循环 取 数据 没 问题 正常 这边 收集 器 canal server destination cpu events canal server cpu canal instance global spring xml classpath spring instance xml kafka binlog canal server cpu top hp pid cpu jstack binlog destination cpu pool thread prio os prio tid x fdee afa nid x runnable x fde cce java lang thread state runnable at com alibaba otter canal store model events init events java at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded get events canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java locked x a com alibaba otter canal instance spring canal instance with spring at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java dump events jstat m eden ygc ygc fgc stw ygc binlog filter config canal instance filter druid ddl true canal instance filter query dcl true canal instance filter query dml true canal instance filter query ddl true canal instance filter table error true canal instance filter rows false canal instance filter transaction entry false canal instance global spring xml classpath spring instance xml binlog pool thread prio os prio tid x f ae d nid x e e runnable x f a java lang thread state runnable at com alibaba otter canal store helper canal event utils create position canal event utils java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java locked x f a com alibaba otter canal instance spring canal instance with spring at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java pool thread prio os prio tid x f ae d nid x e d runnable x f a java lang thread state runnable at com google common collect map maker internal map segment get entry map maker internal map java at com google common collect computing concurrent hash map computing segment get or compute computing concurrent hash map java at com google common collect computing concurrent hash map get or compute computing concurrent hash map java at com google common collect map maker computing map adapter get map maker java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java pool thread prio os prio tid x f ae d nid x e c runnable x f a a java lang thread state runnable at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java locked x a d a com alibaba otter canal instance spring canal instance with spring at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java rewerma canal kafka starter worker sleep sleep cpu jdk g
903,错误 信息 问题 应该 中 文件 中的 日志 文件 中 文件 最新 文件 之前 做法 直接 删除 文件 重新 开始 同步 但是 会 丢失 数据 运行 段 时间 会 出现 问题 请问 大佬们 怎么 解决 会 基于 一定 策略 根据 时间 如果 消费 慢 里 就 清理 种 情况 考虑 提升 整体 吞吐量 应该 由于 表 结构 改变 导致 服务 一直 卡 这里 请问 什么 方法 可以 跳 过去 吗 针对 种 表 结构 改变 情况 怎么 处理 呢 现在 手动 修改 中 跳过 升级 新 版本 大佬 这个 问题 怎么 解决 望 赐教 本地 使用 版本 但是 还会 出现 望 大佬 赐教 解决 办法 could not find first log file name in binary log index file main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful destination example address xxxxx event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address xxxx port postion included false journal name mysql bin position server id timestamp destination example address xxxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxxx event parser error c a otter canal parse inbound mysql mysql event parser dump address xxxxx has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxxx event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java meta dat binlog show master status meta dat mysql bin client datas client identity client id destination example filter cursor identity slave id source address address xxxx p port postion included false journal name mysql bin position server id timestamp destination example show master status mysql bin meta dat mysql master sweep binlog size meta dat log destination example address xxx event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception column size is not match table skstandard tbl lyqbbcqqjdt u m vs meta dat position https github com alibaba canal wiki table meta tsdb column size is not match table column size is not match table
902,并行 解析 没有 初始化 中 fix bug gtid log context gtid set tks
901,使用 客户端 消费 出现 乱码 踬 遇到 相同 问题 发送 数据包 可见 字符串 客户端 接收 需要 反序 列 化解 包 参考 kafka binlog b mysql bin utf b kafka message client kafka
900,端 代码 调整 kafka server
899,数据 消费 段 无法 拉取 新 数据 确定 不断 更新 使用 最新 版本 检查 一下 端 是否 报错 端 出现 异常 看到 自动 重新 信息 然后 就读 不到 数据 次 出现 异常 消费 停止 版本 使用 无需 确认 模式 出现 上面 问题 使用 模式 就 没有 问题 先 考虑 升级 一下 版本 canal client db image https user images githubusercontent com e ae e a b c d d png server image https user images githubusercontent com d e b c e bf bba de ae png server client subscribe client image https user images githubusercontent com fad e b d e b a e d png mysql get without ack get ack canal
898,输出 乱码 按照 配置 中 全 乱码 请问 需要 那里 调整 数据 投递 传输 数据包 哦 收到 数据 要 解包 成 对应 参考 中 实现 中 改 相应 配置 参数 中 插入 新 记录 命令 可以 看到 投递 过来 数据包 乱码 运行 没有 收到 数据包 canal kafka cent os linux release core el x jdk jdk u linux x tar gz zookeeper zookeeper tar gz kafka kafka tgz canal kafka canal kafka tar gz my sql log https github com alibaba canal wiki canal kafka quick start kafka bin kafka console consumer sh bootstrap server topic example d mysql binlog utf bjp mysql binlog utf bjph mysql binlog utf b test j t p x b c pb id b ri e b r a cha d y bi g utf bjp y bi g utf bjpi y bi g utf beca d j c a ca d e e g ptx b c pb kafka message client kafka kafka client kafka test java mysql bin kafka console consumer sh zookeeper topic canal from beginning kafka client running test java
897,源码 中 入口 启动 一直 报 异常 连接 没有 问题 同样 配置 入口 启动 没有 问题 canal canal kafka destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java net socket exception socket closed caused by java net socket exception socket closed at java net socket output stream socket write socket output stream java na at java net socket output stream write socket output stream java na at com alibaba otter canal parse driver mysql socket bio socket channel write bio socket channel java classes na at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java classes na at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java classes na at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java classes na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java classes na at com alibaba otter canal parse inbound mysql mysql connection load binlog format mysql connection java classes na at com alibaba otter canal parse inbound mysql mysql connection get binlog format mysql connection java classes na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java classes na at com alibaba otter canal parse inbound event parser run event parser java classes na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java net socket exception socket closed caused by java net socket exception socket closed at java net socket output stream socket write socket output stream java at java net socket output stream write socket output stream java at com alibaba otter canal parse driver mysql socket bio socket channel write bio socket channel java at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql mysql connection load binlog format mysql connection java at com alibaba otter canal parse inbound mysql mysql connection get binlog format mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java mysql mysql canal socket closed caused by java net socket exception socket closed
896,修复 快于 当前 时间 代码 来看 没有 情况 基本 就是 不同 步 时间 较 快 现在 修改 这种 情况 里 会 着重 修改 说明 exec time canal delay data points wingerx data points mysql host canal server ntp mysql delay wiki tks
895,数据 一致性 问题 如果 设置 多 如何 保证 数据 一致性 有序性 无论 还是 都 能 单 分区 全 局 有序 单分区 有序 如果 表 之间 要 没有 强 关联 可以 单个 表 分区 保证 单表 有序 好像 听说 项目 作者 可能 正在 实现 多个 分区 表 保证 顺序 知道 是否 真的 理论 觉得 如果 张 索引 表 按 时间 排序 先 读取 索引 表 读 真正 数据 就 可以 实现 读取 放在 多 分区 数据 canal kafka partition canal kafka rocketmq hash canal binglog
894,张鑫 张鑫 fix index name contains on keyword cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
893,创建 或者 删除 时 如果 名称 中 包含 字符串 那么 解析 名称 会 出现 错误 比如 由于 中 包含 此时 解析 处理 名 修正 方法 中 前后 必须 出现 次 多 次 源码 中是 改为 其实 应该 移 除掉 这个 支持 不了 其它 复杂 场景 index index on table create index schema index version s idx on tb email auth status version on table s idx com alibaba otter canal parse inbound mysql ddl simple ddl parser string create index pattern s create s unique fulltext spatial s index s s on s string drop index pattern s drop s index s s on s on s simpparser deprecate
892,间隔 时间 kafka client keep alive
891,持久化 频率 问题 测试 重 连 时 修改 时间 发生 更新 数据 还是 没变 测试 由于 测试 问题 导致 没有 更新 导致 如果 此时 重启 读取 还是 旧 持久化 旧 消费 版本 存在 这个 问题 次 消费 都 更新 canal deployer cursor client meta dat position server cursor client position issue canal alpha alpha client curosr https github com alibaba canal issues
890,并行 解析 没有 初始化 中 没有 初始化 中 中 当前 会 覆盖 掉 中 历史 若干 组合 下次 重 启 报错 基于 当前 主干 代码么 基于 这个 七 锋 然后 并行 解析 两 并行 解析 模式 开启 会 导致 解析 错误 并行 解析 模式 开启 会 导致 解析 错误 如果 之前 存储 多 集合 并且 有的 已经 掉 容易 复现 出来 gtid log context gtid set log context gtid set put gtid gtid log event log event log event null string gtid log event get sid to string log event get gno gtid set null gtid log event get sid to string log event get gno gtid set mysql gtid set parse gtid gtid set update gtid event server gtid zk cursor gtid set server start end dump release commit commit dd b ce b b e c ade tag canal author jianghang loujh alibaba inc com date mon aug maven release plugin prepare release canal cherry pick gtid bug fix commit ca fa ccb d ca c c b e a author winger winger gmail com date sat aug fix bug gtid commit b cbea fe e c author winger winger gmail com date sat aug fix bug gtid zk position gtid mysql master purged
889,启动 报错 权限 问题 解决 感谢 大佬 发自 网易 邮箱 大 师 年 月 日 写道 大佬 修改 表 结构 出现 异常 将 打开 还是 不行 麻烦 大佬 给予 赐教 一下 文档 canal example log destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation agapple notifications github com closed you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread canal column size is not match table xx ddl table meta tsdb
888,作用 端 定义 监测 整 库 客户端 其中 某个 表 但是 这个 库里 其他 表 还是 会 同步 过来 这个 为什么 没 起到 过滤 作用 呢 多看 connector subscribe xxx canal instance filter regex fid standard product server connector subscribe fid standard product fid stock report connector subscribe faq
887,运行 发生 错误 运行 发生 错误 这个 应该 服务器 端 重启 导致 现在 服务器 端的 配置 请 问 为什么 会 发生 重启 怎样 能 控制 服务 端 发生 重启 遇到 异常 时 重新 一下 次 就 可以 一下 样例 工程 canal ack canal ack ack error client id batch id is not exist please check instance canal instance get ddl isolation false destinations canal destinations db conf root dir canal conf dir conf auto scan instance dir add remove and start stop instance canal auto scan false canal auto scan interval canal instance global mode spring canal instance global lazy false instance instance ack rollback example
886,canal
885,关于 设置 请问 目前 是否 支持 对应 张 表 设置 对应 初步 代码 目前 似乎 支持 对应 设置 多个 数据 会 发往 设置 所有 目前 支持 kafka topic mysql kafka topic destination topic topic destination topic
884,通过 过滤 通过 程序 什么 不同 吗 实际 使用 中 监听 库 中 张 表 怎么 配 性能 会 更 一点 望大佬 指教 多 看下 canal instance filter regex java connector subscribe canal wiki
883,当监 听到 第一 次 变化 时 报错 后来 都 没 问题 网络 异常 会 自动 重试 canal log event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java net socket exception connection reset caused by java net socket exception connection reset at java net socket input stream read socket input stream java na at java net socket input stream read socket input stream java na at java io buffered input stream fill buffered input stream java na at java io buffered input stream read buffered input stream java na at java io buffered input stream read buffered input stream java na at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql query executor read next packet mysql query executor java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java net socket exception connection reset caused by java net socket exception connection reset
882,错误 日志 错误 日志 其实 需要 监听 如果 配置 过滤 要 怎么 做 配置 下面 吗 具体 做 什么 没 看懂 先 升级 最新 进行 测试 alpha canal parse inbound mysql tsdb memory table meta parse faield canal instance tsdb enable false canal instance gtidon false destination platform data address ip event parser warn c a otter canal parse inbound mysql tsdb memory ta ble meta parse faield create table t bill details bill id bigint not null key idx bd city store city key block size key idx bd detail id detail id key block size key idx bd sd bill sale date key block size key idx bd sss bill status store city bill sale date store id key block size key idx store id store id key block size key idx bd status bill status bill sale date key block size engine inno db charset utf mb row format compressed key block size com alibaba fastsql sql parser parser exception syntax error error in id key block size key idx b expect rparen actual identifier pos line column token identifier key block size at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql parser accept sql parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql create table parser parse create table my sql create table parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql statement parser parse create my sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache parse table meta table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse snapshot jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination platform data address ip event parser error com alibaba otter canal common alarm log alarm hand ler destination platform data com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta platform data tmp presto e f bc ec ae cade bc caused by com google common util concurrent unchecked execution exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta platform data tmp presto e f bc ec ae cade bc at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by com alibaba otter canal parse exception canal parse exception fetch failed by table meta platform data tmp presto e f bc ec ae cade bc caused by java io io exception error packet error number field count message table platform data tmp presto e f bc ec ae cade bc doesn t exist sql state s sql state marker with command desc platform data tmp presto e f bc ec ae cade bc at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java dml canal instance filter druid ddl true canal instance filter query dcl true canal instance filter query dml false canal instance filter query ddl true canal instance filter table error true canal instance filter rows false canal instance filter rows wiki
881,并行 解析 模式 开启 会 导致 解析 错误 fix bug gtid tks
880,日志 解析 失败 说 全面 支持 吗 为啥 还有 这个 错 参数 配 但是 貌似 没 作用 啊 删除 清理 掉 使用 时间戳 定位 aliyun rds could not find first log file name in binary log index file rds canal instance rds accesskey binlog offest binlog
879,为什么 指定 里 张 表 但是 里面 就 名 表名 设置 这个 但是 里面 解析 名 表名 先 看下 确认 是否 生效 kafka schema canal instance filter regex db shopdog test deli order kafka schema wiki filter
878,对 表 进行 过滤 作用 如何 配置 监视 数据库 中 指定 张 表 变化 多 里 这个 需求 知道 怎么 做 需要 监控 库里面 三 张 表 里面 里 打不 开 多 里 这个 需求 知道 怎么 做 需要 监控 库里面 三 张 表 里面 里 打不 开了 instance properties canal instance filter regex wiki faq github wiki faq wiki faq github wiki faq
877,如何 配置 监听 更新 状态 插入 删除 都 监听 可以 根据 自己 过滤 多谢 大佬 指点 发自 网易 邮箱 大 师 年 月 日 写道 可以 根据 自己 过滤 canal canal entry event type xiaokangzhao notifications github com canal entry event type you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread
876,整合 kafka server client tks
875,启动 报错 望 大 佬们 指点 升级 最新 canal log canal i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x d exception java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java
874,主从 同步 延时 大概 多久 没 相关 性能 测试 报告 啊 比如 数据 量多 大 时候 延迟 比较 大 多看 监控 wiki perfomance
873,单核 环境 创建 线程 池 会 出错 难怪 最近 比较 多 反馈 线程 池 创建 失败 问题 这么 多 规格 虚拟机 啊 as title cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr chuanyi li l seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr chuanyi li l seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
872,合并 合并 canal server client canal kafka server canal kafka client canal server client canal kafka server canal kafka client
871,为什么 传输 那里 显示 全 乱码 配置 都 按照 文档 字符集 传到 序列化 数据 客户端 收到 会 反序 列 化为 kafka mysql utf mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshel mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p x rows count pa bd r mysql bin utf bjp xshell xshell xshell xshell mysql bin utf bjpk w mysql bin utf btest he jb p xb rows count pa bd r mysql bin utf bjp kafka message message
870,监听 多 数据库 应该 如何 配置 多看 canal mysql wiki
869,占 用率 高 线程 中 调用 未使用 参数 最新 已经 修复 canal kafka preview canal kafka starter cpu canal kafka starter worker get without ack timeout pool thread prio os prio tid x facb b nid x fe runnable x fac d b java lang thread state runnable at com alibaba otter canal server embedded canal server with embedded is start canal server with embedded java at com alibaba otter canal server embedded canal server with embedded check start canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java
868,无限 循环 错误 日志 配置 批次 大小 单位 量 大 建议 改为 第一 次 成功 解析 然后 就 出现 这个 问题 使用 官方 里 读取 第一 次 插入 数据 能 解析 之后 就 报错 日志 如下 一直 换 端口 使用 初步 估计 应该 问题 版本 写入 写入 如果 覆盖 就 没有 楼上 问题 问题 我们 关注 一下 版本 这里 遇到 无限 错误 问题 错误 关键 日志 见 上面 加粗 部分 次 调试 之后 周多 没有 使用 次 启动 就 报错 误 清空 重启 问题 依旧 这个 错误 看到 过 不过 找 对应 日志 数据库 实例 换 其他 测试 库 清空 启动 时候 就 没有 出现 这个 错误 然后 重新 数据库 实例 换到 原来 出 问题 这个 设置 当前 时间 怀疑 问题 引起 设置 当前 时间 为了 跳过 问题 启动 果然 没有 报错 想 错误 复现 改回 出 问题 之前 时间 点 清空 但是 错误 没有 再次 出现 想 定位 出 导致 这个 错误 原因 到底 什么 以后 生产 中 才 能够 避免 或者 解决 掉 请 大佬 赐教 这个 到底 什么 问题 啊 担心 上线 出现 问题 住 就 完蛋 求大佬 指点 版本 上面 报错 试 要 参考 使用 默认 就好 这样 解决 canal kafka canal kafka starter process error kafka n n zk n n n canal n destination example address n event parser warn c a o c p inboun d mysql rds rds binlog event parser proxy find start position entry position included false journal name mysql bin position server id null gtid null timestamp null main info com alibaba otter canal kafka producer canal kafka starter start the kafka wo rkers main info com alibaba otter canal kafka producer canal kafka starter the kafka workers is running now pool thread info com alibaba otter canal kafka producer canal kafka starter start t he canal consumer example pool thread info com alibaba otter canal kafka producer canal kafka starter the can al consumer example is running now pool thread error com alibaba otter canal kafka producer canal kafka starter process er ror java lang null pointer exception null at com alibaba otter canal store helper canal event utils create position canal event utils java canal store jar na at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffe r java canal store jar na at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffe r java canal store jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java canal kafk a jar na at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java canal kafka jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na pool thread error com alibaba otter canal kafka producer canal kafka starter process er ror java lang null pointer exception null at com alibaba otter canal store helper canal event utils create position canal event utils java canal store jar na at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffe canal properties common argument canal id canal ip canal port canal metrics pull port canal zk servers n n n flush data to zk canal zookeeper flush period canal without netty true flush meta cursor parse position to file canal file data dir canal conf dir canal file flush period memory store ring buffer size should be math pow n canal instance memory buffer size memory store ring buffer used memory unit size kb canal instance memory buffer memunit meory store gets mode used memsize or itemsize canal instance memory batch mode memsize detecing config canal instance detecting enable false canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting sql select canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable false support maximum transaction size more than the size of the transaction will be cut into multiple transactions delivery canal instance transaction size mysql fallback connected to master should fallback times canal instance fallback interval in seconds network config canal instance network receive buffer size canal instance network send buffer size canal instance network so timeout binlog filter config canal instance filter druid ddl true canal instance filter query dcl true canal instance filter query dml false canal instance filter query ddl true canal instance filter table error false canal instance filter rows false canal instance filter transaction entry true binlog format image check canal instance binlog format row statement mixed canal instance binlog image full minimal noblob binlog ddl isolation canal instance get ddl isolation false parallel parser config canal instance parser parallel true concurrent thread number available processors suggest not to exceed runtime get runtime available processors canal instance parser parallel thread size disruptor ringbuffer size must be power of canal instance parser parallel buffer size table meta tsdb info canal instance tsdb enable true canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb db username canal canal instance tsdb db password canal rds oss binlog account canal instance rds accesskey canal instance rds secretkey destinations canal destinations example conf root dir canal conf dir conf auto scan instance dir add remove and start stop instance canal auto scan true canal auto scan interval canal instance tsdb spring xml classpath spring tsdb h tsdb xml canal instance tsdb spring xml classpath spring tsdb mysql tsdb xml canal instance global mode spring canal instance global lazy false canal instance global manager address canal instance global spring xml classpath spring memory instance xml canal instance global spring xml classpath spring file instance xml canal instance global spring xml classpath spring instance xml kafka yml servers n n retries batch size linger ms buffer memory canal k m canal batch size filter transaction entry true canal destinations canal destination example topic example partition example instance properties mysql server id v will auto gen canal instance mysql slave id enable gtid use true false canal instance gtidon false position info canal instance master address n canal instance master journal name canal instance master position canal instance master timestamp canal instance master gtid rds oss binlog canal instance rds accesskey canal instance rds secretkey canal instance rds instance id table meta tsdb info canal instance tsdb enable false canal instance tsdb url jdbc mysql canal tsdb canal instance tsdb db username canal canal instance tsdb db password canal canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp canal instance standby gtid username password canal instance db username root canal instance db password root canal instance connection charset utf table regex canal instance filter regex test table black regex canal instance filter black regex insert into table binlog canal example simple canal client test batch id count memsize time start mysql bin end mysql bin binlog mysql bin name test ar tmp event type insert execute time gtid delay ms id type update true name a type varchar update true price type update true time type datetime update true process error com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x e exception java lang null pointer exception at com alibaba otter canal store helper canal event utils create position canal event utils java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel simple channel handler message received simple channel handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util thread renaming runnable run thread renaming runnable java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na at com alibaba otter canal example canal client test run canal client test java classes na at java lang thread run thread java na process error com alibaba otter canal protocol exception canal client exception failed to subscribe with reason something goes wrong with channel id x fda da exception java lang null pointer exception at com alibaba otter canal store helper canal event utils create position canal event utils java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded subscribe canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel simple channel handler message received simple channel handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util thread renaming runnable run thread renaming runnable java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java at com alibaba otter canal client impl simple canal connector subscribe simple canal connector java classes na at com alibaba otter canal client impl simple canal connector subscribe simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na at com alibaba otter canal example canal client test run canal client test java classes na at java lang thread run thread java na process error com alibaba otter canal protocol exception canal client exception failed to subscribe with reason something goes wrong with channel id x c b f exception java lang null pointer exception at com alibaba otter canal store helper canal event utils create position canal event utils java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded subscribe canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel simple channel handler message received simple channel handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util thread renaming runnable run thread renaming runnable java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java at com alibaba otter canal client impl simple canal connector subscribe simple canal connector java classes na at com alibaba otter canal client impl simple canal connector subscribe simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na at com alibaba otter canal example canal client test run canal client test java classes na at java lang thread run thread java na process error com alibaba otter canal protocol exception canal client exception failed to subscribe with reason something goes wrong with channel id x db e exception java lang null pointer exception at com alibaba otter canal store helper canal event utils create position canal event utils java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get first position memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded subscribe canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java spring file instance xml destination dir meta dat alpha meta dat client datas client identity client id destination local mysql filter cursor identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp destination local mysql meta dat client datas client identity client id destination local mysql filter destination local mysql alpha meta dat npe main info com alibaba otter canal kafka canal server starter the canal server is running now main info com alibaba otter canal kafka producer canal kafka starter load kafka configurations main info com alibaba otter canal kafka producer canal kafka starter start the kafka workers main info com alibaba otter canal kafka producer canal kafka starter the kafka workers is running now pool thread info com alibaba otter canal kafka producer canal kafka starter start the canal consumer ordertest canal instance scan warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset canal instance scan info c a o canal deployer monitor spring instance config monitor auto notify reload ordertest successful destination ordertest address yunjitest mysql rds aliyuncs com event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status destination ordertest address yunjitest mysql rds aliyuncs com event parser warn c a o c p inbound mysql rds rds binlog event parser proxy find start position entry position included false journal name mysql bin position server id null gtid null timestamp null pool thread info com alibaba otter canal kafka producer canal kafka starter the canal consumer ordertest is running now pool thread error com alibaba otter canal kafka producer canal kafka starter process error java lang null pointer exception null at com alibaba otter canal store memory memory event store with buffer calculate size memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal server embedded canal server with embedded get events canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java canal kafka jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na pool thread info com alibaba otter canal kafka producer canal kafka starter the canal consumer ordertest is running now pool thread error com alibaba otter canal kafka producer canal kafka starter process error java lang null pointer exception null at com alibaba otter canal store memory memory event store with buffer calculate size memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java canal store jar na at com alibaba otter canal server embedded canal server with embedded get events canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java canal server jar na at com alibaba otter canal kafka producer canal kafka starter worker canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter access canal kafka starter java canal kafka jar na at com alibaba otter canal kafka producer canal kafka starter run canal kafka starter java canal kafka jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na spring xml instance xml npe canal server zk at com alibaba otter canal store helper canal event utils create position canal event utils java zk timestamp binlog binlog timestamp zk npe hold pool thread info com alibaba otter canal kafka producer canal kafka starter the canal consumer example is running now pool thread error com alibaba otter canal kafka producer canal kafka starter process error java lang null pointer exception null image https user images githubusercontent com a d c e b a d e c png canal kafka cat canal properties wiki canal instance global spring xml classpath spring memory instance xml canal instance global spring xml classpath spring file instance xml canal instance global spring xml classpath spring instance xml image https user images githubusercontent com e a d e d ddd e png reopened but closed again just because github was down yesterday which i think is ms stealling user s data
867,遇到 进行 大批量 操作 时候 客户端 就 会 报错 客户端 处理 速度 慢 超过 超时 时间 升级 试试 客户端 太 慢 导致 超时 报错 mysql com alibaba otter canal protocol exception canal client exception java io io exception broken pipe at com alibaba otter canal client impl simple canal connector ack simple canal connector java at com adups canal canal handler handler canal handler java at com adups canal canal client run canal client java at java lang thread run thread java caused by java io io exception broken pipe at sun nio ch file dispatcher impl write method at sun nio ch socket dispatcher write socket dispatcher java at sun nio ch io util write from buffer io util java at sun nio ch io util write io util java at sun nio ch socket channel impl write socket channel impl java at java nio channels channels write fully impl channels java at java nio channels channels write fully channels java at java nio channels channels access channels java at java nio channels channels write channels java at java nio channels channels writable channel impl write channels java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector ack simple canal connector java common frames omitted ack
866,版本 监听 数据库 变动 时 端 报 异常 望 大佬 指教 遇到 同样 问题 知道 楼主 没 解决 刚才 在给 开发 大佬 发 邮件 说 看看 是否 里 修改 过 参数 配置 并没 修改 等待 回复 年 月 日 写道 遇到 同样 问题 知道 楼主 没 解决 问 问题 单核 环境 跑 可能 稍后 就 改 设成 可以 先 绕 过去 感谢 大佬 成功 如果 多 核 环境 这个 就 不用 设置 多 核 不用 感谢 大佬 膜拜 如果 监视 多 服务器 变化 需要 配置 多个 监视 地址 还是 配置 多个 呢 年 月 日 写道 多 核 不用 大佬 真是 打扰 时间 麻烦 帮我 解决 问题 我们 中 配置 文件 开启 模式 而且 运维师 开启 相关 操作 权限 但是 启动 后查 新 日 志 仍然 报错 提示 没 权限 麻烦 大佬 给予 指点 多谢 大佬 赐教 邮箱 签名 网易 邮箱 大师 定制 年 月 日 写道 感谢 大佬 膜拜 如果 监视 多 服务器 变化 需要 配置 多个 监视 地址 还是 配置 多个 呢 年 月 日 写道 多 核 不用 检查 大佬 真是 打扰 时间 麻烦 帮我 解决 问题 我们 中 配置 文件 开启 模式 而且 运维师 开启 相关 操作 权限 但是 启动 后查 新 日 志 仍然 报错 提示 没 权限 麻烦 大佬 给予 指点 多谢 大佬 赐教 邮箱 签名 网易 邮箱 大师 定制 年 月 日 写道 感谢 大佬 膜拜 如果 监视 多 服务器 变化 需要 配置 多个 监视 地址 还是 配置 多个 呢 年 月 日 写道 多 核 不用 建议 里面 修改 监控 自己 这个 要 数据库 发现 时候 即使 超级 用户 提示 权限 不足 估计 内建 库 权限 足 超级 账号 还是 对 库 部分 表 权限 需要 过滤 掉 库 canal deployer server destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy find start position entry position included false journal name mysql bin position server id gtid null timestamp destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by java lang illegal argument exception null at java util concurrent thread pool executor init thread pool executor java na at java util concurrent thread pool executor init thread pool executor java na at java util concurrent executors fixed thread pool executors java na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang illegal argument exception at java util concurrent thread pool executor init thread pool executor java at java util concurrent thread pool executor init thread pool executor java at java util concurrent executors fixed thread pool executors java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal properties from dcein platypus notifications github com you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread bug canal instance parser parallel false lcybo canal mysql canal instance standby address mysql canal instance master address lcybo notifications github com you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread linux mysql row canal example destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation dcein dcein com dcein canal mysql canal instance standby address mysql canal instance master address lcybo notifications github com you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread you need at least one of the replication client privilege s mysql grant linux mysql row canal example destination example address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status destination example address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation dcein dcein com dcein canal mysql canal instance standby address mysql canal instance master address lcybo notifications github com you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread example instance properties canal instance filter regex instance rds rds mysql mysql
865,数据 同步 适配 数据 同步 外部 适配器 会 打包 fix h base h base client launcher tks
864,程序 启动 运行 段 时间 就 一直 报 这个 错 次 超时 就 会 掉 然后 重试 接着 超时 一直 样子 死 循环 重启 没有 但是 删除 掉 能够 正常 运行 段 时间 之后 会报 超时 错误 实在 能 理解 很多 文件 没有 消费 情况 为什么 读 数据 花 都 读 完 遇到 相同 问题 同仁 吗 换 版本 试试 如果 环境 能 经常 建议 里面 这个 调用 真的 看了 实现 通过 查看 返回 值 是否 因此 就算 能 读到 都 算 超时 不好意思 笔误 写成 实际 用的 就是 但是 换到 就 会 存在 种 情况 试 一下 不过 我们 线上 哈 谢谢 这里 读 都 会 启动 会报 这个 错 这边 会 种 情况 就 字节 会 报错 代码 应该 读 协议 时候 会 字节 试过 改成 过 但是 一样 报错 如果 确认 调用 可以 考虑 网络 问题 查看 网卡 有无 挤占 情况 里面 测试 用例 线上 跑过 相同 文件 然后 相同 跑 时候 完全 没有 问题 所以 应该 网络 原因 说 测试 用例 吗 测试 用例 里 线上 使用 其实 一致 看来 要 考虑 外 因素 canal bio socket channel timeout destination zaful address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion gtid included false journal name binlog position server id timestamp destination zaful address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name binlog position server id gtid timestamp destination zaful address event parser error c a o canal parse inbound mysql dbsync direct log fetcher socket timeout expired closing connection java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination zaful address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination zaful address event parser error com alibaba otter canal common alarm log alarm handler destination zaful java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java fetch kill mysql connection meta dat binlog kb s fangchunsheng reproduce bio socket channel read bio socket channel java debug input read data off n len n timeout ps openjdk timeout poll select agapple lcybo ok openjdk timeout example java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination centos address event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination centos address event parser error com alibaba otter canal common alarm log alarm handler destination centos java net socket timeout exception timeout occurred failed to read bytes in milliseconds at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java nerverbe head ms ms socket input stream read timeout dump connection lcybo canal dump binglog position fangchunsheng mysql dump test mysql event parser parser socket channel mysql event parser agapple
863,程序 中 设置 报错 直接 查询 当前 位置 运行 直接 报错 太 应该 开始 master position mysql event parser java binlog param mysql connection entry position find end position mysql connection mysql connection entry position end position entry position my bin value of l end position cmd destination example address event parser info c a o c p d mysql mysql connector kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java classes na at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java classes na at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java classes na at com alibaba otter canal parse inbound event parser run event parser java classes na low l
862,版本 配置 说明 详 版本 按照 配置 方法 配置 其他 参考 独立 配置 消费 没有 输出 这边 没有 日志 反馈 需要 特别 配置 吗 直接 模块 里 启动 模块 启动 启动 先 观察 没 发送 数据 里面 刚 文件 目录 都 一样 启动 时候 就是 会 输出 数据 问 怎么 解决 报错 没有 日志 输出 就 消费 不到 数据 参考 文档 如有 文档 明确 可以 修改 反馈 kafka wiki canal kafka deploy wiki kafka xml canal kafka console canal canal server deploy target canal bin kafka target canal bin server kafka release canal kafka workers is running now kafka client kafka https github com alibaba canal wiki canal kafka rocket mq quick start
861,指标 配置 项 改为 取 参数 升级 配置 监控 监控 页面 中发 现名 原因 在于 面板 配置 文件 中 名 配置 项 写成 固定 值 修改 取 参数 就 可以 正常 显示 多谢 client qps datasource prometheus datasource canal grafana client qps panel canal instances canal instances tmpl json client qps panel datasource prometheus datasource panel cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr lixiang seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
860,集群 模式 如何 共享 端 如何 指定 呢 篇 文章 提供 下面 方法 场景 模式 比如 使用 作为 服务 管理 此处 至少 指定 多数派 列表 如果 多 共享 那么 每个 需要 使用 唯一 本机 测试 启动 就 直接 报错 如果 原生 不支持 是否 就 只有 通过 部署 多 套 隔离 多 集群 呢 这个 要 带 遇到 这个 问题 现在 设计 貌似 能 套 支持 套 集群 套 注册 路径 能 修改 吗 本身 就 支持 集群 模式 启动 完成 会 节点 信息 启动 如果 相同 名称 会 目录 里面 节点 信息 因为 已经 中 所以 这个 节点 会 拉 取 挂 会 通知 获取 信息 变为 里面 信息 会 没 端直 管 连接 对应 多 时 通过 调度 实现 问题 已经 解决 之前 问 这个 问题 属于 对 不熟悉 引起 zk canal client zk production ha zk zk node ip canal cluster zk canal rootpath canal zk servers canal g canal zk servers localhost canal g something goes wrong when starting up the canal server java lang illegal argument exception path length must be zk canal server canal g zk canal server ha canal server zk canal a canal server zk destination running b canal server a canal server destination zk destination cluster a running binlog a canal server zk b binlog running b canal server cluster a client destination zk destination name client zk ha canal
859,能 提供 相关 内部 设计 文档 吗 能 提供 相关 内部 设计 文档 吗 都 里 里 貌似 比较 旧 没有 这里 收到 多谢 wiki wiki prometheus https github com alibaba canal wiki
858,中 中 属性 什么 时候 初始化 呢 具体 复现 办法 还有 自己 改造 过 代码么 改到 过 代码 直接 继承 多谢 这样 就 初始化 log event convert java table meta cache null table meta cache java mysql event parser table meta cache
857,新增 模块 外部 数据 落地 适配器 总 入口 外部 数据 落地 适配器 总 入口 后续 适配 数据 同步 client launcher h base es
856,端 肯定 或者 重启 行为 按照 工程 重新 errot code canal snapshot i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x ae ccbc exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x e exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x eecb exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x e e d exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x b d d exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x b e exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check server instance rollback example subscibe get ack
855,展示 层 先 去掉 remove tps events in tmpl tps events
854,根据 改进 进 基本上 一致 不同 分为 仔细 考虑 一下 还是 保留 主要 区别 在于 专注 处于 状态 时 可以 通过 刷新 尤其是 后两者 偏向 文档 稍后 更新 理解 一下 主要 指 最后 次 接收 当前 时间 差值么 针对 时 通过 更新 最后 次 接收 数据 时间戳 这个 计算 其实 我们 对 进入 计数 并不 原始 计数 举 例子 来说 都会 两 条 这个 会 记录 条 对 通过 目前 次 理解 元 数据 这个 看来 意义 大 comments comments delay master put get ack master server mysql master delay master delay put get ack master delay server mysql mysql idle delta binlog heartbeat delay put get ack client delay master delay binlog binlog heartbeat expr rate canal instance store consume seq destination destination m binlog events tps event store binlog mysql binlog mysql dml table log event write log event consume seq write log event master delay s master heartbeat table log event table map tps events thx
853,修复 启动 时 没 读到 带 时 出 现 年 修复 增加 更新 一些 图 exec time delay bug template
852,解析 字段 值 匹配 大佬 看看 呗 行 取到 里边 可以 看到 解析 字段 值 原库 不符 甚至 类型 都 对 原库 解析 发生 变更 比如说 原表 条 但是 没有 消费 如果 原 表 做 那么 消费 之前 数据 就 会 发生 种 情况 种 情况 可以 开启 避免 后面 类似 问题 当前 能 跳过 指 什么 呢 不了解 之前 记得 种 情况 啊 改 表 结构 没 出现 过 这个 问题 canal image https user images githubusercontent com e d a e da png rowchange date ddl wingerx insert canal ddl canal tsdb tsdb wingerx
851,端 检测 只是 检测 读 写 通道 阻塞 时间 订阅 关系 建立 没有 提供 纯粹 心跳 检测 方法 能 端 能 发送 请求 才 能 证明 自己 活着 如果 消费 速度 过慢 超时 就 会 端 关闭 连接 可否 增加 单纯 心跳 检测 实现 短期 内 先 调 大 超时 时间 canal sever client heartbeat server idle socket client server canal connector server get server socket
850,语句 无法 解析 正常 语句 端 解析 出错 无法 跳过 目前 想到 暂时 解决 办法 手动 目标 库 执行 然后 往后 移 备注 信息 解析 问题 alter mysql alter server offset destination xxxx address xxxx event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield alter table loan withdraw record add column remark varchar null comment after is remind limit algorithm inplace lock none com alibaba fastsql sql parser parser exception syntax error expect tables or table actual eq pos line column token at com alibaba fastsql sql dialect mysql parser my sql statement parser parse statement list dialect my sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse query event log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na shterm session timeoutotter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na fastsql
849,支持 一下 同步 目前 作为 大 数据 领域 比较 广泛 方案 之一 期望 能 提供 基于 增量 同步 能力 canal hbase hbase canal hbase
847,开启 报 这个 什么 原因 啊 那个 版本 错误 这个 版本 好几 版本 还是 不要 使用 问题 这个 版本 报的 错误 遇到 同样 问题 需要 设置 当时 这个 参数 配置 成为 多少 默认 值 原 配置 文档 行 注释 掉 遇到 问题 求 帮助 最新 版本 解决 server dump address has an error destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang illegal argument exception null at java util concurrent thread pool executor init thread pool executor java na at java util concurrent thread pool executor init thread pool executor java na at java util concurrent executors fixed thread pool executors java na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang illegal argument exception at java util concurrent thread pool executor init thread pool executor java at java util concurrent thread pool executor init thread pool executor java at java util concurrent executors fixed thread pool executors java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java alpha alpha alpha alpha alpha alpha alpha alpha canal instance parser parallel thread size canal instance parser parallel thread size
846,客户端 偶尔 频发 报错 客户端 偶尔 频发 报 以上 错误 中 检查 服务 端 没有 报错 正常 客户端 会 频发 报错 如果 自我 恢复 的话 检查 一下 当时 是否 发生 过 切换 或者 退出 怎么 检查 呢 中 检查 结果 结果 种 情况 频率 有些 多 虽然 可以 重试 成功 出现 种 问题 问题 啊 目前 场景 两 实例 两 实例 中 配置 一模一样 中 日志 中 没有 报错 只是 中 检查 不到 节点 信息 出现 肯定 退出 行为 需要 检查 日志 v alpha no alive canal server com alibaba otter canal protocol exception canal client exception no alive canal server at com alibaba otter canal client impl cluster node access strategy next node cluster node access strategy java zookeeper get otter canal destinations example running active true address xxx xxx xxx xxx cid client canal server agapple canal server agapple zookeeper get otter canal destinations example running node does not exist otter canal destinations example running get otter canal destinations sample running node does not exist otter canal destinations sample running canal server example sample canal deployer log zookeeper no alive canal server canal server server
845,流量 补上 包头 长度 直接 放到 add header size each packet client md wiki
844,加上 防止 次 都会 运行 过 大会 卡 邮件 能 联系 一下 邀请 加入 一起 共 建 logger is debug enabled message to string message cpu tks jianghang gmail com canal collaborators rewerma
843,能 确保 数据 丢失 如果 数据 推送 崩溃 另外 没有 及时 落 盘 数据 丢失 是否 丢失 可能 如果 奔溃 前 没有 落 盘 设计 问题 肯定 会 丢失 数据 需要 手工 重新 回来 数据 进行 补充 数据 canal rocksmq canal rocksmq rmq mq flush canal rocksmq binlog rmq flush mq ok agapple
842,正式 版 什么 时候 发布 呢 版本 都 进行 不见 版本 啊 直接 转为 预计 两 周 会 正式 v v alapa v release release
841,起始 文档 等 全部 完成 会 放到 里面 天 晚上 都 会 更新 部分 确保 周能 搞定 由于 目前 工作 已经 脱钩 能 晚上 回家 抽 时间 弄 进度 请 见谅 谢谢 可以 直接 写到 里 啊 这里 create canal prometheus docs wiki canal wiki https github com alibaba canal wiki
840,升级 版本 赞 kafka
839,debug memory leak cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
838,嵌入式 无法 获取 之前 版本 可以 对 性能 进行 优化 对 处理 方式 进行 修改 嵌入式 可以 参考 中 对 数据 处理 方式 恩恩 就是 新版 信息 都 放到 里 通过 可以 获取 完整 信息 谢谢 canal preview server entries https github com alibaba canal releases tag canal preview entries server https github com alibaba canal blob master client src main java com alibaba otter canal client impl simple canal connector java l message list string raw entries message get raw entries result add entry entry parse from string
837,修复 内存 泄漏 增加 修复 中 内存 泄漏 问题 接口 中 增加 最大 长度 参数 使得 能够 控制 获取 大 长度 优化 使用 场景 中 请求 超出 问题 代码 先 合并 一下 无效 分支 改动 有点 多 问题 代码 已经 可以 精确 控制 内存 大小 需要 额外 控制 其次 业务 可以 选择 模式 会 根据 数据 大小 判断 是否 走 还是 文件 下载 我们 业务 太 适合 使用 文件 下载 方式 所以 对 基于 过 大 问题 进行 改造 内存 泄漏 问题 你们 看下 memory event store with buffer max batch size memory event store with buffer clean until position position canal store exception line next sequence next max sequence next canal event store batch otter batch rpc dubbo max payload cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub master otter payload canal master batch batch size otter payload auto rpc http http rpc pay load
836,merge cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
835,修复 内存 泄漏 增加 修复 中 内存 泄漏 问题 接口 中 增加 最大 长度 参数 使得 能够 控制 获取 大 长度 优化 使用 场景 中 请求 超出 问题 memory event store with buffer max batch size memory event store with buffer clean until position position canal store exception line next sequence next max sequence next canal event store batch otter batch rpc dubbo max payload cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
834,关于 问题 文档 中 指出 通过 模拟 自己 交互 进行 订阅 解析 假如 开启 是否 能 交互 从而 实现 相关 功能 提出 这个 原因 考虑 目前 我们 物理 机子 性能 比较 差 然后 之前 没有 模式 所以 想 咨询 是否 能 开 然后 直接 通过 进行 订阅 解析 谢谢 可以 对 来说 就 master slave bin log canal slave master bin log slave bin log canal slave master bin log row slave bin log canal slave canal slave master lcybo thx
833,增加 端口 配置 如题 store buffer size metrics server
832,大佬 这个 以后 会 支持 条件 筛选 吗 比如说 同步 张 表 数据 但是 想 全部 同步 过去 想 做 一些 筛选 类似于 后面 定义 一些 条件 符合 条件 才 同步 过去 里面 写 代码 做 数据 过滤 where client
831,没 打算 升级 想 做 客户端 连接 可以 提交 上来 可以 做 升级 google protocol buffer c canal server pr got it
830,中 字段 能 做到 毫秒 精度 里面 字节 精度 秒 entry header execute time binlog timestamp
829,请问 里面 数据库 配置 有啥 区别 啊 记得 配置 里面 干嘛 啊 还有 这个 啊 帮帮忙 啊 老哥 块 新版 本会 换成 新 方案 可以 看一下 example instance properties rds properties instance properties rds properties canal instance tsdb db username https github com alibaba canal issues
828,性能 指标 采集 指标 列表 单位 毫秒 精度 毫秒 接收 数量 接收 数量 变更 行数 列表 订阅 数量 模式 阻塞 时间 单位 毫秒 精度 纳秒 接收 字节 数 是否 模式 请求 数量 发送 字节数 发送 空包 数量 错误 请求 数量 请求 情况 线程 阻塞 时间 单位 毫秒 精度 纳秒 生产 序号 消费 序号 配合 使用 基本 信息 生产 占用 总量 消费 占用 总量 待 补充 端口 目前 晚上 提交 撞车 所以 有些 冲突 文件 版本 后续 会 补充 表达式 视化 相关 文档 将 端口 等 参数 配置 等等 请 一下 谢谢 大赞 问 一下 这个 注释 目前 监控 信息 获取 方式 还是 建议 监控 这块 指标 概念 以及 基于 指标 定位 问题 能 罗列 一下 后续 大家 都 可以 共享 提交 比较 大 和我 这边 一些 提交 撞车 需要 留意 看看 是否 覆盖 次 提交 主要 解决 阿里云 删的 问题 会 自动 衔接 套 机制 以后 对接 类 云 基本 障碍 本来 用于 现在 去掉 目前 监控 信息 获取 方式 端口 其他 配置 后续 会 配置 文件 里 指标 概念 会 连同 表达式 写 包括 一些 视化 内容 赞赞赞 canal canal instance traffic delay master delay canal instance transactions transaction canal instance row events rowdata entry canal instance rows counter canal instance instance canal instance subscriptions instance canal instance publish blocking time parallel pushlish canal instance received binlog bytes binlog canal instance parser mode parser parallel canal instance client packets client instances packets canal instance client bytes client instances canal instance client empty batches client instances canal instance client request error client instances canal instance client request latency latency canal instance sink blocking time sink put store canal instance store produce seq entry canal instance store consume seq entry canal instance store produce seq canal instance store store canal instance store produce mem entry mem canal instance store consume mem entry mem httpserver rds merge protoc prometheus test cases review metrics opts jmx http rds rds rds binlog oss binlog mysql binlog rds metrics opts javaagent http job name canal configs targets localhost md commit develop guide
827,merge master updates cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark agapple br white check mark lcybo br x lin br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
826,增加 刷新 增加 使用 编译 使用 中 统计 变更 行数 metrics support heartbeat delay mheartbeat event type version protoc canal entry pair rows count cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br white check mark agapple br white check mark wingerx br white check mark lcybo br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
825,下面 已经 删掉 编译 问题 remove dirty test source com alibaba otter canal parse inbound mysql tablemeta test tks
824,如何 控制 事物 内 消费 顺序 如何 控制 事物 内 消费 顺序 有时候 往往 先 拿到 事件 拿到 事件 拿到 顺序 就是 数据 库里 记录 顺序 client insert update client insert update client update insert client binlog
823,解析 结果 版本 解析 中 错误 应该 改为 否则 会 这一 行 报 取的 而非 测试 出来 结果 吗 哥们 这里 出来 这样 版本 那边 不一致 可以 测 出来 可能 这边 测 出来 一致 那边 版本 哪里 获取 哥 弄错 连到 另外 数据库 额 版本 占用 这么 久 时间 不好意思 版本 目前 暂 支持 打扰 关 table meta cache parse table meta by desc desc table null pointer mysql desc table packets key string column name column name string column type column type string is nullable is nullable string column key column key string column column string extra extra string column name field string column type type string is nullable null string column key key string column string extra extra null pointer meta set column name packet get field values get name maps get column name i size intern mysql select version version cdb log row in set sec mysql desc test test field type null key extra id yes null row in set sec image https user images githubusercontent com b a bd e f dccbc e a png original name name npe image https user images githubusercontent com ac bd e de a bdb c png packet mysql system out println packet ut https dev mysql com doc refman en columns table html image https user images githubusercontent com a a ac be e c b eb png image https user images githubusercontent com ad b fbe be e e bad d c png mysql connection ok issue
822,fix table meta storage npe
821,如图 时 值 后续 就 最新 提交 已经 去掉 npe mysql event parser table meta cache with storage table meta storage factory null storage null null pointer exception at com alibaba otter canal parse inbound mysql tablemeta table meta cache with storage init table meta cache with storage java image https user images githubusercontent com ccadbde b a e ab dfdb png master table meta storage factory ok
820,支持 吗 以上 版本 完全 支持 还是 说 某些 功能 支持 问题 没 更高 版本 使用 过 童鞋 我们 现在 使用 没 发现 问题 canal my sql
819,性能 监控 改动 版 代码 先 开发 分支 里 最近 有些 别的 事要 忙 进度 有点 慢 抱歉 目前 进度 简单 过 后面 天 回家 会 抓紧 自己 先 测试 一些 备忘 扩展 增加 状态 刷新 扩展 头 增加 计数 否则 能 通过 反序 列化 拿到 关于 条 想 询问 意见 条 划掉 已经 里面 canal merge metrics support debug todo list entry protocol master heartbeat idle delay entry protocol header row data agapple pair cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark wingerx br white check mark lcybo br white check mark agapple br white check mark qmz br x chuanyi li l br hr chuanyi li l seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
818,模式 数据库 进行 主从 切换 切换 会报 如下 异常 目前 使用 解决 方式 将 就 可以 进行 正常 切换 模式 数据库 进行 主从 切换 切换 会报 如下 异常 目前 使用 解决 方式 将 就 可以 进行 正常 切换 主要 原因 里 依赖 里 变量 定义 主备 切换 时 异步 现场 操作 值 空 导致 ha canal instance tsdb enable true canal master standby canal instance tsdb enable false ha canal instance tsdb enable true canal master standby canal instance tsdb enable false destination orderfailover address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination orderfailover address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination orderfailover address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position orderfailover druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null java sql sql exception connect error url driver org h driver at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar destination orderfailover address event parser error com alibaba otter canal common alarm log alarm handler destination orderfailover com alibaba otter canal parse exception canal parse exception can t find start position orderfailover druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null java sql sql exception connect error url driver org h driver at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null java sql sql exception connect error url driver org h driver at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null java sql sql exception connect error url driver org h driver at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null java sql sql exception connect error url driver org h driver at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null h tsdb xml system canal instance destination
817,启动 失败 中 验证 没有 问题 环境 启动 失败 知 问题 请 下载 最新 canal alpha os cent os linux release canal canal alpha mac linux java stack caused by com alibaba otter canal parse exception canal parse exception java lang illegal argument exception limit excceed caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get uint log buffer java canal parse dbsync snapshot jar na at com taobao tddl dbsync binlog event gtid log event init gtid log event java canal parse dbsync snapshot jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync snapshot jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync snapshot jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor simple parser stage on event mysql multi stage coprocessor java canal parse snapshot jar na alpha
816,移 除 依赖 需要 加入 依赖 移至 fix ci fixed compiler java fix ci fixed compiler java canal instance spring druid mysql connector property placeholder configurer canal instance spring db tks
815,模式 查看 启 两 台 开启 高 可用 配置 如下 但是 不小心 删除 现在 还是 正常 接收 解析 但是 已经 没法 更新 中 信息 请 问 一下 不小心 误删 除了 能 查到 当前 数据 会 记录 次 消费 模式 没有 记录 只有 非 时候 才 会 记录 配置 问题 吗 canal ha position canal server ha zk active canal binlog zk position zk zk instance position common argument canal id canal ip canal port canal zk servers canal zookeeper flush period canal file data dir canal conf dir canal file flush period canal instance memory buffer size canal instance memory buffer memunit logs meta log ha logs meta log ha meta log ha
814,为了 解决 回 追 数据 时 当前 不匹配 对 提供 持久化 接口 根据 匹配 历史 我们 储存 实现 中 进行 数据库 操作 组装 放入 没有 实现 退化 原始 代码 冲突 麻烦 先 合并 一下 主干 代码 这个 功能 什么 区别 实现 解析 当时 日志 时 反查 一下 数据库表 结构 做 一下 映射 记录 相比 问题 在于 拿到 时 进行 反 查表 结构 此时 表 结构 当时 对应 结构 时间 会 不一致性 可以 最新 实现 没 细看 实现 逻辑 描述 感觉 就 实现 功能 拿到 时 尝试 调用 解析 功能 其实 次 都 数据库 查 主要 功能 差不多 想 持久化 功能 放到 本身 实现 持久化 建议 里 实现 能力 提交 重新 修改 支持 使用 对应 schema history storage otter rowdata schema table meta timestamp schema mysql otter manager canal embed selector factory canal properties storage table meta cache cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark payonxp br x yfpeng br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr yfpeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub payonxp tsdb ddl timestamp table meta tsdb binlog ddl ddl gap canal https github com alibaba canal wiki table meta tsdb agapple tsdb binlog ddl tsdb tsdb otter canal otter storage pr otter table meta tsdb https github com alibaba canal commit e bc f f e cef c f otter commit https github com alibaba otter commit cc da aab c aa b b b aa a f thx
813,中 剥离 相关 同步 实现 作为 参考 非常 赞 fix otter my sql example
812,链接 失效 相关 资料 阿里巴巴 配合 使用 连接 失效 知识 科普 介绍 第二 链接 失效 设计 详细 信息 请 参考 连接 已经 存在 其他 连接 已经 修复 可以 说 十分 效率 赞 赞 原谅 强迫症 里面 关于 连接 未 更 改 修复 wiki home rocket mq wiki introduction mysql binlay log event parser binlog event structure page not found taobaodba blog tks wingerx readme md rocket mq https github com apache rocketmq
811,后面 会 提交 最新版 尽快 一下 哈 就 这个 先 关了 change com alibaba fastsql version to the last on http central mave solve the bug of issue cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub fastsql deploy
810,fix bug kafka get row data performance tks
809,按照 代码 做 一下 重试 处理 canal ack error i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x cec exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java example
808,时候 报错 请问 这个 怎么 解决 谢谢 并没有 对外 开放 另外 配置 仓库 中心 里面 包 com alibaba fastsql fastsql jar preview mvn clean install error failed to execute goal on project canal parse could not resolve dependencies project com alibaba otter canal parse jar snapshot could not find artifact com alibaba fastsql fastsql jar preview in central http repo maven org maven help preview preview maven http central maven org maven preview release jar
807,模式 一些 微调 增加 本地 文件 方式 适配 模式 使用 本地 存储 位点 信息 修正 默认值 修正 参数 名 调整 会 历史 版本 兼容性 问题 单词 拼写 问题 以前 发现 能 做 变动 除非 兼容 老 方法 明白 重置 一下 提交 目前 这个 只是 对 模式 适配 一下 可以 使用 本地 文件 存储 位 点 数据 避免 目前 方式 时 生产 环境 必须 使用 默认 配置 类似 参数 对 应于 新增 参数 instance with manager canal parameter meta mode manager instance meta dat typo batch mode canal parameter set get pr manager file mixed meta manager meta dat manager zookeeper file instance xml canal parameter data dir meta file flush period tks
806,支持 模式 默认 获取 当前 值 作为 起始 值 gtid gtid tks
805,关于 设置 请问 设置 日志 读取 位置 需要 设置 中 就 行 里 呢 为什么 中 一样 呢 到底 哪个 生效 集群 使用 默认 通过 管理 位点 信息 所以 这里 无效 针对 模式 中 位点 位点 关系 为例 中 位点 中 存在 时 启动 位点 中 为准 没有 通过 取 最新 位点 信息 中 存在 位点 信息 时 中 记录 为准 所以 正常 数据 同步 情况 位点 中 配置 位点 不同 通过 其来 实现 断点 续传 能力 尝试 删除 位点 信息 重新 生成 按照 说法 应该 同步 中 位点 信息 设置 过了 但是 没有 这个 原因 可能 出在 哪里 呢 中 配置 启动 时 找 位点 有关 中 记录 端 消费 成功 时 位点 并不 说 中 配置 某位点 信息 就 会 同步 更新 成 这个 位点 position instance proerties joural name position meda dat instance proerties instance xml zk instance xml zk meda dat meda dat file instance xml instance properties zk instance xml zk canal instance properties show master status zk zk zk instance properties canal wingerx zk instance properties instance properties zk client ack instance properties zk
804,如何 处理 中 数据 类型 求 大 神 请教 中 如何 处理 中 数据 类型 网上 查找 资料 如下 不知道 是否 正确 将 中 值 序列 化成 格式 下游 程序 因此 格式 数据 序列 化成 时 为了 节省 空间 强制 使用 作为 编码 因此 如下 情况 会 造成 中文 乱码 同步 服务 使用 编码 字段 中 存储 中文 字符 作者 链接 來源 简 书 简 书 著作权 归 作者 所有 任何 形式 转载 都 请 联系 作者 获得 授权 注明 出处 求 大 神 指导 按照 进行 反解 谢谢 指导 但是 将 类型 字段 使用 反解 编码 时 仍然 乱码 字段 内容 使用 进行 反解 代码 如下 请教 大 神 如何 方法 原始 还是 爪机 没 办法 确认 能 讲的 详细 点 吗 大 神 没有 方法 应该 这里 就 已经 编码 拿到 原始 先 试试 印象 版本 里 会 信息 丢失 时候 直接 进去 改 编码 谢谢 两 位 大神 指导 这边 网速 不怎么样 回复 慢 不好意思 做 实验 负数 情况 这个 就 数据库 编码 丢 数据 变成 两 没有 办法 还原 变成 两 编码 问题 蛮 有意思 按照 方法 可以 成功 解码 字段 内容 中文 北京 得到 得到 北京 版本 例子 中 没有 访问 数据库 为什么 说 负数 情况 这个 就 数据库 编码 负数 表示 负数 里面 代表 多字节 一定 规范 可能 违反 这些 规范 就 变成 如果 硬 编码 东西 无序 非 编码 还是 原始 如果 放进 就 编码 过 忽略 说 逃 明白 非常 感谢 大大 赞 之前 端 传 类型 时 强 转 类型 比较 合理 做法 现在 能 改 改 老 用户 解析 处理 都会 乱码 理解 两 位 大神 有些 疑问 端 会 对 所有 字段 做 编码 成 对 编码 完全 懂 能 帮忙 解释 为什么 这样 更改 编码 就能 正确 解析 出 存入 类型 字符串 北京 代码 中 不同 编码 执行 顺序 怎样 理解 对 字段 数组 做 编码 但是 编码 能 表示 中文 北京 乱码 这时 执行 方法 会 进入 对 进行 大 神 另外 想 问 返回 字段 字节 数组 吗 还是 总是 编码 或者 其他 编码 字节 数组 为什么 中 汉字 对应 字节 呢 测试 结果 插入 字段 值 程序 中 打印 插入 二进制 数组 内容 中 获得 二进制 数组 内容 字段 值 字段 值 上海 上海 大 神 描述 应该 只有 这么 做了 问题 如果 编码 成 那么 内 实际上 放 就 单 打印 出来 乱码 实际 数据 格式 没有 丢失 意思 说 虽然 打印 出来 乱码 但是 二进制 数据 本身 还是 保持 不变 吗 为什么 打印 结果 乱码 呢 等同于 编码 堆 乱码 打印 出来 当然 乱码 我刚 请教 同学 一些 编码 知识 现在 基本 能 理解 谢谢 大神 耐心 指导 棒棒哒 canal mysql blob canal mysql blob canal binlog string blob string ios jvm utf blob haitaoyao https www jianshu com p be f d dce iso bytes sqltype longblob iso bytes utf string longblob img width alt canal blob getvalue src https user images githubusercontent com e bea e c edeb a da b png iso img width alt iso src https user images githubusercontent com a a bea e b a c ec d png column get mysql type to upper equals longblob logger info is blob n logger info n column get value is column get value logger info n n n n n n string column get value get bytes iso utf is string column get value get bytes iso fix get value bytes bytes get bytes value column get bytes value get bytes value string utils contains ignore column get mysql type blob string utils contains ignore column get mysql type binary get value bytes builder append column get name string column get value get bytes iso utf builder append column get name column get value unsupported encoding exception e java lang string get value java lang object ref value ref java lang string com google protobuf string bs com google protobuf string ref get value utf java lang string s bs to string utf bs is valid utf value s s java lang string ref com google protobuf string get value bytes java lang object ref value ref string com google protobuf string b com google protobuf string copy from utf java lang string ref value b b string com google protobuf string ref alexlgj agapple get value varbinary agapple lcybo bs string bstring string copy from bs string utf bstring to string utf system out println utf string iso string utf get bytes iso utf system out println iso alexlgj agapple blob column getvalue image u c u string column get value get bytes iso utf image canal latin utf sequence utf string canal string iso lcybo lcybo server blob string string blob canal server mysql binlog iso string blob string column get value get bytes iso utf canal server blob iso iso column get value ref java lang string ref utf string column get value bytes to array blob original utf canal column get value bytes to array blob abc java string arrays to string abc get bytes is canal arrays to string column get value bytes to array is blob arrays to string get bytes is arrays to string column get value bytes to array is blob arrays to string get bytes is arrays to string column get value bytes to array is agapple blob binary iso string string string column get value get bytes utf utf get bytes utf utf
803,会 线程 阻塞 造成 无法 停止 模式 启动 多 时 如果 某个 已经 成功 当前 启动 会 阻塞 方法 此时 调用 如下 方法 会 阻塞 处 造成 无法 正常 版本 支持 新版 方法 中 增加 如下 代码 知道 为了 解决 上面 问题 如果 那么 之前 版本 怎么 解决 阻塞 问题 呢 通过 这个 机制 实现 端的 堵塞 为了 避免 同时 两 相同 进行 消费 canal connector subscribe stop zookeeper ha canal client canal client subsribe canal client canal connector subscribe stop join stop stop running canal connector stop running canal client running false thread null thread join interrupted exception e e print stack trace kafka producer util stop mdc remove destination example stop connector stop running canal client ha client
802,增加 数据 同步 样例 代码 层面 应用 丰富 期望 提供 基于 同步 数据库 标准 实现 canal example client
801,化 打包 支持 增加 支持 打包 方式 参数 层面 允许 变量 传递 修改 里 通过 读取 交付 形式 允许 用户 基于 进行 源码 打包 传到 允许 用户 直接 公网 下载 对应 使用 文档 canal docker dockerfile all in one centos jdk canal docker e java system getenv dockerfile docker hub docker https github com alibaba canal wiki docker quick start
800,原生 支持 一下 对接 原生 支持 一下 数据 写出 代码 提交 参考 文档 canal rocket mq rocket mq https rocketmq apache org canal rocket mq https github com alibaba canal wiki canal kafka rocket mq quick start
799,关于 接收 数据 排序 问题 同时 依次 进行 新增 修改 删除 新增 接收 两 条 数据 数据 类型 执行 时间 这样 的话 出现 问题 做 数据 仓库 拉链表 时候 无法 知道 用户 毫秒 情况 顺序 问题 这种 情况 还有 其他 字段 能 提供 对于 执行 时间 对数 进行 排序 区分 前后 顺序 里 就是 顺序 关系 主键 吗 如果 主键 为什么 会 两 次 情况 呢 机制 比较 复杂 内部 很多 优化 内部 保证 执行 后的 最终 结果 一致 canal cust id canal cust id sql add update delete add add delete sql binlog cust id add mysql binlog transaction slave
798,中 获取 偏移量 理解 问题 可能 会 对应 中 多 通过 方法 可以 获得 分为 以及 现在 问题 获取 时候 只有 通过 拿到 正常 数字 但是 通过 获取 都 请 问 中 其他 方法 获取 吗 问题 获取 偏移量 当前 日志 文件 中 序号 第几 条 日志 还是 字节数 前面 数据 占 字节数 求 大 神 赐教 谢谢 自己 动手 通过 可以 查看 才 字节 偏移 棒 谢谢 大神 canal transaction id entry get header get logfile offset canal message mysql transaction message get entries list entry entrys entry transanction begin transaction end rowdata transaction id transaction end get transaction id transactionbegin rowdata null canal transaction id entry get header get logfile offset entry rowdata row mysqlbinlog hexdump commit xid offset
797,如何 区分 次 中 多 条 记录 中 次 可能 包含 多条 记录 那么 如何 区分 这些 记录 呢 没 类似 中 唯一 标识 对 某个 记录 做 更改 一下 这个 满足 说 场景 不好意思 方便 解释 详细 点 吗 不好意思 刚 没 看到 链接 谢谢 canal transaction rowdata mysql transaction rowdata canal oracle scn system change number pr pr
796,本地 调试 抛 异常 解决 办法 将 类 中 相应 内容 改成 实际 内容 解决 simple canal client test java net connect exception connection refused connect image https user images githubusercontent com f ab e bc ca cbf png com alibaba otter canal example simple canal client test
794,集成 始终 接收 数据 不知道 什么 原因 kafka canal event see pr
793,如何 转换 代码 里 string canal entry entry example canal entry entry parse from string ok
792,如果 设置 确实 没有 重复 的话 大 可能 请 先 参考 received eof packet from server image https user images githubusercontent com a f d e f bf f b ddba png slave id
791,为什么 会 解析 成 对象 信息 如下 检查 是否 模式 模式 事件 解决 这个 问题 insert ddl row change unknown fields unknown field set bit field table id event type canal entry event type insert is ddl true sql insert into test school student id school group id like user id school event id values row datas collections empty list size props collections empty list size ddl schema name test memoized is initialized memoized serialized size memoized size memoized hash code binlog row row rows query log event https github com alibaba canal wiki faq
790,适配 kafka producer row data performance tks
789,启动 参照 image https user images githubusercontent com cdb e e b d f e png
788,对接 性能 采样 初版 个人 一些 实现 思路 如下 为了 方便 以后 对接 以外 方案 并使 相关 代码 集中 使用 机制 中 加载 里 指定 实现 这里 指定 尽可能 改动 逻辑 代码 当前 提交 对 原有 代码 改动 如下 逻辑 加载 用于 目前 注 掉了 等 版本 稳定 指定 实现 目前 同样注 掉了 因此 目前 会 影响 逻辑 启动 方式 注掉 配置 加上 当前 实现 全 家 桶 接收 数据 量 单位 计算 速率 发送 数据 量 单位 计算 速率 列表 目前 更新 时 会 一直 增加 目前 思路 利用 进行 刷新 需要 解析 这个 包 索引 用于 计算 其他 请 补充 一些 待 完善 是否 需要 支持 本机 测试 之后 补上 参数 配置 化 思虑 不周 地方 欢迎 大家 补充 提出 要 里面 新 的话 要 加上 结构 比较 不错 建议 可以 适当 改动 主体 代码 监控 做 一些 埋 点 非常 必要 通过 并不 特别 建议 针对 监控 区分 实例 级 级 比如 网络 流量 读取 写出 可以 区分 出 不同 因为 业务 经常 要 找出 捣蛋 份子 基本上 就 个别 影响 整体 感谢 会 好好 想想 如何 进行 请教 一下 做 埋点 方面 劣势 主要 在于 一些 维护性 监控 应该 属于 内置 能力 理想 情况 应该 整个 能 完整 埋 点 做 采样 得到 性能 数据 做 外围 非常 灵活 可插拔 并不 非常 意义 嗯 明白 简单 来说 就是 利用 现有 机制 做 一些 埋 点 已经 一些 想法 有空 整理 出来 canal hi plugable prometheus service provider canal server with embedded service runtime scope deployer pom runtime metrics provider dependency group id com alibaba otter group id artifact id canal prometheus artifact id version project version version scope runtime scope dependency canal a canal server with embedded service provider b startup sh javaagent ltw load time weaving c deployer pom metrics canal metrics mvn install metrics jvm canal net inbound bytes mysql rate canal net outbound bytes client rate canal instance instance canal instance traffic delay instance delay limitation mysql binlog delay mysql master heart beat packet todo eventstore produce ack canal instance store produce seq canal instance store consume seq tps rate canal instance store consume seq ringbuffer remain evnets cound canal instance store produce seq canal instance store consume seq metrics todo http server https debug ut comments best regards ide debug feature vmarg javaagent pathto aspectjweaver version jar server aspect destination destination destination agapple comments refactor btw aspect canal binlog parser sink store client agapple canal server neutral
787,命令 进程 启动 起来 开始 为什么 端 命令 进程 确认 一下 开始 消费 数据 日志 里 没 然后 没 持续 刷新 可以 看到 进程 show processlist dump v alpha canal dump mysql show processlist dump instance find start position entry position included false journal name xxxx position xxxx server id null gtid null timestamp null meta log show slave hosts canal dump
786,请教 订阅 阿里云 案例 业务 场景 现有 阿里云 数据库 想 通过 自己 安装 订阅 数据 请 大神 提供 案例 多谢 多谢 参考 canal rds my sql rds my sql canal rds binlog https github com alibaba canal wiki faq
785,获取 指定 数量 数据 提交 确认 处理 失败 回滚 数据 no meda dat i accidentally deleted the file meta dat below each instance what should i set position info in instance properties which you could find in meta log however there might be an overlap the latest one in meta log lcybo i need to manually create meta dat and copy the contents of meta log into newly meta dat it would be created and maintained by metamanager automatically lcybo unfortunately it doesn t automatically generate in the document is it because i didn t configure position and what should position fill in lcybo i know why i did not generate meta dat files because i did not add the following sentence to my code connector subscribe lcybo but is not dispensable as as the canal instance filter regex in the instance properties should not be configured with connector subscribe position is selected by following priority meta dat instance properties the position via show master status probably events lost the meta dat would be created after successful subscription not exist lcybo now you can automatically generate meta dat but now i have to write connector subscribe in the program connector is the canal connector type i write the filter attribute in instance properties will be rewritten into an empty string and i can t let canal instance filter regex in instance properties now what i to make it work rather than using connector subscribe in the program yes filter is not necessary canal server work with canal client together there is a example client in canal project here is the code slice process batch size running mdc put destination destination connector connect connector subscribe running message message connector get without ack batch size batch id message get id size message get entries size batch id size thread sleep interrupted exception e print summary message batch id size print entry message get entries connector ack batch id connector rollback batch id exception e logger error process error e connector disconnect mdc remove destination lcybo i write connector subscribe in the program again the regex on the server side will be covered how can i make regex not cover a you call subscribe then canal instance filter regex is used ignore the empty string in meta dat b otherwise subscribe regex use the parameter regex instead of canal instance filter regex lcybo it s like you said you call subscribe then canal instance filter regex is used ignore the empty string in meta dat the problem has been solved thank you very much
784,支持 实例 抽取 多 库 使用 单 库 配置 不分组 然后 实例 中 抽取 多个 库 日志 种 方式 配置 方法 支持 找到 配置 方法 这个 配置 适用于 实例 不同 库 库 名 之间 使用 逗号 隔开 这样 配置 即可 觉得 理解 点 问题 那样 配置 默认 监听 多个 库 最好 下面 这个 配置 项 中 进行 正则 匹配 就 所有 库 正解 canalserver instance canalserver instance binlog canal instance database name db db ip port canal instance filter regex db db canal instance filter regex db db ls
783,求 解释 以及 关系 正在 学习 使用 求 大 神 梳理 中 概念 关系 目前 理解 包含 多个 共同 构成 对应 可以 等 可以 解析 得到 可以 解析 得到 多 可以 解析 得到 方法 问题 请问 它们 内部 关联 怎样 问题 区别 问题 可以 获取 但是 怎么 获取 谢谢 求大神 指点 就 标识 概念 事务 相关 会 将 表 类型 操作 等 变更 行 节省 开销 类型 对应 对应 行 数据 对应 变更 前后 所以 兼具 两 者 只有 只有 特殊 情况 比如 开启 一些 参数 会 变成 类型 谢谢 指点 讲 清楚 问题 中 插入 但是 中 显示 如何 知道 哪个 才 对应 刚才 插入 呢 应该 还有 事件 可以 按 类型 筛选 一下 谢谢 指点 讲 清楚 问题 中 插入 但是 中 显示 如何 知道 哪个 才 对应 刚才 插入 呢 正 解 感谢 大 神 回复 现在 懂 测试 次 结果 如下 次 或者 操作 连续 执行 三 次 数据 操作 再启动 对应 都 对应 对应 操作 遇到 问题 如何 通过 获取 名称 中 找到 通过 但是 怎么 获取 指 区分 实例 吗 考虑 一下 区分 好的 非常 感谢 大 神 canal message entries transanction id batchid event rowchange canal canal message entry entries entry eventtype insert delete entry rowchange rowchange rowdata rowdata before columns get before columns list after columns transaction id batch id entry get header get schema name mysql schema mysql instance message get batch packet batch id canal transaction id mysql mysql binlog insert update merge event meta entry canal proto mysql event rowdata before after update insert after delete before ndb update insert mysql row canal entrys size entry row transaction begin transaction end event on jul alexlgj notifications github com wrote mysql row canal entrys size entry row you are receiving because you are subscribed to thread reply to email directly view it on git hub or mute the thread ls insert delete update entrys size is insert canal client entrys size is entry transactionbegin transactionend eventtype update entry rowdata eventtype insert delete update canal mysql database instance entry header schema entry get header get schema name mysql instance instance port mysql server id
782,健壮性 文哥 解决 由于 包 带来 问题 其他 情况 存在 出现 问题 可能 异常 里 产生 就 比如 里 线程 会 竞争 发生 如果 仅仅 线程 内串行 调用 那样 比较 安全 所以 改成 发生 意外 中 线程 进行 定义 之前 重复 直接 合并 当时 觉得 可能 特殊 处理 第二 特意 加 区分 一下 看来 想 多 邀请 加入 项目 管理员 麻烦 私信 邮箱 联系 方式 邮箱 请 多 关照 mysql multi stage coprocessor enhance hi commit eof mysql multi stage coprocessor on event body interrupted exception on shutdown stop dump reset mysql multi stage coprocessor dump exception publish check dump reset best regard cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr chuanyi li l seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr chuanyi li l seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks lcybo incident exception ok canal parse exception commit incident lcybo jianghang gmail com agapple accpet chuanyili gmail com
781,最新版 版本 最新 语句 以及 自增 起始 值 自增 起始 值 这些 有一些 问题 反馈 做 修改 建议 先 绕过 自增 起始 值 补充 fastsql preview com alibaba fastsql sql parser parser exception fastsql sql exception sql create index idx t uid on stu score uid comment algorithm lock exception in thread main com alibaba fastsql sql parser parser exception syntax error error in ithm lock pos line column token identifier null at com alibaba fastsql sql parser sql parser print error sql parser java at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java at com test hello world main hello world java sql alter table test collate utf mb unicode ci exception in thread main com alibaba fastsql sql parser parser exception syntax error error in late utf mb unicode ci expect actual null pos line column token identifier utf mb unicode ci at com alibaba fastsql sql parser sql parser print error sql parser java at com alibaba fastsql sql parser sql parser accept sql parser java at com alibaba fastsql sql dialect mysql parser my sql statement parser parse alter table my sql statement parser java at com alibaba fastsql sql dialect mysql parser my sql statement parser parse alter my sql statement parser java at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java at com test hello world main hello world java sql alter table task auto increment comment exception in thread main com alibaba fastsql sql parser parser exception syntax error error in comment expect on actual pos line column token at com alibaba fastsql sql parser sql parser print error sql parser java at com alibaba fastsql sql parser sql parser accept sql parser java at com alibaba fastsql sql parser sql statement parser parse comment sql statement parser java at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java at com test hello world main hello world java alter table test collate utf mb unicode ci alter table task auto increment comment ddl create table app info id bigint not null app name varchar not null primary key id index idx using btree app name comment
780,邮箱 留言 谢谢 fix bug cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub agapple gmail jianghang gmail com tks
779,注释 过长 会 引起 数据 错乱 注释 本来 定向 设置 字符 每个 字符 值 空 不限 确定 值 指定 分 指定 排除 存为 指定 确定 值 排除 第 字符 应用 渠道 第 字符 网络 环境 第 字符 移动 操作 系统 第 字符 平台 版本 号 第 字符 地域 定向 第 字符 性别 第 字符 年龄段 第 字符 关键 词 没有 不限 指定 排除 智能 第 字符 商业 兴趣 标签 第 字符 标签 第 字符 设备 价格 标签 第 字符 视频 类型 第 字符 运营商 第 字符 自定义 人群 包 改成 定向 设置 字符 每个 字符 值 空 不限 确定 值 指定 分 指定 排除 存为 指定 确定 值 排除 第 字符 应用 渠道 第 字符 网络 环境 第 字符 移动 操作 系统 第 字符 平台 版本 号 第 字符 地域 定向 第 字符 性别 第 字符 年龄段 第 字符 关键 词 没有 不限 指定 排除 智能 第 字符 商业 兴趣 标签 第 字符 标签 第 字符 设备 价格 标签 第 字符 视频 类型 第 字符 运营商 第 字符 自定义 人群 包 第 字符 应用 渠道 资讯版 第 字符 平台 版本 号 资讯版 以后 字段 数据 出现 错乱 完整 定向 设置 字符 每个 字符 值 空 不限 确定 值 指定 分 指定 排除 存为 指定 确定 值 排除 第 字符 应用 渠道 第 字符 网络 环境 第 字符 移动 操作 系统 第 字符 平台 版本 号 第 字符 地域 定向 第 字符 性别 第 字符 年龄段 第 字符 关键 词 没有 不限 指定 排除 智能 第 字符 商业 兴趣 标签 第 字符 标签 第 字符 设备 价格 标签 第 字符 视频 类型 第 字符 运营商 第 字符 自定义 人群 包 第 字符 应用 渠道 资讯版 第 字符 平台 版本 号 资讯版 最新 解析 没 问题 想问 一下 如果 不换 版本 什么 方法 吗 版本 特别 方便 更换 额 app list app list ddl sql alter table tb ad group modify target setting varchar not null comment app list alpha
778,提供 文件 或者 测试 数据 复现 常 静 发 里 请 查收 parse row data failed canal snapshot maria db grant select replication slave replication client on to czbrepclient identified by password a a df c f e a f caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get full string log buffer java binlog gmail
777,fix issue cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
776,时报 错误 时报 错误 应该 这个 有关 版本 抱歉 依赖于 测试 能把 引起 这个 错误 版本 说 吗 方便 这边 跟进 谢谢 多谢 跟进 一下 这个 问题 跟进 方便 时候 请看 v alpha decode event limit exceed image https user images githubusercontent com b e e d e b ed png decode event limit exceed commit https github com alibaba canal commit a b a b cecc b bcee fb f mysql gaoxiangyu my sql my sql gaoxiangyu agapple btw gmail
775,支持 吗 目前 引入 客户端 时与 项目 中 冲突 目前 默认 计划 支持 吗 现在 比较 普遍 比较 少 可以 提交 对 依赖 就 可以 升级 要求 要 注意 canal spring spring spring spring spring agapple spring spring spring spring pr canal spring ioc spring java
774,错误 本 机 通过 连 不上 这个 其他 具体 只是 贴 日志 时 替换 v alpha connect timed out destination example address event parser warn c a o canal parse inbound mysql dbsync direct log fetcher received eof packet from server apparent master disconnected it s may be duplicate slave id check instance config destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp destination example address event parser warn c a o canal parse inbound mysql dbsync direct log fetcher received eof packet from server apparent master disconnected it s may be duplicate slave id check instance config destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run unknown source na caused by java net socket timeout exception connect timed out at java net two stacks plain socket impl socket connect method na at java net plain socket impl connect unknown source na at java net plain socket impl connect to address unknown source na at java net plain socket impl connect unknown source na at java net plain socket impl connect unknown source na at java net socks socket impl connect unknown source na at java net socket connect unknown source na at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source caused by java net socket timeout exception connect timed out at java net two stacks plain socket impl socket connect method at java net plain socket impl connect unknown source at java net plain socket impl connect to address unknown source at java net plain socket impl connect unknown source at java net plain socket impl connect unknown source at java net socks socket impl connect unknown source at java net socket connect unknown source at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run unknown source na caused by java net socket timeout exception connect timed out at java net two stacks plain socket impl socket connect method na at java net plain socket impl connect unknown source na at java net plain socket impl connect to address unknown source na at java net plain socket impl connect unknown source na at java net plain socket impl connect unknown source na at java net socks socket impl connect unknown source na at java net socket connect unknown source na at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source caused by java net socket timeout exception connect timed out at java net two stacks plain socket impl socket connect method at java net plain socket impl connect unknown source at java net plain socket impl connect to address unknown source at java net plain socket impl connect unknown source at java net plain socket impl connect unknown source at java net socks socket impl connect unknown source at java net socket connect unknown source at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more agapple my sql wingerx ip
773,错误 相同 问题 啊 解决 没 找 前 面 日志 使用 没有 问题 应该 单核 机器 启动 失败 问题 修复 正式 版 什么 时候 发布 v alpha parse events has an error image https user images githubusercontent com d ca c ff e f e acb png destination example address event parser error c a otter canal parse inbound mysql mysql event parser parse events has an error java util concurrent rejected execution exception task java util concurrent future task cc rejected from java util concurrent thread pool executor f terminated pool size active threads queued tasks completed tasks at java util concurrent thread pool executor abort policy rejected execution unknown source na at java util concurrent thread pool executor reject unknown source na at java util concurrent thread pool executor execute unknown source na at java util concurrent executor service submit unknown source na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor reset mysql multi stage coprocessor java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run unknown source na agapple root cause v v agapple v
772,fix issue cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
771,启动 时 线程 池 工作 异常 相同 问题 查到 问题 所在 时 将 设置 为了 没有 发送 之后 就 会 返回 通常 对于 来说 一直 连接 挂着 可能 更 这样 能 更 及时 收到 新 产生 知 基于 什么 考虑 将 设置 改成 或者说 更 优雅 处理 打印 误导 日志 信息 出来 问题 主要 下面 创建 线程 池 时候 总会报 而且 服务器 核 按照 默认值 服务器 总可 物理 核数 应该 相同 问题 楼主 解决 没 没有 问题 调用 线程 池 报错 线程 池 报错 原因 请 提交 对于 目前 新 先 改 配置 谢谢 正解 canal destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position mysql bin null destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id null gtid timestamp null destination example address event parser warn c a o canal parse inbound mysql dbsync direct log fetcher received eof packet from server apparent master disconnected it s may be duplicate slave id check instance config destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address cbjup port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp destination example address event parser warn c a o canal parse inbound mysql dbsync direct log fetcher received eof packet from server apparent master disconnected it s may be duplicate slave id check instance config destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address cbjup port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp destination example address event parser warn c a o canal parse inbound mysql dbsync direct log fetcher received eof packet from server apparent master disconnected it s may be duplicate slave id check instance config destination example address event parser error c a otter canal parse inbound mysql mysql event parser parse events has an error java util concurrent rejected execution exception task com lmax disruptor work processor d d rejected from java util concurrent thread pool executor cbf terminated pool size active threads queued tasks completed tasks at java util concurrent thread pool executor abort policy rejected execution thread pool executor java na at java util concurrent thread pool executor reject thread pool executor java na at java util concurrent thread pool executor execute thread pool executor java na at com lmax disruptor worker pool start worker pool java disruptor jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor reset mysql multi stage coprocessor java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na agapple fix issue binlog flags binlog dump non block master binlog event eof slave binlog event agapple binlog dump non block eof received eof packet from server apparent master disconnected it s may be duplicate slave id check instance config wingerx parse java util concurrent rejected execution exception pool size parallel thread size pool size fanpeng sky mariner pr release v alpha canal instance parser parallel false wingerx wingerx
770,指定 时间戳 消费 无效 中 指定 时间戳 发现 会 拿到 这个 时间戳 以前 如果 想 消费 这个 时间戳 之后 应该 配置 哪些 呢 单独 配置 不可以 清理 掉 次 记录 位点 信息 比如 节点 文件 canal instance master timestamp instance client log log canal instance master timestamp zookeeper meta dat
769,版本 单机 未使用 条 中 修改 多个 表 结构 以及 创建 新 表解 析出 现 异常 监听 整个 库 异常 信息 如下 数据库 表 名 数据库 表 名 数据库 表 名 找 表 表 存在 错误 信息 修改 索引 增加 表字 段 创建 其他 表 操作 附近 时刻 发生 临时 表 之类 造成 解析 异常 开启 测试 以前 反查 数据库 模式 很多 限制 开启 后续 会 发生 这样 异常 h db sql caused by com alibaba otter canal parse exception canal parse exception fetch failed by table meta caused by java io io exception error packet error number field count message table doesn t exist sql state s sql state marker at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java message table doesn t exist sql state s sql state marker table tsdb h
768,修改 新增 数据 订阅 活动 公告 修改 新增 数据 订阅 活动 公告 readme md readme md cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
767,客户端 连接 问题 端口 方面 都 没 问题 服务 端 日志 都 正常 客户端 连接 时候 能 成功 连上 但是 调用 段 方法 时 抛出 下面 异常 关闭 目前 找到 问题 原因 配置 客户端 连接至 时 获取 上面 数据 连接 时 使用 地址 连接 就 变成 客户端 机器 连接 本地 开始 猜想 但是 本地 就 不再 抛 异常 可以 正常 连接 问题 在于 尝试 远端 配置 成 公网 这样 应该 就 能 正常 连接 但是 改成 公网 启动 失败 提示 出错 canal zk canal canal zk canal connector subscribe canal client properties get subscribe filter canal auto scan something goes wrong when subscribing from server null main send thread debug org apache zookeeper client cnxn read response reading reply sessionid x b e packet client path null server path null finished false header reply header request otter canal destinations example running t response b a c a e e e a c c e a d s task executor warn c a o c c i r client running monitor check canal is running in but not in task executor error t j m m s c canal increment sync task handle exception com alibaba otter canal protocol exception canal client exception failed to subscribe after times retry at com alibaba otter canal client impl cluster canal connector subscribe cluster canal connector java at tech jiyu micromagasin mc sync canal canal increment sync task sync canal increment sync task java at tech jiyu micromagasin mc sync canal canal increment sync task fast by spring cglib fbb f invoke generated at org springframework cglib proxy method proxy invoke method proxy java at org springframework aop framework cglib aop proxy cglib method invocation invoke joinpoint cglib aop proxy java at org springframework aop framework reflective method invocation proceed reflective method invocation java at org springframework aop interceptor async execution interceptor call async execution interceptor java at java util concurrent future task run capture future task java at java util concurrent future task run future task java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java com alibaba otter canal protocol exception canal client exception failed to subscribe after times retry at com alibaba otter canal client impl cluster canal connector subscribe cluster canal connector java at tech jiyu micromagasin mc sync canal canal increment sync task sync canal increment sync task java at tech jiyu micromagasin mc sync canal canal increment sync task fast by spring cglib fbb f invoke generated at org springframework cglib proxy method proxy invoke method proxy java at org springframework aop framework cglib aop proxy cglib method invocation invoke joinpoint cglib aop proxy java at org springframework aop framework reflective method invocation proceed reflective method invocation java at org springframework aop interceptor async execution interceptor call async execution interceptor java at java util concurrent future task run capture future task java at java util concurrent future task run future task java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java image https user images githubusercontent com e a e c e c a beb e d png canal server canal properties ip zk canal canal server canal server canal server canal server ip ip ip canal server canal cannot assign requested address
766,启动 正常 客户端 可以 连接 数据 更改 客户端 获取 启动 正常 客户端 可以 连接 数据 更改 客户端 获取 不到 更改 下面 记录 遇到 过 种 情况 请 帮忙 谢谢 全速 通 库存 商品 备案 信息 表 康 多多 库存 没有 商品 澳 猫 商品 内部 价 澳 猫 商品 申报 价 澳 猫 商品 销售价 网 店 管家 商品 总库 存 网 店 管家 商品 数据 货品 价格表 全速 通 库存 商品 备案 信息 表 康 多多 库存 没有 商品 澳 猫 商品 内部 价 澳 猫 商品 申报 价 澳 猫 商品 销售价 网 店 管家 商品 总库 存 网 店 管家 商品 数据 货品 价格表 执行 那段 指令 看看 错误 同样 问题 怎么 解决 求助 执行 一下 报错 条 指令 多谢 执行 多 没 报错 上面 多 数据库 权限 全开 报 套 服务 没 问题 权限 全 开 执行 多语句 没 报错 执行 多语句 没 报错 是的 cancal java cancal java destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message no database selected sql state d sql state marker with command show create table sbed show create table sbed show create table sbed show create table sbed gst show create table sbed show create table sbed show create table sbed show create table sbed show create table sbed show create table sbed show create table sbed qrtz blob triggers show create table sbed qrtz calendars show create table sbed qrtz cron triggers show create table sbed qrtz fired triggers show create table sbed qrtz job details show create table sbed qrtz locks show create table sbed qrtz paused trigger grps show create table sbed qrtz scheduler state show create table sbed qrtz simple triggers show create table sbed qrtz simprop triggers show create table sbed qrtz triggers show create table sbed sys add goods advice show create table sbed sys aomao goods show create table sbed sys aomao goods price show create table sbed sys aomao logistics show create table sbed sys aomao trade show create table sbed sys aomao trade goods show create table sbed sys aomao user show create table sbed sys aomao user group show create table sbed sys aomao user inventory show create table sbed sys attachment show create table sbed sys au data show create table sbed sys auspost base show create table sbed sys auspost log show create table sbed sys auspost order show create table sbed sys common map show create table sbed sys config show create table sbed sys content show create table sbed sys content taxonomy show create table sbed sys currency show create table sbed sys customer show create table sbed sys customer address show create table sbed sys customer category show create table sbed sys customer grade show create table sbed sys dept show create table sbed sys documents show create table sbed sys eunionpay show create table sbed sys excel export show create table sbed sys express show create table sbed sys finance log show create table sbed sys finance order show create table sbed sys finance order goods show create table sbed sys finance refund show create table sbed sys goods show create table sbed sys goods brand show create table sbed sys goods category show create table sbed sys goods price show create table sbed sys goods repertory show create table sbed sys goods show create table sbed sys goods shop price show create table sbed sys goods stock show create table sbed sys goods supplier show create table sbed sys issue show create table sbed sys issue post show create table sbed sys jingdong refund show create table sbed sys log show create table sbed sys menu show create table sbed sys order detail show create table sbed sys purchase show create table sbed sys purchase checkout show create table sbed sys purchase checkout detail show create table sbed sys purchase detail show create table sbed sys purchaseplan show create table sbed sys purchaseplan detail show create table sbed sys quansutong clearance show create table sbed sys quansutong express show create table sbed sys quansutong token show create table sbed sys redbook repertory show create table sbed sys role show create table sbed sys role menu show create table sbed sys sai goods show create table sbed sys sai shipment data show create table sbed sys sai stock show create table sbed sys sale num goods show create table sbed sys sales show create table sbed sys sales stock show create table sbed sys schedule job show create table sbed sys schedule job log show create table sbed sys shop show create table sbed sys shop delivery show create table sbed sys shop goods show create table sbed sys shop order show create table sbed sys shop order goods show create table sbed sys status show create table sbed sys stock all show create table sbed sys stock all log show create table sbed sys stock all num show create table sbed sys stock all num view show create table sbed sys stock allocation show create table sbed sys stock allocation main show create table sbed sys stock goods show create table sbed sys stock store show create table sbed sys stock store position show create table sbed sys store show create table sbed sys store model show create table sbed sys supplier show create table sbed sys taobao goods show create table sbed sys taobao goods detail show create table sbed sys taobao goods detail item imgs show create table sbed sys taobao goods detail location show create table sbed sys taobao goods detail prop imgs show create table sbed sys taobao goods detail sku show create table sbed sys taobao goods price show create table sbed sys taobao logistics company show create table sbed sys taobao order show create table sbed sys taobao trade show create table sbed sys taxonomy show create table sbed sys third nulaxgroup show create table sbed sys tianmao activity show create table sbed sys tianmao activity goods show create table sbed sys trade show create table sbed sys trade goods show create table sbed sys trade logistics show create table sbed sys user show create table sbed sys user brand show create table sbed sys user formthead show create table sbed sys user role show create table sbed sys user store show create table sbed sys user token show create table sbed sys value show create table sbed sys wave house cost show create table sbed sys yeebao pay show create table sbed xhs order show create table sbed xhs order detail show create table sbed xhs stock caused by java io io exception error packet error number field count message no database selected sql state d sql state marker with command show create table sbed show create table sbed show create table sbed show create table sbed gst show create table sbed show create table sbed show create table sbed show create table sbed show create table sbed show create table sbed show create table sbed qrtz blob triggers show create table sbed qrtz calendars show create table sbed qrtz cron triggers show create table sbed qrtz fired triggers show create table sbed qrtz job details show create table sbed qrtz locks show create table sbed qrtz paused trigger grps show create table sbed qrtz scheduler state show create table sbed qrtz simple triggers show create table sbed qrtz simprop triggers show create table sbed qrtz triggers show create table sbed sys add goods advice show create table sbed sys aomao goods show create table sbed sys aomao goods price show create table sbed sys aomao logistics show create table sbed sys aomao trade show create table sbed sys aomao trade goods show create table sbed sys aomao user show create table sbed sys aomao user group show create table sbed sys aomao user inventory show create table sbed sys attachment show create table sbed sys au data show create table sbed sys auspost base show create table sbed sys auspost log show create table sbed sys auspost order show create table sbed sys common map show create table sbed sys config show create table sbed sys content show create table sbed sys content taxonomy show create table sbed sys currency show create table sbed sys customer show create table sbed sys customer address show create table sbed sys customer category show create table sbed sys customer grade show create table sbed sys dept show create table sbed sys documents show create table sbed sys eunionpay show create table sbed sys excel export show create table sbed sys express show create table sbed sys finance log show create table sbed sys finance order show create table sbed sys finance order goods show create table sbed sys finance refund show create table sbed sys goods show create table sbed sys goods brand show create table sbed sys goods category show create table sbed sys goods price show create table sbed sys goods repertory show create table sbed sys goods show create table sbed sys goods shop price show create table sbed sys goods stock show create table sbed sys goods supplier show create table sbed sys issue show create table sbed sys issue post show create table sbed sys jingdong refund show create table sbed sys log show create table sbed sys menu show create table sbed sys order detail show create table sbed sys purchase show create table sbed sys purchase checkout show create table sbed sys purchase checkout detail show create table sbed sys purchase detail show create table sbed sys purchaseplan show create table sbed sys purchaseplan detail show create table sbed sys quansutong clearance show create table sbed sys quansutong express show create table sbed sys quansutong token show create table sbed sys redbook repertory show create table sbed sys role show create table sbed sys role menu show create table sbed sys sai goods show create table sbed sys sai shipment data show create table sbed sys sai stock show create table sbed sys sale num goods show create table sbed sys sales show create table sbed sys sales stock show create table sbed sys schedule job show create table sbed sys schedule job log show create table sbed sys shop show create table sbed sys shop delivery show create table sbed sys shop goods show create table sbed sys shop order show create table sbed sys shop order goods show create table sbed sys status show create table sbed sys stock all show create table sbed sys stock all log show create table sbed sys stock all num show create table sbed sys stock all num view show create table sbed sys stock allocation show create table sbed sys stock allocation main show create table sbed sys stock goods show create table sbed sys stock store show create table sbed sys stock store position show create table sbed sys store show create table sbed sys store model show create table sbed sys supplier show create table sbed sys taobao goods show create table sbed sys taobao goods detail show create table sbed sys taobao goods detail item imgs show create table sbed sys taobao goods detail location show create table sbed sys taobao goods detail prop imgs show create table sbed sys taobao goods detail sku show create table sbed sys taobao goods price show create table sbed sys taobao logistics company show create table sbed sys taobao order show create table sbed sys taobao trade show create table sbed sys taxonomy show create table sbed sys third nulaxgroup show create table sbed sys tianmao activity show create table sbed sys tianmao activity goods show create table sbed sys trade show create table sbed sys trade goods show create table sbed sys trade logistics show create table sbed sys user show create table sbed sys user brand show create table sbed sys user formthead show create table sbed sys user role show create table sbed sys user store show create table sbed sys user token show create table sbed sys value show create table sbed sys wave house cost show create table sbed sys yeebao pay show create table sbed xhs order show create table sbed xhs order detail show create table sbed xhs stock at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java show canal agapple show shuaicloud agapple show create table xxxxx mysql error c a o c p inbound mysql rds rds binlog event parser proxy dump address xxxxx xxxxx has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message no database selected sql state d sql state marker mysql canal show create table show create table
765,监控 对接 一下 很多 反馈 过 如何 有效 监控 初步 思考 选择 目前 比较 流行 监控 指标 级别 状态 级别 状态 如果 大家 已经 做 过 类似 方案 非常 欢迎 大家 提交 这些 可以 直接 使用 提供 最近 正好 学习 相关 内容 可以 提 吗 差不多 周末 时候 非常 欢迎 两 位 提交 根据 结合 自己 使用 一些 感受 说 实现 自身 监控 一些 想法 先 列出 一些 指标 开启 模式 解析 例 通过 带 可以 将 指标 级别 收集 然后 汇总 表示 流量 表示 线程 阻塞 时间 片 表示 线程 阻塞 时间 片 通过 可以 获得 代表 延迟 种 分类 统计 通过 附带 数量 判断 近期 是否 批量 等等 端 使用 调用 时 增加 回调 将 请求 完成 信息 进行 采样 包括 仅对 判断 是否 空 包 等 表示 流量 包 分类 统计 空 包率 发生 按 统计 响应 时间 比较 天然 埋 点 根据 计算 如果 模式 根据 计算 数量 一些 场景 明显 不断 增加 流量 较 大致 推断 瓶颈 网络 是否 带宽 不够 流量 挤占 显著 明显 消费 快 尝试 增加 加快 解析 速度 均 显著 不断 增加 瓶颈 在于 读写 消费 空包 频率 高 考虑 调整 优化 时间 行为 是否 正常 欢迎 新 拉了 分支 考虑 非常 全面 点 赞 贴 张 预览 图 家 里 环境 随便 灌 不太 容易 模拟 复杂 场景 太 赞 生成 模板 增加 便利 配置 切换 提交 模板 对 重新 进行 排版 使用 说明 文档 告 段落 如果 问题 会 尽快 修复 最后 效果图 具体 可以 参见 canal prometheus grafana canal server prometheus grafana server instance list client list cpu jvm gc net io instance delay tps ringbuffer heartbeat pr cpu jvm gc simpleclient hotspot exports agapple pr pr agapple comments canal server parallel ps instance tag instance read store put a inbound canal inbound bytes b dump pushlish events disruptor buffer canal dump publish blocking time c sink put events store canal sink put blocking time d canal event down stream handler canal instance delay event type rowchange row data sql netty server session handler write channel future listener client destination packet type write amount batch id get error code response time a outbound canal inbound bytes b packet type c d error error code e event store a tps ack sequence b memory mps ack mem size c store remain events d store remain memory b blocking d delay a b blocking c blocking client canal instance parser parallel thread size b c blocking delay client c get timeout b d client comments btw metrics support lcybo img width alt grafana src https user images githubusercontent com a b e f dd f bf png traffic perfect img width alt down src https user images githubusercontent com f d e a c e e da ccae c png datasource instances canal conf metrics canal instances tmpl json dashboard image https user images githubusercontent com ab a b e c d baab fa png https github com alibaba canal wiki prometheus quick start
764,偶尔 断开 连接 然后 从新 连接 部分 同步 停止 使用 场景 单 台 虚拟机 连接 数据库 同步 任务 某一 时刻 突然 出现 大批量 如下 日志 但是 从新 连接 部分 数据库 同步 正常 部分 数据库 同步 停止 变化 停留 断开 连接 地方 日志 如下 目前 出现 多 次 种 情况 原因 未知 信息 太少 无法 定位 可以 看看 当时 不断 以及 内 网 测试 这样 遇到 这个 问题 还是 提供 更 多 信息 现在 按照 大 神 意思 分析 复现 方法 之后 canal zk cursor mysql connector dis connect mysql connection to x x x x x x mysql connector connect mysql connection to x x x x x x mysql connector handshake initialization packet received prepare the client authentication packet to send mysql connector client authentication packet is sent out jstack kill dump dis connect connect handshake kervin jstack reopen
763,多 时 能 抓取 第一 项 后面 项 数据 变更 获取 不到 例如 能 获取 前缀 表 数据 变更 后面 获取 不到 一下 canal instance filter regex canal instance filter regex vip crm oms ser sku vip wfe crm oms https github com alibaba canal wiki faq
762,修改 新增 说明 readme md dts cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
761,添加 商业化 版本 更新 说明 添加 商业化 版本 更新 说明 重复 这个 后续 会 增加 等 其他 接口 插件 canal canal cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub hdfs hbase
760,端 版本 配置 启动 端 使用 得到 值 一直 节点 一直 没有 生成 端 正常 端 端 设置 名字 以及 依旧 创建 文件 存在 有人 遇到 过 这样 问题 吗 求教 看看 日志 是否 异常 canal otter client batchid canal client canal connector get without ack batch size get id zk node cursor canal log client log image https user images githubusercontent com c b b a e f bf bdb d png canal binlog position cursor canal server
759,append gtid last committed and sequence number support cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
758,切换 时 延 问题 部署 两 端 通过 监听 看了 一下 文档 貌似 没有 描述 两 切换 时 获取 数据 时间 间隔 两 端 都 通过 方式 不停 按理 来说 时间 间隔 就 应该 处理 结点 状态 变化 时间 设置 结果 来看 每次 间隔 大约 左右 配置 相差 较 大 请问 办法 缩短 一下 这个 间隔 吗 业务 对 实时 性 要求 高 网上 找找 参数 调低 一下 client client zk destination client client true subscribe connect get message zk canal zookeeper flush period s zookeeper session timeout
757,版本 为什么 打印 或者是 代码 如下 之后 模式 会 混杂 针对 会 记录 对应 原始 拿到 这个 就 货 应该 怎么 区分 呢 p event type query sql insert create table debug com pamirs data canal client event type is query sql update t pdc handover index or java event type event type query row chage get is ddl row chage get is ddl string builder exception message string builder exception message append mysql has an ddl sql is append row chage get sql append exception handle handle exception exception message entity entity task get table task get id exception message entity desc pamirs data mysql pull ddl message exception message type pamirs data exception message to string logger debug event type is query sql row chage get sql rows query log event row binlog statement row insert update delete sql sql agapple
756,刚 了解 直接 包 时候 会报 还是 可以 包跑 时候 出现 错误 请 问 哪里 做错 吗 真的 找 错误 哪里 楼 主 配置 文件 信息 请问 这个 怎样子 解决 出现 重复 优化 一下 日志 输出 去掉 无用 看到 这个 重复 错误 但是 只有 定义 哪里 要 改 吗 com lmax disruptor fatal exception handler handle event exception canal canal kafka snapshot tar com alibaba druid pool druid data source test idle is true validation query not set kafka canal launcher java image https user images githubusercontent com b e e e ba bc efcb png help me image https user images githubusercontent com d bd ae e e a a b d png image https user images githubusercontent com a e ea e b e d fe b png image https user images githubusercontent com a f e ea b b e a png image https user images githubusercontent com a e a e e e png slave id slave id instance prorerties image https user images githubusercontent com b f c a c e c abc ca png
755,配置 生效 没有 过滤掉 库 数据 有时候 没 过 滤掉 库 数据 版本 模式 配置 日志 看看 是否 条件 没 正确 接收 条件 覆盖 应该 这个 问题 端 双 实例 切换 端 配置 如下 都会 影响 端 一下 源码 如果 设置 成 就 影响 具体 影响 表现 启动 那个 会 订阅 端 之外 表 导致 没 权限 报错 客户端 就 一直 空 两 实例 配置 除了 都 一样 除了 都 一样 filter regex server sys mysql binlog row instance properties canal instance filter regex blacklist canal instance filter black regex server destination xxxx address xxxx xxxx event parser error com alibaba otter canal common alarm log alarm handler destination xxxx com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show view command denied to user xxxx xxxx table host summary sql state sql state marker with command show create table sys host summary show create table sys host summary by file io show create table sys host summary by file io type show create table sys host summary by stages show create table sys host summary by statement latency show create table sys host summary by statement type show create table sys innodb buffer stats by schema show create table sys innodb buffer stats by table show create table sys innodb lock waits show create table sys io by thread by latency show create table sys io global by file by bytes show create table sys io global by file by latency show create table sys io global by wait by bytes show create table sys io global by wait by latency show create table sys latest file io show create table sys memory by host by current bytes show create table sys memory by thread by current bytes show create table sys memory by user by current bytes show create table sys memory global by current bytes show create table sys memory global total show create table sys metrics show create table sys processlist show create table sys ps check lost instrumentation show create table sys schema auto increment columns show create table sys schema index statistics show create table sys schema object overview show create table sys schema redundant indexes show create table sys schema table lock waits show create table sys schema table statistics show create table sys schema table statistics with buffer show create table sys schema tables with full table scans show create table sys schema unused indexes show create table sys session show create table sys session ssl status show create table sys statement analysis show create table sys statements with errors or warnings show create table sys statements with full table scans show create table sys statements with runtimes in th percentile show create table sys statements with sorting show create table sys statements with temp tables show create table sys sys config show create table sys user summary show create table sys user summary by file io show create table sys user summary by file io type show create table sys user summary by stages show create table sys user summary by statement latency show create table sys user summary by statement type show create table sys version show create table sys wait classes global by avg latency show create table sys wait classes global by latency show create table sys waits by host by latency show create table sys waits by user by latency show create table sys waits global by latency show create table sys x host summary show create table sys x host summary by file io show create table sys x host summary by file io type show create table sys x host summary by stages show create table sys x host summary by statement latency show create table sys x host summary by statement type show create table sys x innodb buffer stats by schema show create table sys x innodb buffer stats by table show create table sys x innodb lock waits show create table sys x io by thread by latency show create table sys x io global by file by bytes show create table sys x io global by file by latency show create table sys x io global by wait by bytes show create table sys x io global by wait by latency show create table sys x latest file io show create table sys x memory by host by current bytes show create table sys x memory by thread by current bytes show create table sys x memory by user by current bytes show create table sys x memory global by current bytes show create table sys x memory global total show create table sys x processlist show create table sys x ps digest th percentile by avg us show create table sys x ps digest avg latency distribution show create table sys x ps schema table statistics io show create table sys x schema flattened keys show create table sys x schema index statistics show create table sys x schema table lock waits show create table sys x schema table statistics show create table sys x schema table statistics with buffer show create table sys x schema tables with full table scans show create table sys x session show create table sys x statement analysis show create table sys x statements with errors or warnings show create table sys x statements with full table scans show create table sys x statements with runtimes in th percentile show create table sys x statements with sorting show create table sys x statements with temp tables show create table sys x user summary show create table sys x user summary by file io show create table sys x user summary by file io type show create table sys x user summary by stages show create table sys x user summary by statement latency show create table sys x user summary by statement type show create table sys x wait classes global by avg latency show create table sys x wait classes global by latency show create table sys x waits by host by latency show create table sys x waits by user by latency show create table sys x waits global by latency caused by java io io exception error packet error number field count message show view command denied to user xxxx xxxx table host summary sql state sql state marker with command show create table sys host summary show create table sys host summary by file io show create table sys host summary by file io type show create table sys host summary by stages show create table sys host summary by statement latency show create table sys host summary by statement type show create table sys innodb buffer stats by schema show create table sys innodb buffer stats by table show create table sys innodb lock waits show create table sys io by thread by latency show create table sys io global by file by bytes show create table sys io global by file by latency show create table sys io global by wait by bytes show create table sys io global by wait by latency show create table sys latest file io show create table sys memory by host by current bytes show create table sys memory by thread by current bytes show create table sys memory by user by current bytes show create table sys memory global by current bytes show create table sys memory global total show create table sys metrics show create table sys processlist show create table sys ps check lost instrumentation show create table sys schema auto increment columns show create table sys schema index statistics show create table sys schema object overview show create table sys schema redundant indexes show create table sys schema table lock waits show create table sys schema table statistics show create table sys schema table statistics with buffer show create table sys schema tables with full table scans show create table sys schema unused indexes show create table sys session show create table sys session ssl status show create table sys statement analysis show create table sys statements with errors or warnings show create table sys statements with full table scans show create table sys statements with runtimes in th percentile show create table sys statements with sorting show create table sys statements with temp tables show create table sys sys config show create table sys user summary show create table sys user summary by file io show create table sys user summary by file io type show create table sys user summary by stages show create table sys user summary by statement latency show create table sys user summary by statement type show create table sys version show create table sys wait classes global by avg latency show create table sys wait classes global by latency show create table sys waits by host by latency show create table sys waits by user by latency show create table sys waits global by latency show create table sys x host summary show create table sys x host summary by file io show create table sys x host summary by file io type show create table sys x host summary by stages show create table sys x host summary by statement latency show create table sys x host summary by statement type show create table sys x innodb buffer stats by schema show create table sys x innodb buffer stats by table show create table sys x innodb lock waits show create table sys x io by thread by latency show create table sys x io global by file by bytes show create table sys x io global by file by latency show create table sys x io global by wait by bytes show create table sys x io global by wait by latency show create table sys x latest file io show create table sys x memory by host by current bytes show create table sys x memory by thread by current bytes show create table sys x memory by user by current bytes show create table sys x memory global by current bytes show create table sys x memory global total show create table sys x processlist show create table sys x ps digest th percentile by avg us show create table sys x ps digest avg latency distribution show create table sys x ps schema table statistics io show create table sys x schema flattened keys show create table sys x schema index statistics show create table sys x schema table lock waits show create table sys x schema table statistics show create table sys x schema table statistics with buffer show create table sys x schema tables with full table scans show create table sys x session show create table sys x statement analysis show create table sys x statements with errors or warnings show create table sys x statements with full table scans show create table sys x statements with runtimes in th percentile show create table sys x statements with sorting show create table sys x statements with temp tables show create table sys x user summary show create table sys x user summary by file io show create table sys x user summary by file io type show create table sys x user summary by stages show create table sys x user summary by statement latency show create table sys x user summary by statement type show create table sys x wait classes global by avg latency show create table sys x wait classes global by latency show create table sys x waits by host by latency show create table sys x waits by user by latency show create table sys x waits global by latency at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java debug database table meta dump table meta filter client subscribe server client server string filter string filter string filter string filter null string filter null server server filter get message server canal properties canal id canal port instance properties canal instance mysql slave id canal instance filter regex blacklist
754,fix issue cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
753,运行 段 时间 总是 报 这个 错误 版本 下载 最新 版本 代码 行 对不上 com alibaba otter canal parse exception canal parse exception parse row data failed com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse snapshot jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse snapshot jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java more
752,无法 获取 主从 都 开启 同步 正常 只有 时候 会 事务 其它 时候 无法 获取 事务 获取 方式 过 代码 吗 扩展 属性 字段 里 哥 里 打印 出来 空字符 串 需要 开启 订阅 这个 打开 就 gtid b b fc a d b b ecc https user images githubusercontent com d d ae e f c ed a jpg gtid transactionend id gtid id gtid example example entry get header get gtid canal gtid instance property canal instance gtidon true ok thanks
751,增加 标记 事务 内 计数 针对 大 事务 场景 由于 传递 过程 中 超过 一定 数量 默认 会 分批 发送 对于 一些 业务 场景 需要 知道 大 事务 内 数量 然后 进行 合并 处理 canal row data hi agapple canal row data
750,版本 运行 后报 位点 错误 服务 端 估计 发生 重启 为什么 会 发生 重启 怎么 避免 这个 重启 canal deployer snapshot the details of the false information are as follows something goes wrong with channel id x d b xx xx xx xx xxxx xx xx xx xx xxxx exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x d b xx xx xx xx xxxx xx xx xx xx xxxx exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java client id batch id is not exist please check instance
749,哪个 下载 修改 替换 节点 内容 二进制 里 分支 中 需要 依赖 改成 可用 版本 呢 要不然 导入 项目 都 找 这个 现在 缺 这个 包 好坑 呀 传到 一下 呗 fastsql preview maven xml dependency group id com alibaba fastsql group id artifact id fastsql artifact id version preview version dependency pom xml fastsql dependency group id com alibaba fastsql group id artifact id fastsql artifact id version preview version dependency master fastsql jar missing artifact com alibaba fastsql fastsql jar preview maven
748,太慢 怎么 处理 中 每个 大小 中 显示 新 版本 问题 不停 断开 重连 数据库 数据库 连接 超时 问题 具体 描述 一下 问题 提 太 笼统 canal dump my sql show master status mysql bin canal dump zk parse mysql bin binlog m dump entry event second my sql show full processlist canal dump writing to net with lin v v agapple kervin v
747,add restart sh restart canal server cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
746,连接 数据库 超时 连接 数据库 超时 然后 就 不再 重新 连接 过了 大概 两 小时 自动 重新 连接 请问 哪个 参数 可以 设置 超时 之后 过多 长 时间 重新 连接 呢 换成 版本 问题 这个 参数 设置么 没有 问题 一下 日志 报错 吗 版本 已经 标记 建议 使用 问题 版本 这不 停 断开 重连 太 大 下午 点 之后 出现 情况 比较 多 换成 版本 就 没 问题 是否 定时器 哪里 问题 报错 就是 简单 连接 超时 感觉 可能 网络 波动 引起 但是 隔 小时 才 重新 获取 连接 太太 久 超时 之后 多久 重新 获取 连接 没有 可以 自己 设置 参数 网络 问题 重试 就 好了 啊 时候 休息 多久 做 重试 就 好了 canal server server v v v nio with lin with lin connect timeout true
745,删除 下面 日志 服务 没有 重启 导致 磁盘 空间 占用 题 服务 端 发现 磁盘 占用 但是 没 找到 具体 占用 问题 通过 发现 大量 如下 信息 查 文件 删除 进程 活 因而 造成 占用 空间 现象 需要 掉 进程 才 能 恢复 但是 服务 总是 通过 掉 恢复 肯定 方便 什么 解决 方式 吗 canal service log temp canal lsof grep delete java appops w reg home appops canal logs canal canal log tmp deleted kill kill
744,服务 端 一直 重复 服务 端 客户端 官方 数据库 什么 问题 求 大神 解决 something goes wrong with channel destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x exception com alibaba otter canal store canal store exception no match ack position log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id gtid timestamp i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x a f a exception com alibaba otter canal store canal store exception no match ack position log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id gtid timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x a f a exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x f a b exception com alibaba otter canal store canal store exception no match ack position log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id gtid timestamp i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x f a b exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java exampledemo end transaction id binlog mysql bin execute time gtid delay ms end transaction id binlog mysql bin execute time gtid delay ms process error com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x dc exception com alibaba otter canal store canal store exception no match ack position log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id gtid timestamp at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na at com alibaba otter canal example canal client test run canal client test java classes na at java lang thread run thread java na maria db received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at
743,关于 对 支持 咨询 咱们 这个 项目 对 提供 支撑 计划 吗 会 支持 你们 已经 开始 用上 嗯 已经 开始 更 换 my sql my sql mysql agapple
742,部署 腾讯 云 遇见 问题 现在 腾讯 云 部署 服务 腾讯 云 启动 报错 信息 如下 运维家 权限 账号 确定 账号 密码 没有 错的 先 关闭 一下 能力 这个 报错 主要 本地 使用 错误 如果 对 比较 了解 可以 尝试 定位 或者 修复 一下 作为 历史 版本 存储 时 会 基于 默认 配置 解读 一下 就是 第一 次 时 会 创建 设置 访问 密码 如果 第二 次 重新 打开 时会 校验 是否 多 进程 同时 使用 会 出现 会 校验 本 次 访问 密码 是否 第一 次 创建 时 相同 如果 真 遇到 一些 莫名其妙 问题 万能 解决 办法 删除 对应 会 重新 初始化 本地 文件 mysql canal mysql canal canal server canal druid connection pool create error com alibaba druid pool druid data source create connection sql exception url jdbc h conf yunjiradartrace h cache size mode mysql error code state org h jdbc jdbc sql exception wrong user name or password at org h message db exception get jdbc sql exception db exception java h jar at org h message db exception get db exception java h jar at org h message db exception get db exception java h jar at org h message db exception get db exception java h jar at org h engine engine validate user and password engine java h jar at org h engine engine create session and validate engine java h jar at org h engine engine create session engine java h jar at org h engine engine create session engine java h jar at org h engine session remote connect embedded or server session remote java h jar at org h jdbc jdbc connection init jdbc connection java h jar at org h jdbc jdbc connection init jdbc connection java h jar at org h driver connect driver java h jar at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar tablemeta tsdb h h h table ddl h jdbc canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb db username canal canal instance tsdb db password canal conf instance instance mv db canal canal xx mv db java lang illegal state exception the file is locked conf xx mv db h
741,吞吐量 锐减 发现 日志 报错 今天 号 发现 同步 超级 慢 原来 小时 要 更新 几十 次 今天 同步 要 花 小时 生产者 环境 正常 消费者 正常 高手 指点 一下 查 问题 思路 吗 可以 测试 一下 针对 大 批量 数据 同步 建议 调大一 内存 测试 来看 只要 内存 资源 够大 解析 速度 还是 非常 稳定 参考 里 性能 canal client id cursor mysql bin address client id cursor mysql bin address canal destination cube address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination cube address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination cube address event parser error com alibaba otter canal common alarm log alarm handler destination cube java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal canal snapshot dml jvm faq https github com alibaba canal wiki faq
740,中 一些 疑问 中 对 组装 方式 区别 介绍 中 有一点 模糊 啊 只有 内存 模式 这里 存储 应该 只有 会 存储 当中 理解 正确 块 只有 能力 wiki admin guide https github com alibaba canal wiki admin guide spring image https user images githubusercontent com e b e d e d cbf png store store memory zookeeper file store memory
739,哪个 中 拉 呢 客户端 版本 哪个 库 呢 拉取 不到 啊 客户端 程序 要 难道 项目 打包 再拉取 包 单独 加入 自己 项目 吗 能 库 中 直接 拉取 吗 公网 中 都 有的 canal client snapshot maven xml dependency group id com alibaba otter group id artifact id canal client artifact id version snapshot version dependency maven mvn clean install snapshot snapshot jar maven snapshot maven
738,阿里云 如何 使用 阿里云 使用 版本 之前 方式 可以 正常 同步 数据 尝试 设置 报错 请问 需要 修改 配置 版本 这个 需要 设置 能力 搜索 一下 就 可以 或者 遇到 类似 问题 检查 过 已经 启用 搜索 因为 主库 值 导致 从库 无法 同步 其他 帖子 里面 没有 知道 原因 rds gtid rds binlog position canal instance gtidon true java io io exception received error packet errno sqlstate hy errmsg the slave is connecting using change master to master auto position but the master has purged binary logs containing gti ds that the slave requires rds canal mysql gtid errmsg gtid issue gtid git purged agapple
737,参数 细节 完善 一些 细节 都 会 覆盖 掉 其次 可能 满足 限制 非常 仔细 多谢 parallel processor anyway processor ringbuffer
736,场景 开启 版本 升级 版本 目前 遇见 两 种 类型 未 填写 默认 二 学生 名 学校 描述 删除 标记 未 删除 删除 第二 条 够 复杂 第一 条 导致 第二 条 常见 麻烦 先 优先 处理 第一 条 种 多 谢 多谢 测试 发现 中 会 导致 解析 失败 版本 存在 这个 问题 无关 对 解析 支持 问题 会 记录 反馈 最新 已经 修复 请问 最新 版本 com alibaba fastsql sql parser parser exception tsdb fastsql fastsql exception student service warn event parser c a o c p i m t memory table meta parse faield alter table platform notice change column content content varchar character set utf mb collate utf mb unicode ci not null comment com alibaba fastsql sql parser parser exception at com alibaba fastsql sql parser sql expr parser parse type rest sql expr parser java student service jar at com alibaba fastsql sql parser sql expr parser parse data type sql expr parser java student service jar at com alibaba fastsql sql parser sql expr parser parse data type sql expr parser java student service jar at com alibaba fastsql sql dialect mysql parser my sql expr parser parse column my sql expr parser java student service jar at com alibaba fastsql sql dialect mysql parser my sql statement parser parse alter table my sql statement parser java student service jar at com alibaba fastsql sql dialect mysql parser my sql statement parser parse alter my sql statement parser java student service jar at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java student service jar at com alibaba fastsql sql sql utils parse statements sql utils java student service jar at com alibaba fastsql sql repository schema repository console schema repository java student service jar student service warn event parser c a o c p i m t memory table meta parse faield alter table student drop column display name drop column system modify column id bigint unsigned not null auto increment first change column name student name varchar character set utf collate utf unicode ci not null comment after id modify column description varchar character set utf collate utf unicode ci not null comment after student name modify column created at timestamp not null after description modify column updated at timestamp not null after created at change column creator created by varchar character set utf collate utf unicode ci not null after updated at change column updated name updated by varchar character set utf collate utf unicode ci not null after created by add column is deleted tinyint not null comment after description com alibaba fastsql sql parser parser exception syntax error error in modify column id bigint unsign pos line column token column at com alibaba fastsql sql parser sql parser print error sql parser java student service jar at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java student service jar at com alibaba fastsql sql sql utils parse statements sql utils java student service jar at com alibaba fastsql sql repository schema repository console schema repository java student service jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java student service jar at com alibaba otter canal parse inbound mysql tsdb database table meta apply database table meta java student service jar at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java student service jar at com alibaba otter canal parse inbound mysql dbsync log event convert parse query event log event convert java student service jar at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java student service jar sql parse type rest exception alter table collate preview tsdb fastsql ddl fastsql sql
735,启动 客户端 之后 使用率 高 启动 客户端 连接 时候 中 对应 进程 使用率 瞬间 升高 之间 这个 似乎 太 正常 里面 使用 无限 循环 这个 可能 飚高 原因 难道 客户端 通过 不断 轮训 服务 端 获取 数据 吗 客户端 代码 如下 获取 指定 数量 数据 提交 确认 如果 发生 异常 需要 回 滚上 次 读取 位置 交互 出现 异常 下面 机器 性能 参数 请 主要 关注 对应 进程 另外 版本 启动 之后 服务 端 就 会 开始 解析 工作 cpu canal server cpu java client demo cpu canal connector connector canal connectors single connector inet socket address canal server ip canal server port server destination canal user name canal password thread true connector connect connector subscribe monitor database true message message connector get without ack batch size batch id message get id size message get entries size batch id size process data message get entries connector ack batch id thread sleep exception e e print stack trace connector rollback binlog exception e e print stack trace logger error canal server connector disconnect start java processes total running sleeping threads load avg cpu usage user sys idle shared libs m resident m data m linkedit mem regions total m resident m m shared phys mem g used m wired m unused vm g vsize m framework vsize swapins swapouts networks packets m in m out disks m read m written pid command cpu time th wq port mem purg cmprs pgrp mdworker k b b mdworker k b b mdworker k b b com apple au k b b google chrom m b b java m b b top k b b java m b b java m b b tail k b b v client
734,增加 语句 支持 add create database support create database cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks
733,无效 使用 版本 需要 监听 两 张 表 文件 中 设定 客户端 代码 没有 写 语句 但是 接收 仍然 数据库 所有 表 求解 正则 应该 只有 硬 编码 另外 正则 支持 复杂 慎重 v canal instance filter regex binlog instance properties canal instance database name mall canal instance filter regex mall users mall users extra info connector subscribe mall binlog ok
732,支持 版本 什么 时候 开源 题 块 会 开源 可以 参考 一下 基于 物化 视图 做 增量 其余 可以 参考 工具 或者 实现 或者 oracle oracle https github com alibaba yugong oracle log miner cdc
731,显示 连接 成功 但是 数据库 改变 时候 收 订阅 消息 启动 并没有 报错 但是 无论 怎么 操作 数据库 都 没有 数据库 改变 日志 打印 出来 求 大 神 指教 遇到 类似 问题 版本 客户端 版本 集群 连接 启动 应用 时候 可以 消费 但是 过了 段 时间 通过 堆栈 发现 程序 阻塞 信号 量 获取 地方 哪里 没有 处理 死锁 实例 消费 求解 解决 吗 推荐 新版 本 canal canal image https user images githubusercontent com f a ebd e ee d b png server zk client client v
730,增加 支持 拉 分支 测试 目前 处理 事件 没有 对 建库 语句 进行 调用 逻辑 目前 没有 代码 大致 修改 如下 麻烦 大 神 看看 是否 合适 最新 没有 处理 这个 问题 什么 时候 开源 提交 提 怎么 操作 canal create database preview canal query create database parser log event convert parse query event druid ddl parser parse query string event get db name fastsql preview sql create database statement fastsql qq https user images githubusercontent com e f e e e af d cf jpg trunk master fastsql mr pr git hub mr
729,语句 为什么 如图 请问 这个 版本 支持 会 问题 吗 发现 会 更新 数据 丢失 问题 会 解析 异常 语法 解析 错误 会 影响 数据 手动 更新 数据库 观察 发现 有的 数据 能够 成功 收到 一些 没有 因此 就 得出 数据 丢失 结论 当前 开源 版本 支持 以下 版本 阿里 内部 因此 官方 版本 不保证 数据 可靠性 存在 丢失 情况 对吗 目前 测试 支持 以下 版本 理论 支持 以下 版本 但是 这里 描述 来看 应该 支持 因此 知道 什么 原因 麻烦 解答 一下 谢谢 这个 报错 没 关系 就 单纯 语法 解析 出错 无法 精确 过滤 数据 而已 不打紧 用的 出现 数据 更新 丢失 种 情况 如何 定位 呢 交流 一直 加 进去 能否 拉 一下 呢 谢谢 update ddl image https user images githubusercontent com a e e e b bc d png mysql image https user images githubusercontent com cd a f e e e ac ef a png ddl dml canal client canal mysql mysql canal mysql mariadb d mariadb sql mysql ps d
728,包 冲突 引用 代码 报出 操作 正常 运行 代码 报错 如何 解决 版本 有点 低 升级 一下 jar spring code canal common canal client org springframework core method parameter cannot resolve method has parameter annotation java lang spring code release dependency group id com alibaba otter group id artifact id canal client artifact id version version exclusions exclusion artifact id canal common artifact id group id com alibaba otter group id exclusion exclusions dependency java lang no def found error com alibaba otter canal common utils mutex canal
727,支持 订阅 家 伟大 公司 目前 国内 云 市场 占比 高 考虑 前面 太 多 小伙伴 反馈 过 期望 能 更 全面 支持 订阅 主要 满足 用户 对于 简单 方便 使用 针对 用户 业务 发展 迅速 对于 未来 存储 计算 扩展性 预期 会 使用 基于 分布式 数据库 解决 方案 因为 存储 本身 可以 比较 方便 基于 进行 数据 订阅 首先 明确 一下 针对 类 云 订阅 通常 会 面临 问题 账号 权限 问题 解决 策略 模拟 行为 因此 需要 权限 解决 思路 目前 默认 创建 账号 已经 自带 这些 权限 针对 高 权限 实例 可以 账号 额外 进行 一下 授权 授权 操作 参考 删除 问题 解决 对应 清理 策略 超过 小时 之后 会 删除 备份 之上 如果 任务 停止 超过 小时 就 会 遇到 类似 错误 解决 思路 默认 提供 段 时间 下载 能力 参考 文档 可以 识别 位点 中 时间戳 对比 一下 中 里 早 条 如果 不满足 会 通过 接口 进行 下载 本机 进行 解析 追平 历史 之后 切换 中 继续 消费 代码 会 支持 主备 切换 导致 问题 解决 一般 云 主备 方案 都 采用 模式 屏蔽 后端 物理 节点 之间 主备 切换 也就是 对于 来说 看到 单 节点 针对 物理 进行 主备 切换 时 拿着 老 主库 位点 订阅 时会 遇到 类似 错误 解决 思路 针对 可以 使用 订阅 方式 针对 出现 问题 时 需要 进行 本地 解析 就 无法 支持 或者 比较 推荐 就 基于 自动 识别 主备 切换 次 进行 订阅 时 检查 一下 位点 中 当前 数据库 节点 是否 一致 如果 一致 说明 服务 端 产生 主备 切换 可以 基于 时间戳 重新 新 主库 中 定位 对应 继续 后续 消费 这里 定位 位点 时 需要 考虑 删除 情况 参考 问题 代码 提交 具体 使用 文档 canal aliyun rds binlog aliyun rds binlog aliyun rds my sql aliyun drds distributed relational database service https www aliyun com product drds my sql sharding my sql canal my sql binlog canal my sql slave select replication slave replication client aliyun rds rds root quick start binlog binlog https help aliyun com knowledge detail html oss canal xx rds oss binlog https help aliyun com document detail html canal rds show binary logs binlog oss binlog rds binlog canal image https user images githubusercontent com e de d c e fe e da ce png my sql vip canal my sql ip xx my sql canal gtid binlog server id binlog server id server id binlog ps binlog https github com alibaba canal commit ea d c e ef ea c f aliyun rds https github com alibaba canal wiki aliyun rds quick start
726,整体 性能 优化 之前 较 多 小伙伴 反馈 大规模 数据 变更 时 消费 速度 有点 反馈 问题 列表 这里 会 做 相对 完整 测试 进行 针对性 优化 同时 非常 欢迎 大家 参与 代码 一起 努力 解决 性能 稳定性 问题 会 里程碑式 版本 最后 优化 结果 赞赞 赞 期待 期待 赞 先来 抛 砖 说说 以前 遇到 一些 思路 场景 使用 方式 灌 数据 同时 使用 进行 同步 表 多 文件 由于 每个 文件 中 行都 属于 张 表 事件 会 一定量 行 取决于 单句 影响 多 行 数据 情况 应该 适用 压缩 经过 解析 对象 内存 占用 急剧 膨胀 造成 频繁 甚至 版本 官方 默认 将 调高 当时 我们 通过 将 设 回 问题 绕过 如果 将 升级 应该 可以 缓解 部分 大头 还是 这个 补充 设置 内存 由于 以后 就是 平稳 正常 因此 并不 想 调整 内存 进一步 减小 第一 步 网络 优化 做 解析 识别 包 大小 位点 等 信息 做 具体 记录 级别 解析 结果 默认 设置 针对 大 吞吐量 传输 时 有点 过小 去掉 默认 设置 自我 协调 默认 物理 机上 测试 协调 结果 调整 前后 性能 吞吐量 对比 提供 倍 多 优化 之后 基本 可以 跑 满 网卡 第二 步 优化 解析 能力 跑了 简单 对象 解析 做 对象 构建 刚 开始 速度 主要 优化 时间 字段 解析 提升 到了 目前 遇到 瓶颈 观察 系统 负载 最高 核 左右 主要 集中 区 步 优化 思路 多 线程 并行 解析 最大化 使用 系统 负载 进行 优化 第三 步 整体 并发 模型 设计 按照 前面 优化 网络 对象 解析 瓶颈 都 对象 深度 解析 如果 要 最大化 性能 必须 引入 并发 设计 整体 设计 思路 如下 基于 并发 模型 整个 过程 会 分为 阶段 多 阶段 之间 互相 隔离 依赖 耗 瓶颈 解析 块 采用 多线程 模型 进行 加速 预计 整个 优化 完成 整个 解析 可以 跑 满 整个 千兆 网卡 如果 各位 万兆 网卡 机型 到时候 可以 帮忙 跑 一下 效果 针对 内存 占用 问题 什么 优化 建议 换掉 个人 一点 不成熟 想法 因为 跨 语言 可以 基于 相对来说 优点 快 占用 内存 更 少 相同 可以 使用 文件 对 太 友好 不足 地方 社区 不太 活跃 待 补充 哈哈 贴出 一些 细节 对比 此外 可以 参考 其他 对象 池 理论 中 占用 对象 峰值 就 需要 缓存 对象 个数 可以 提供 反序 列化 可以 受益 当然 这么 做 代码 会 复杂 复用 倒 基于 思路 以前 真 没 考虑 过 对象 里 种 嵌套 结构 体 不太 一样 太 理解 复 原理 并行 解析 如何 保证 有序性 办法 挺 多 举 栗子 结果 作为 卫星 数据 其他 闭锁 最后 不用 外面 爪 机 太 方便 回去 码字 串行 并行 结合体 串行 基本 对象 解析 做好 并行 主要 处理 一些 耗时 比较 长 比如 具体 字段 解析 对象 构造 等 目前 初步 测试 结果 并发 基本 可以 台 物理 机 跑满 吞吐量 能 跑到 接收 生成 整体 优化 前 大概 提升 数量级 目前 瓶颈 基本 字符串 序列 化占比 非常 高 下午 会 继续 测试 一下 整体 吞吐量 关于 嵌套 结构 假设 嵌套 两 类 都 使用 都 实现 接口 方法 对 调用 时 清楚 数据 对 每个 嵌套 调用 要 注意 内嵌 生命 周期 不应该 久 关于 对象 出来 会 回收 如果 线程 进行 那么 就 完全 会 竞争 如果 两 者 分离 会 涉及 潜在 线程 间 共享 按 串行 浅 解析 并发 深度 解析 对象 串行 处理 逻辑 序列化 点在 会 引发 深度 解析 线程 之间 竞争 解析 线程 空的 时候 它们 会 偷 一些 对象 回来 起来 至少 适合 这里 应用 除非 提早 序列 化 序列化 结果 放到 参考 对象 参考 里面 序列 化 输出 数据 次 都 应该 优化 空间 第三 步 优化 已经 完成 解析 块 引入 模型 分成 多个 阶段 网络 接收 简单 解析 深度 解析 投递 中间 耗时 深度 解析 换成 并发 解析 模型 接收 生成 对象 测试 一下 对比 未做 并行化 改造 前 大概 单 线程 做了 并行化 改造 并发 解析 大概 基本 正 相关 线性 扩展 基本 跑 满 瓶颈 如果 要 进一步 优化 能 优化 对象 构造 协议 第四 步 优化 已经 开始 主要 关注 解析 收到 数据 吞吐量 目前 逐步 压 测 情况 大概 下载 吞吐 对象 吞吐 大概 大概 数据 膨胀率 目前 看到 瓶颈 主要 序列 化 对象 时 相比 网络 传包 占 测试 记录 大概 字节 换算 记录 目前 大概 左右 测试 数据 批量 里 会 更加 紧凑 如果 优化 掉 块 理论 对象 可以 跑 满 网络 带宽 预计 可以 整体 提升 相比 未 优化 前 因为 最后 端 网络 传输 瓶颈 比较 大 所以 吃掉 前面 优化 带来 提升 如果 要 进一步 优化 改动 协议 设计 初步 优化 思路 多 线程 提前 构造 序列化 结果 避免 操作 时 临时 做 序列 化 因为 单 线程 会 瓶颈 如果 改动 协议 可以 通过 设计 一些 字典 表 压缩 部分 数据 存储 拜读 代码 参数 有些 细节 赞 非常 欢迎 大家 提交 哈 最近 思考 一些 优化 细节 目前 主要 瓶颈 点 在于 序列化 字节 放大 问题 会 尽可能 保证 兼容性 排除 极端 情况 协议 设计 改动 出现 不兼容 情况 如果 好的 想法 可以 尽快 反馈 这里 里 预留 压缩 如果 并发 深度 解析 步 额外 进行 序列化 并发 压缩 那里 压缩 数据 然后 那里 串行 接收 并行 解压 反序 列化 并行 压缩 网络 传输 压缩 网络 传输 知道 表现 如何 单 线程 压缩 网络 传输 会 平衡 点 序列化 之后 数据 压缩 需要 评测 第四 步 优化 已经 进行 大 半 大致 效果 相比 完全 未 优化 之前 提升 吞吐量 可以 跑到 万 本次 压测 数据 之前 批量 不同 选择 业务 随机 库 进行 跑 大概 网络 传输 左右 优化 点 对象 序列化 提前 进入 之前 就 完成 最后 做 拷贝 部分 提升 增加 参数 支持 解析 对象 减少 整个 串行 操作 成本 大化 提升 串行 吞吐量 目前 分析 来看 大 瓶颈 就 在于 构造 网络 传输 时 多次 数组 拷贝 现在 代码 输出 数据 会 拷贝 次 所有 数据 里 会 拷贝 次 整个 数据 里 网络 发送 原始 记录 会 至少 原先 倍 针对性 优化 就是 直 代码 一次性 构造 数据 格式 通过 方式 预计 能 提升 左右 尝试 次 数组 绕过 多 次 拷贝 步 可以 优化 如何 复用 数组 避免 每次 请求 都 开辟 新 数组 一次性 开 内存 块 还是 有一些 开销 包括 层面 测试 结论 canal dml https github com alibaba canal issues https github com alibaba canal issues https github com alibaba canal issues https github com alibaba canal issues mr ps https github com alibaba canal wiki performance image https user images githubusercontent com f b d c a e eb c b d a png ing ing issue load backup file canal insert mysql binlog merge binlog row event max size event dml event protobuf fgc oom my sql binlog row event max size binlog row event max size server client netty pooled buf protobuf memory hogs ringbuffer size g load backup file traffic ringbuffer header k socket buffer socket c g receive buffer k mb vs mb socket buffer protobuf mb mb cpu jvm gc young image https user images githubusercontent com e ac c edc e e f c e bc png ringbuffer ps lcybo protobuf protobuf java protostuff protobuf data size pojo proto protobuf generated code re use manage buffer to avoid allocating on every serialization linked buffer buffer linked buffer allocate protobuf result get serialized size pojo netty recycler ringbuffer event entry object pool protostuff io util merge from protostuff foo parsed schema foo parsed object pool object pool lcybo binlog event agapple countdownlatch parallelstream reorder agapple lan dml protobuf core cpu mb s binlog canal entry mb s cpu mysql canal server canal client row column list object pool recycable recycle row recycle fields column recycle list clear column row netty recycler bind thread local stack recycle get weak order queue proto ringbuffer get session handler get stack weak order queue netty recycler ringbuffer io netty util recycler t io netty util internal recyclable array list btw sessionhandler netty utils write ctx get channel packet builder build to array null packet builder build to array ringbufer dml store dml binlog entry mb s mb s cpu entry binlog client binlog mb s entry mb s profile server entry tps w record s insert update binlog entry protobuf entry client get protobuf image https user images githubusercontent com d dede fe e ae bd png parallel pr https github com alibaba canal pull pr protobuf protobuf so compression none zlib gzip lzf proto session handler packet builder set body client vs protobuf tps insert mb binlog mb canal entry ringbuffer session handler string simple canal connector lazy parse entry lazy canal entry get ack profile packet builder packet builder canal packet packet builder packet builder set type packet type messages messages builder message builder canal packet messages builder message builder set batch id message get id message get id message is raw performance collection utils is empty message get raw entries message builder add all messages message get raw entries collection utils is empty message get entries entry entry message get entries message builder add messages entry to string packet builder set body message builder build to string netty utils write ctx get channel packet builder build to array null message builder build to string message get raw entries packet builder build to array message packet netty utils write mb protobuf builder to string protobuf mb client https github com alibaba canal wiki performance image https user images githubusercontent com bae a c a e f f f e bc d png
725,老 版本 升级 已经 修复 请问 这个 问题 升级 解决 吗 现在 用的 还是 这个 问题 event parser error c a o canal parse inbound mysql tsdb database table meta event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table batch job seq id bigint not null unique key not null unique key unique key un unique key engine my isam charset utf compare failed db table meta schema test table batch job seq fileds field meta column name id column type bigint value null nullable false key false field meta column name unique key column type value null nullable false key true mem table meta schema test table batch job seq fileds field meta column name id column type bigint value null nullable false key false field meta column name unique key column type value null nullable false key false qingmu snapshot
724,定时 任务 明天 会 将 内存 中 数据 做 进行 过程 中会 对比 内存 值 数据库 表 结构 这个 异常 就 获取 数据库表 结构 时 产生 后续 会 增加 次 重试 确保 网络 有效性 当时 解决 方案 注释 掉 关于 注释 例如 以及 设置 这样 理解 彻底 关掉 时间 序列 版本 记录 功能 问题 什么 解决 方案 吗 只要 设置 就 关闭 时间 序列 功能 scheudle apply snapshot to db faield image https user images githubusercontent com c c bb e f c png scheduler table meta snapshot error c a o canal parse inbound mysql tsdb database table meta scheudle apply snapshot to db faield com alibaba otter canal parse exception canal parse exception java net socket exception broken pipe write failed caused by java net socket exception broken pipe write failed at java net socket output stream socket write method na at java net socket output stream socket write socket output stream java na at java net socket output stream write socket output stream java na at com alibaba otter canal parse driver mysql socket bio socket channel write bio socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta compare table meta db and memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta access database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta run database table meta java canal parse snapshot jar na at java util concurrent executors runnable adapter call executors java na at java util concurrent future task run and reset future task java na at java util concurrent scheduled thread pool executor scheduled future task access scheduled thread pool executor java na at java util concurrent scheduled thread pool executor scheduled future task run scheduled thread pool executor java na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na schedule table meta checkpoint broke pipe canal properties tsdb canal instance tsdb spring xml canal instance tsdb enable false table meta agapple qingmu canal instance tsdb enable false table meta
723,遇到 语句 执行 错误 一直 回复 数量 内容 赞同 生产 时间 评论 表 异常 event parser sql parser main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main error com alibaba druid pool druid data source test idle is true validation query not set main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance subscribe filter change to main info c a otter canal instance core canal instance start successful destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield grant all privileges on to canal identified with mysql password as e c a c a d bd dac f b d com alibaba fastsql sql parser parser exception syntax error error in identified with mysql password a expect by actual with pos line column token with at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql parser accept sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse grant sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield grant select replication slave replication client on to canal identified with mysql password as e c a c a d bd dac f b d com alibaba fastsql sql parser parser exception syntax error error in identified with mysql password a expect by actual with pos line column token with at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql parser accept sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse grant sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp destination example address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql create table t comment id bigint not null auto increment chapter id bigint not null comment member id bigint not null comment nickname varchar not null comment headicon varchar not null is reply comment content text not null comment agrees not null comment product time bigint comment create time timestamp not null current timestamp primary key id engine inno db auto increment charset utf comment destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg cannot replicate anonymous transaction when global gtid mode on at file mysql bin position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg cannot replicate anonymous transaction when global gtid mode on at file mysql bin position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg cannot replicate anonymous transaction when global gtid mode on at file mysql bin position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java cannot replicate anonymous transaction when global gtid mode on at file mysql bin position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at mysql
722,部署 台 机器 解析 失败 版本 版本 开始 将 部署 台 机器 启动 正常 操作 数据库 记录 日志 更新 但是 客户端 未 读取 后来 将 部署 其他 机器 就 能 正常 捕 获到 信息 太 清楚 为什么 会 出现 种 现象 或者是 漏 哪些 配置 版本 建议 使用 更换 版本 确实 可以 canal server mysql binlog canal mysql canal server mysql binlog canal canal server binlog canal
721,能 读取 要 创建 启 名 canal bin log open jdk bit server vm warning ignoring option perm size m support was removed in open jdk bit server vm warning ignoring option max perm size m support was removed in open jdk bit server vm warning use cms compact at full collection is deprecated and will likely be removed in a future release main info com alibaba otter canal deployer canal launcher set uncaught exception handler main info com alibaba otter canal deployer canal launcher load canal configurations main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main error com alibaba druid pool druid data source test idle is true validation query not set destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception error when doing client authentication error packet error number field count message access denied user canal using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception error when doing client authentication error packet error number field count message access denied user canal using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more main info com alibaba otter canal deployer canal launcher the canal server is running now mysql canal grant select replication slave replication client on to canal identified by canal
720,这个 属性值 长度 限制 吗 题 因为 需求 里 需要 取的 不同 数据库 表 不同 担心 这个 值 越来越 大 请问 长度 限制 吗 正则 表达式 长度 限制 印象 中 canal instance filter regex mysql k
719,为什么 连 不同 两 连接 不同 为什么 会 卡住 client instance info zoo keeper java initiating client connection connect string session timeout watcher com alibaba otter canal common zookeeper zk clientx ca ce info client cnxn java opening socket connection to server will not attempt to authenticate using sasl unknown error info client cnxn java socket connection established to initiating session info client cnxn java session establishment complete on server sessionid x fdc e negotiated timeout info zk client java zookeeper state changed sync connected client server instance zookeeper state changed sync connected
718,怎么 使用 怎么 使用 安装 中 配置 一下 数据 写入 中 不完全 漏 数据 还是 v alpha v alpha example kafka
717,新增 字段 异常 前提 配置 多 源表 都 张 表 目标 表 集群 库 不同 表 新增 字段 报错 如下 估计 重复 执行 忽略 掉 当前 异常 跳过 这个 要 如何 忽略 呢 配置 实现 跳过 异常 跳过 异常 我们 上面 报错 异常 如果 跳过 异常 怕 会 所有 异常 都 跳过 针对 异常 跳过 这个 要 如何 解 呢 忽略 异常 选项 跳过 异常 会 出现 没有 同步 过来 比如 源 表 同步 目标 库 不同 表 目标 表 同步 成功 目标 表 跳过 异常 就 没有 同步 ddl com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name name channel channel mysql canal ddl pipeline id task name load worker error com alibaba otter node etl load load task load work executor is error data etl event data curr nid next nid desc memory pipe key identity identity channel id pipeline id process id time data type db batch process id start time end time null first time batch id number size null exts null pipeline id com alibaba otter node etl load exception load exception java util concurrent execution exception com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception org springframework jdbc bad sql grammar exception statement callback bad sql grammar nested exception is com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name name caused by java util concurrent execution exception com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception org springframework jdbc bad sql grammar exception statement callback bad sql grammar nested exception is com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name name at java util concurrent future task report future task java na at java util concurrent future task get future task java na at com alibaba otter node etl load loader db data batch loader load data batch loader java node etl snapshot jar na at com alibaba otter node etl load loader otter loader factory load otter loader factory java node etl snapshot jar na at com alibaba otter node etl load load task run load task java node etl snapshot jar na at java util concurrent executors runnable adapter call executors java na at java util concurrent future task run future task java na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na caused by com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception org springframework jdbc bad sql grammar exception statement callback bad sql grammar nested exception is com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name name caused by com alibaba otter node etl load exception load exception org springframework jdbc bad sql grammar exception statement callback bad sql grammar nested exception is com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name name ddl ddl otter otter select load load load load ddl ddl
716,找 位点 进入 无限 循环 中 这个 类 下面 这个 方法 根据 给定 时间戳 指定 中 找到 最接近于 时间戳 必须 小于 时间戳 事务 起始 位置 针对 最后 会 给定 避免 无尽 查询 配置 文件 里面 指定 开启 功能 服务 启动 时候 程序 会 进入 这里 找 起始 位点 由于 没有 找到 这个 位点 程序 会 一致 找 下去 甚至 大于 找 导致 一直 出于 初始化 阶段 然后 就 会 出现 客户端 无法 创建 位点 存在 还是 通过 这个 命令 找 条 最后 条 记录 然后 去取 作为 然后 上面 源码 就 进入 无限 循环 当中 拿到 位点 之后 一直 没有 新的 数据么 数据 但是 已经 进入 文件 最后 位点 但是 下面 文件 最新 版本 优化 判断 退出 条件 table meta tsdb mysql event parser binlog binlog end position entry position find as per timestamp in specific log file mysql connection mysql connection start timestamp entry position end position string search binlog file just position timestamp canal instance master journal name mysql bin canal instance master position tsdb canal cursor https github com alibaba canal issues show binlog events in mysql bin mysql bin rotate mysql bin pos canal instance master position mysql bin mysql bin
715,客户端 启动 中 创建 更新 位置 信息 目前 我们 遇到 这个 问题 禁用 功能 版本 一些 问题 换 canal otter zookeeper cursor binlog https github com alibaba canal issues tsdb
714,作用 服务 端 指定 客户端 但是 服务 端 解析 时 遇到 已经 表 不需要 同步 表 相关 日志 时 会 报错 就说 失败 其实 这些 表是 会 出现 里 不知道 如何 解决 filter canal instance filter regex connector subscribe binlog drop desc db name table name canal instance filter regex
713,同步 过程 突然 报错 相关 安装 包 种 嵌套 里面 如果 单独 高 版本 修复 问题 的话 是否 会 提供 相应 修复 版本 或者 没 提供 独立 部署 非 嵌套 安装 说明 报错 信息 如下 看下 升级 版本 好的 试试 先 谢谢 canal parse exception parse row data failed canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first mysql canal manager deployer tar gz node deployer tar gz ps canal canal manage node manager node canal canal com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted issue https github com alibaba canal issues
712,版本 服务 启动 出现 以下 问题 启动 会 产生 非 认证 用户 连接 锁 文件 错误 还是 第一 次 见 是否 次 出现 异常 正式 环境 中 第一 次 启动 就 出现 种 情况 估计 重复 启动 检查 一下 这个 文件 对应 文件 句柄 哪个 进程 已经 打开 org h message db exception general error java lang illegal state exception the file is locked nio usr local canal conf business h mv db canal instance canal server unauthenticated user database flush org h message db exception general error java lang illegal state exception the file is locked nio usr local canal conf business h mv db at org h message db exception get db exception java at org h message db exception convert db exception java at org h mvstore db mv table engine uncaught exception mv table engine java at org h mvstore mv store panic mv store java at org h mvstore mv store init mv store java at org h mvstore mv store builder open mv store java at org h mvstore db mv table engine store open mv table engine java at org h mvstore db mv table engine init mv table engine java at org h engine database get page store database java at org h engine database open database java at org h engine database open database database java at org h engine database init database java at org h engine engine open session engine java at org h engine engine open session engine java at org h engine engine create session and validate engine java at org h engine engine create session engine java at org h engine engine create session engine java at org h engine session remote connect embedded or server session remote java at org h jdbc jdbc connection init jdbc connection java at org h jdbc jdbc connection init jdbc connection java at org h driver connect driver java at com alibaba druid pool druid data source create physical connection druid data source java at com alibaba druid pool druid data source create physical connection druid data source java at com alibaba druid pool druid data source create connection thread run druid data source java caused by org h jdbc jdbc sql exception general error java lang illegal state exception the file is locked nio usr local canal conf business h mv db at org h message db exception get jdbc sql exception db exception java more caused by java lang illegal state exception the file is locked nio usr local canal conf business h mv db at org h mvstore data utils illegal state exception data utils java at org h mvstore file store open file store java at org h mvstore mv store init mv store java more agapple canal crash agapple the file is locked instance usr local canal conf business h mv db
711,连接 阿里云 相关 配置 文件 好像 没有 啊 另外 这个 配置 针对 外 网 是否 内网 地址 这个 下载 配置 目前 未 完全 成型 如果 需要 使用 可以 了解 一下 代码 参考 canal rds rds canal instance rds open url https rds aliyuncs com rds binlog openapi https github com alibaba canal wiki faq
710,启动 服务 就 报 这个 错 版本 端口 通 可以 试试 java io io exception connect xxx failure java io io exception unexpected end canal canal destination example address xxx event parser error c a otter canal parse inbound mysql mysql event parser dump address xxx has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect xxx failure java io io exception unexpected end stream at com alibaba otter canal parse driver mysql utils packet manager read bytes as buffer packet manager java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception connect xxx failure java io io exception unexpected end stream at com alibaba otter canal parse driver mysql utils packet manager read bytes as buffer packet manager java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na java io io exception connect xxx failure java io io exception unexpected end stream
709,增加 状态 监控 增加 状态 监控 运行 集群 的话 类似 先 启动 先 抢占 启动 阻塞 等待 基于 抢占 中 目录 针对 使用 能 写 简单 说明 文档 群 里 咨询 使用 说明 打包 以后 使用 文件 夹 作为 服务 端 配置 修改 其他 配置 项 原先 一样 新增 配置 地址 重试 次数 批量 大小 批次 大小 单位 如果 数据库 写 操作 量大 建议 修改 实例 分区 可以 对应 多个 使用 参考 中 canal kafka client running canal kafka client running kafka client canal client topic group id zookeeper otter canal topics example group id tks rewerma kafka agapple kafka target canal conf canal properties canal without netty true conf kafka yml servers slave slave slave kafka server retries kafka batch size kafka linger ms buffer memory canal batch size canal k m filter transaction entry true canal destinations canal destination example canal topic example kafka topic partition topics destination topic topic example partition canal kafka client test com alibaba otter canal kafka client running canal kafka client example
708,数据 处理 失败 回滚 会 重复 处理 情况 因为 按 批次 如果 批次 里 条 处理 失败 这个 时候 开始 回滚 然后 重新 处理 刚才 处理 失败 批次 数据 如果 那个 批次 处理 失败 之前 都 处理 成功 次 处理 岂不是 重复 处理 重复 无法 避免 能 自己 代码 中 重 遇到 过 这个 情况 捕获 异常 将 当前 批次 数据 持久化 数据库 记录 异常 信息 然后 正常 提交 批次 数据 为了 避免 重复 处理 除了 这个 措施 之外 需要 避免 处理 一半 就 异常 崩溃 情况 id ack rollback agapple
707,启动 正常 客户端 订阅 卡住 错误 日志 拒绝 连接 拒绝 连接 有时候 就 会 一直 卡 这个 错误 需要 重启 才 正常 有时候 这个 错误 会 出现 最后 能 订阅 成功 需要 重启 版本 有时候 会 出现 这个 问题 请 问 解决 吗 尝试 一下 最新 canal canal zk client event thread vm vm vm error org i itec zkclient zk event thread error handling event zk event data of otter canal destinations yuantong order mysql running changed sent to com alibaba otter canal client impl running client running monitor e d com alibaba otter canal protocol exception canal client exception something goes wrong in init running method at com alibaba otter canal client impl running client running monitor init running client running monitor java at com alibaba otter canal client impl running client running monitor handle data deleted client running monitor java at org i itec zkclient zk client run zk client java at org i itec zkclient zk event thread run zk event thread java caused by com alibaba otter canal protocol exception canal client exception java net connect exception at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl simple canal connector access simple canal connector java at com alibaba otter canal client impl simple canal connector process active enter simple canal connector java at com alibaba otter canal client impl running client running monitor process active enter client running monitor java at com alibaba otter canal client impl running client running monitor init running client running monitor java common frames omitted caused by java net connect exception at sun nio ch net connect method at sun nio ch net connect net java at sun nio ch net connect net java at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal client impl simple canal connector connect simple canal connector java common frames omitted canal v
706,为什么 启动 两 端 连接 连 不上 启动 两 连接 第二 启动 时 一直 卡 那里 启动 成功 java client canal server client canalserver subcribe
705,提示 检查 一下 文件 位点 有效性 mysql canal java io io exception received error packet errno sqlstate hy errmsg could not open log file destination dev address event parser info c a otter canal parse inbound mysql mysql connection com binlog dump with position binlog dump command packet binlog position slave server id binlog file name mysql bin command destination dev address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not open log file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination dev address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not open log file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination dev address event parser error com alibaba otter canal common alarm log alarm handler destination dev java io io exception received error packet errno sqlstate hy errmsg could not open log file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination dev address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to received error packet errno sqlstate hy errmsg could not open log file binlog
704,表 设置 主键 对 字段 长度 进行 限定 时 识别 列 当表 结构 如上 时 会报 谢谢 异常 栈 新 版本 这个 记得 已经 修复 过 版本 这个 问题 还是 存在 试试 版本 canal create table job execution script app id not null job id not null script name varchar not null committer name varchar not null primary key app id job id script name committer name engine innodb charset utf canal unknow column script name error destination ido address ido event parser error com alibaba otter canal common alarm log alarm handler destination ido java lang runtime exception unknow column script name at com alibaba otter canal parse inbound table meta get field meta by name table meta java at com alibaba otter canal parse inbound mysql tsdb memory table meta process table element memory table meta java at com alibaba otter canal parse inbound mysql tsdb memory table meta parse memory table meta java at com alibaba otter canal parse inbound mysql tsdb memory table meta find memory table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta compare table meta db and memory database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java
703,保留 周期 默认 保留 小时 如果 想 回溯 重新 指定 消费 应该 找不到 文件 相应 位置 保 存在 中 需要 下载 进行 本地 解析 处理 参考 rds binlog rds binlog cursor binlog rd sbinlog oss oss https github com alibaba canal wiki faq
702,指定 作用 还是 能够 获取 全 库 监听 数据 段 代码 指定 还是 能够 收到 所有 表 数据 请问 哪里 配置 问题 搜索 一下 历史 使用 正则 表达式 这个 正则 要 转义 一下 才 能 比如 这个 例子 需要 转义 成 才 能 正则 中 代表 任意 字符 含义 才 点 由于 单个 反 斜杠 代表 转义 因此 需要 转义 所以 就 变成 上面 那个 样子 一下 filter connector subscribe database name table name filter binlog issue filter database name table name database name table name faq https github com alibaba canal wiki faq
701,连续 运行 两 天 左右 就 会 出现 异常 稳定 出来 什么 影响 没有 出错 恢复 机制 吗 同时 连接 数据库 实例 其中 实例 掉了 并且 似乎 没有 办法 恢复 版本 试试 canal canal com alibaba otter canal parse exception canal parse exception parse row data failed at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted down
700,降低 依赖 版本 申明 kafka server running tks
699,尝试 配置 文件 中 未 配置 已经 翻遍 中 类似 问题 解决 方案 尝试 删除 文件 文件 都 不行 侧 发生 变化 先 报 这个 接下来 报 这个 具体 异常 多 贴 一点 关键 字 关键 字 这个 报错 创建 本地 内存 表 时候 能 识别 这个 关键 字 如果 替换 掉 内存 数据库 需要 怎么 搞 关 目前 正常 中 配置 还是 会 收到 当前 实例 所有 数据库 变更 事件 配置 这个 意义 这个 没啥 意义 删除 could not find first log file name in binary log index file mysql maria db canal alpha position issues canal meta h mv db mysql canal example com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum could not find first log file name in binary log index file destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table all plugins plugin name varchar not null plugin version varchar not null plugin status varchar not null plugin type varchar not null plugin type version varchar not null plugin library varchar null plugin library version varchar null plugin author varchar null plugin description longtext plugin license varchar not null load option varchar not null plugin maturity varchar not null plugin auth version varchar null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table columns table catalog varchar not null table schema varchar not null table name varchar not null column name varchar not null ordinal position bigint unsigned not null column longtext is nullable varchar not null data type varchar not null character maximum length bigint unsigned null character octet length bigint unsigned null numeric precision bigint unsigned null numeric scale bigint unsigned null datetime precision bigint unsigned null character set name varchar null collation name varchar null column type longtext not null column key varchar not null extra varchar not null privileges varchar not null column comment varchar not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table events event catalog varchar not null event schema varchar not null event name varchar not null definer varchar not null time zone varchar not null event body varchar not null event definition longtext not null event type varchar not null execute at datetime null interval value varchar null interval field varchar null sql mode varchar not null starts datetime null ends datetime null status varchar not null on completion varchar not null created datetime not null last altered datetime not null last executed datetime null event comment varchar not null originator bigint not null character set client varchar not null collation connection varchar not null database collation varchar not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table parameters specific catalog varchar not null specific schema varchar not null specific name varchar not null ordinal position not null parameter mode varchar null parameter name varchar null data type varchar not null character maximum length null character octet length null numeric precision null numeric scale null datetime precision bigint unsigned null character set name varchar null collation name varchar null dtd identifier longtext not null routine type varchar not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table partitions table catalog varchar not null table schema varchar not null table name varchar not null partition name varchar null subpartition name varchar null partition ordinal position bigint unsigned null subpartition ordinal position bigint unsigned null partition method varchar null subpartition method varchar null partition expression longtext subpartition expression longtext partition description longtext table rows bigint unsigned not null avg row length bigint unsigned not null data length bigint unsigned not null max data length bigint unsigned null index length bigint unsigned not null data free bigint unsigned not null create time datetime null update time datetime null check time datetime null checksum bigint unsigned null partition comment varchar not null nodegroup varchar not null tablespace name varchar null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table plugins plugin name varchar not null plugin version varchar not null plugin status varchar not null plugin type varchar not null plugin type version varchar not null plugin library varchar null plugin library version varchar null plugin author varchar null plugin description longtext plugin license varchar not null load option varchar not null plugin maturity varchar not null plugin auth version varchar null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table processlist id bigint not null user varchar not null host varchar not null db varchar null command varchar not null time not null state varchar null info longtext time ms decimal not null stage tinyint not null max stage tinyint not null progress decimal not null memory used not null examined rows not null query id bigint not null info binary blob tid bigint not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table routines specific name varchar not null routine catalog varchar not null routine schema varchar not null routine name varchar not null routine type varchar not null data type varchar not null character maximum length null character octet length null numeric precision null numeric scale null datetime precision bigint unsigned null character set name varchar null collation name varchar null dtd identifier longtext routine body varchar not null routine definition longtext external name varchar null external language varchar null parameter style varchar not null is deterministic varchar not null sql data access varchar not null sql path varchar null security type varchar not null created datetime not null last altered datetime not null sql mode varchar not null routine comment longtext not null definer varchar not null character set client varchar not null collation connection varchar not null database collation varchar not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table system variables variable name varchar not null session value varchar null global value varchar null global value origin varchar not null value varchar null variable scope varchar not null variable type varchar not null variable comment varchar not null numeric min value varchar null numeric max value varchar null numeric block size varchar null value list longtext read only varchar not null command line argument varchar null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table triggers trigger catalog varchar not null trigger schema varchar not null trigger name varchar not null event manipulation varchar not null event object catalog varchar not null event object schema varchar not null event object table varchar not null action order bigint not null action condition longtext action statement longtext not null action orientation varchar not null action timing varchar not null action reference old table varchar null action reference table varchar null action reference old row varchar not null action reference row varchar not null created datetime null sql mode varchar not null definer varchar not null character set client varchar not null collation connection varchar not null database collation varchar not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table views table catalog varchar not null table schema varchar not null table name varchar not null view definition longtext not null check option varchar not null is updatable varchar not null definer varchar not null security type varchar not null character set client varchar not null collation connection varchar not null algorithm varchar not null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin g position server id gtid null timestamp destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin g position server id gtid null timestamp destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin g position server id gtid null timestamp destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin g position server id gtid null timestamp destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin g position server id gtid null timestamp destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na page checksum mariadb mariadb mysql tsdb instance properties canal instance database name aaa i have seen the same problem there is my log environment mysql log source distribution canal canal deployer destination example address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run unknown source na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run unknown source na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source sqlstate hy errmsg could not find first log file name in binary log index file binlog but i can execute the sql to find out that file show binary logs
698,client running monitor shutdown delay exector threadpool tks
697,模式 发生 切换 时 会 必须 方法 里 执行 否则 能 优雅 应用 一会儿 提交 client running monitor shutdown delay exector threadpool version alpha client cluster ha com alibaba otter canal client impl running client running monitor submit job delay exector stop delay exector shutdown shutdown pr please assign the issue to me thanx
696,使用 问题 场景 版本 方法 有时 会 卡住 而且 得不到 订阅 消息 信息 一切 正常 就是 消费 消息 版本 会 这个 问题 现在 生产 环境 使用 想 问 这个 有的 吗 杀 看一下 卡 哪里 一般 没有 获得 锁 客户端 节点 就 客户端 现在 不用 直 连 收 消息 换 就 能 收到 现在 什么 都 做 无语 啊 这个 这个 找到 原因 里 配置 里 配置 不一样 里 里 之前 改 时 没 弄 回来 canal spring instance xml connector subscribe binlog zookeeper binlog bug thread dump zk running nbqyqx zk binlog destination szctest address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to destination szctest address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination szctest address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination szctest address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to destination szctest address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure java io io exception error when doing client authentication error packet error number field count message access denied user retl using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source caused by java io io exception connect failure java io io exception error when doing client authentication error packet error number field count message access denied user retl using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run unknown source na mysql retl instance instance xml instance canal instance master db username xml canal instance db username group
695,增加 对 信息 生成 消费 支持 端 直接 订阅 获取 发送 中 增加 属性 可以 关闭 端 服务 增加 直接 消费 数据 原来 架构 通过 支持 架构 非常 会 仔细 一下 已经 合并 效率 真 高 kafka canal binlog canal server destination message kafka canal properties canal without netty server netty kafka client message canal server netty message nio canal client kafka canal server kafka prducer message kafka kafka consumer canal kafka client great support looking forward to accept the patch https github com alibaba canal issues nice pr
694,解析 速度 问题 库里面 今天 分钟 内 我们 做 数据 插入 操作 导致 大量 生成 但是 解析 速度 非常 慢 话 将近 小时 才 追上 实际 位点 不知道 这个 如何 调优 参考 里 性能 canal kw binglog canal faq https github com alibaba canal wiki faq
693,监听 不到 使用 监听 时候 配置 种 结构 监听 不到 请问 是否 文件 名称 关系 没 反馈 过 类似 问题 请 描述 重现 步骤 应该 来回 切换 集群 模式 造成 清理 生成 文件 就 好了 binlog mysql binlog log bin mysql bin binlog zk
692,指定 位点 进行 同步 时候 使用 时间戳 指定 问题 如果 使用 时间戳 指定 不使用 文件 名 辅助 代码 会 获取 头尾 位置 文件 这个 时候 如果 粗暴 管理 或者 其他 情况 导致 文件 物理 删除 会 获取 起始 文件 导致 报错 关键 代码 根据 时间 查找 位置 查询 当前 位置 时候 会 报错 使用 命令 获取 大于 文件 然后 使用 获取 起始 位点 信息 会好 一点 可以 考虑 提交 给我 binlog binlog dba binlog binlog mysql event parser binlog entry position find by start time stamp mysql connection mysql connection start timestamp entry position end position find end position mysql connection entry position start position find start position mysql connection binlog entry position find start position mysql connection mysql connection result set packet packet mysql connection query show binlog events limit list string fields packet get field values collection utils is empty fields canal parse exception command show binlog events limit has an error pls check you need at least one of the replication client privilege s operation entry position end position entry position fields get value of fields get end position io exception e canal parse exception command show binlog events limit has an error e show binlog events limit my sql none show binlog events limit error hy file mysqlmaster bin not found errcode no such file or directory show binary logs size show binlog events pr
691,集群 链接 时候 报错 还是 报 一下 版本 号 觉得 应该 加 模板 不然 各式各样 问题 样子 使用 版本 java com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at com dangdang canal dd pim job run dd pim job java at java lang thread run unknown source caused by java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector read simple canal connector java at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java
690,支持 匹配 多 吗 比如 数据库 分库 分别 其它 库 关心 关心 三 怎么 写 写成 作用 这样 就 行了 canal instance filter regex schema pay n pay n pay n canal instance filter regex canal instance filter regex pay n pay n w
689,实例 要 手动 创建 吗 题 实例 要 每次 手动 创建 吗 如果 自动 配置 应该 怎么 配置 每次 好像 能 自动 生成 文件夹 但是 客户端 连接 时会 报错 canal
688,设置 成指 定的 库后 为啥 其它 库 增删 改 能 收到 消息 如题 指定 里 指定 库 但是 消费 时 所有 库 改变 都 能 监听 查 一下 历史 谢谢 canal instance database name instance instance issue agapple
687,会 不时 报错 远程 主机 强迫 关闭 现有 连接 报错 日志 日志 日志 没有 报错 日志 如下 远程 主机 强迫 关闭 现有 连接 主要 超时 机制 导致 版本 会 做 一下 优化 关注 一下 这个 windows canal server instance canal stack i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x c e exception java io io exception at sun nio ch socket dispatcher write method at sun nio ch socket dispatcher write unknown source at sun nio ch io util write from buffer unknown source at sun nio ch io util write unknown source at sun nio ch socket channel impl write unknown source at org jboss netty channel socket nio socket send buffer pool pooled send buffer transfer to socket send buffer pool java at org jboss netty channel socket nio nio worker write nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker unknown source at java util concurrent thread pool executor worker run unknown source at java lang thread run unknown source https github com alibaba canal issues
686,占 满 导致 磁盘 空间 使用 题 版本 占 满 导致 磁盘 空间 使用 内存 这个 增 不减 导致 最终 磁盘 空间 使用率 当前 重启 以后 磁盘 空间 恢复 正常 然后 就 开始 轮 增 不减 过程 canal server swap v alpha canal server swap swap cpu s us sy ni id wa hi si st ki b mem total used free buffers ki b swap total used free cached canal server swap cached rootfs g g g canal server swap cached
685,数据库 连接 问题 现在 基于 取消 客户端 改为 现在 数据库 连接 出 问题 能 帮忙 一下 吗 agapple v event store kafka gf vm d xhrh z s f ps https user images githubusercontent com ed b d e d d c d d d png
684,开启 经常 报 看到 其他 说 建议 开启 心跳 所以 开启 结果 容易 出错 报错 时 影响 数据 捕获 第二 天 再看 就 无法 捕获 数据 关闭 正常 版本 两 参数 都 还是 不稳定 客户端 间隔 段 时间 连 服务 端 就 会 出 必 出现 我们 环境 出 本地 测试 下午 就 出 这个 错 建议 更新 版本 关注 一下 这个 detecting connection reset by peer issue canal instance detecting enable true canal instance detecting heartbeat ha enable true false connection reset by peer https github com alibaba canal issues
683,求 问 版本 出现 消费 堆积 并且 端 磁盘 占 满 题 求 问 版本 昨天 大概 四 小时 时间 发现 消费 出现 延迟 当前 消费 数据 主要 数据 出现 延迟 两 小时 前 已经 更新 数据库 然后 才 消费 数据 没有 问题 另外 磁盘 知道 那个 文件 占 满 重 启 磁盘 空间 恢复 正常 当时 服务 未 恢复 段 时间 自动 恢复 没有 发现 明显 报错 所以 想 请教 大家 没 遇到 这样 问题 以及 出现 问题 原因 什么 呢 多谢 v alpha server v alpha canal update canal client insert canal server server
682,fix java type support tks
681,块 主干 已经 修复 非 这样 改动 模式 fix issue cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr winger seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
680,非 标准 字段名 时 解析 出错 如下 图 示表 结构 通过 解析 出来 结果 如下 此时 通过 比对 内存 实际 表字 段 时 就 会 出现 字段名 对应 不上 问题 下载 最新 发布 包 table unique key tsdb image https user images githubusercontent com a b e d c e png canal fastsql image https user images githubusercontent com d a bc a b e b af e d png canal name
679,merge pull request from alibaba master merge from master cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
678,找 合适 位点 com alibaba otter canal parse exception canal parse exception can t find start position example image https user images githubusercontent com a a e e fad png image https user images githubusercontent com f c f a e f bb c e d png
677,缺省 值 能 强制 要求 配置 保证 向前 兼容 版本 canal instance gtidon v alpha main error c a o c common zookeeper running server running monitor start failed com google common collect computation exception com alibaba otter canal common canal exception org springframework beans factory bean creation exception error creating bean with name instance defined in path resource spring instance xml cannot resolve reference to bean event parser setting bean property event parser nested exception is org springframework beans factory bean creation exception error creating bean with name event parser defined in path resource spring instance xml initialization of bean failed nested exception is org springframework beans type mismatch exception failed to convert property value of type java lang string to required type property is gtid mode nested exception is java lang illegal argument exception invalid value at com google common collect map maker computing map adapter get map maker java guava jar na at com alibaba otter canal server embedded canal server with embedded start canal server with embedded java canal server snapshot jar na at com alibaba otter canal deployer canal controller process active enter canal controller java canal deployer snapshot jar na at com alibaba otter canal common zookeeper running server running monitor process active enter server running monitor java canal common snapshot jar na at com alibaba otter canal common zookeeper running server running monitor init running server running monitor java canal common snapshot jar na at com alibaba otter canal common zookeeper running server running monitor start server running monitor java canal common snapshot jar na at com alibaba otter canal deployer canal controller start canal controller java canal deployer snapshot jar na at com alibaba otter canal deployer canal launcher main canal launcher java canal deployer snapshot jar na caused by com alibaba otter canal common canal exception org springframework beans factory bean creation exception error creating bean with name instance defined in path resource spring instance xml cannot resolve reference to bean event parser setting bean property event parser nested exception is org springframework beans factory bean creation exception error creating bean with name event parser defined in path resource spring instance xml initialization of bean failed nested exception is org springframework beans type mismatch exception failed to convert property value of type java lang string to required type property is gtid mode nested exception is java lang illegal argument exception invalid value caused by org springframework beans factory bean creation exception error creating bean with name instance defined in path resource spring instance xml cannot resolve reference to bean event parser setting bean property event parser nested exception is org springframework beans factory bean creation exception error creating bean with name event parser defined in path resource spring instance xml initialization of bean failed nested exception is org springframework beans type mismatch exception failed to convert property value of type java lang string to required type property is gtid mode nested exception is java lang illegal argument exception invalid value at org springframework beans factory support bean definition value resolver resolve reference bean definition value resolver java spring beans release jar release at org springframework beans factory support bean definition value resolver resolve value necessary bean definition value resolver java spring beans release jar release at org springframework beans factory support autowire capable bean factory apply property values autowire capable bean factory java spring beans release jar release at org springframework beans factory support autowire capable bean factory populate bean autowire capable bean factory java spring beans release jar release at org springframework beans factory support autowire capable bean factory create bean autowire capable bean factory java spring beans release jar release at org springframework beans factory support autowire capable bean factory create bean autowire capable bean factory java spring beans release jar release at org springframework beans factory support bean factory get object bean factory java spring beans release jar release at org springframework beans factory support singleton bean registry get singleton singleton bean registry java spring beans release jar release at org springframework beans factory support bean factory get bean bean factory java spring beans release jar release at org springframework beans factory support bean factory get bean bean factory java spring beans release jar release at org springframework beans factory support listable bean factory pre instantiate singletons listable bean factory java spring beans release jar release at org springframework context support application context finish bean factory initialization application context java spring context release jar release
676,这个 呀 替换 成 具体 版本 manager deployer x y z tar gz https github com alibaba otter releases download otter x y z manager deployer x y z tar gz xyz
675,多 同时 启动 次 只能 最多 工作 台 部署 次 起来 只有 能 获取 位点 信息 而且 重启 五 固定 其中 报 没 权限 需要 账号 开 这个 权限 文档 里 提到 权限 经常 报错 可以 不用 吗 订单 号 年 月 订单 中心 单号 项目 项目 名称 经纪人 经纪人 名字 经纪人 电话 号码 楼盘 销售 销售 人员 名称 销售 小组 销售 小组 名字 拓展 拓展 人员 名称 拓展 小组 拓展 小组 名称 应收款 应付款 归属 收入 应收 应付 销售 归属 收入 拓展 归属 收入 公共 池 收入 归属 收入 低于 天 实际 收款 超过 天 实际 收款 销售 拓展 分成 比例 认购 时间 客户 成交 日期 上传 回执 单 时间 确认 周期 销售 小组 应收 金额 销售 小组 收 金额 拓展 小组 应收 金额 拓展 小组 收 金额 订单 是否 包销 非 包销 包销 类 包销 实际 销售 费用 实际 易 快报 中 提报 申请 支付 业绩 提成 金额 固定 收益 回 固定 收益 应收 佣金 回 佣金 应付 佣金 回 佣金 应付 佣金 应收 成交 奖 回 成交 奖 应付 成交 奖 应收 跳 点 回跳 点 应付 跳 点 应收 溢价 回 溢价 应付 溢价 创建 时间 订单 关闭 时间 订单 未 关闭 订单 关闭 系统 时间 是否 删除 未 删除 删除 经纪人 标签 表 主键 经纪人 评价 标签 次数 版本 新 版本 已经 修复 过 这个 问题 年 月 日 写道 版本 新 版本 已经 修复 过 这个 问题 使用 最新 server instance canal server instance instance show view command select replication slave replication client destination mysql upanb cn address mysql upanb cn event parser error c a otter canal parse inbound mysql mysql event parser dump address mysql upanb cn has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show view command denied to user canal table taglist sql state sql state marker with command show create table pointstore admin show create table pointstore blacklist show create table pointstore clearuk show create table pointstore duibaorder show create table pointstore point detail description show create table pointstore returnpoint show create table pointstore s admin show create table pointstore t adminlog show create table pointstore t broker show create table pointstore t broker copy show create table pointstore t brokercompany show create table pointstore t exchangerule show create table pointstore t luckproduct show create table pointstore t luckrecord show create table pointstore t luckrecord show create table pointstore t luckrecord show create table pointstore t luckrecord show create table pointstore t oauthinfo show create table pointstore t oauthinfo bak show create table pointstore t oauthinfo copy show create table pointstore t pointactivity show create table pointstore t pointdetail show create table pointstore t pointmain show create table pointstore t pointmain show create table pointstore t pointmain bak show create table pointstore t pointmain copy show create table pointstore t pointproduct show create table pointstore t pointrule show create table pointstore t pointsetting show create table pointstore t pointstoreadminauthority show create table pointstore t pointstoreinvoice show create table pointstore t pointstorevisitlog show create table pointstore t productinventory show create table pointstore t productpic show create table pointstore t productscategory show create table pointstore t productsexchange show create table pointstore t productsexpand show create table pointstore t productshow show create table pointstore t provincecityarea show create table pointstore t ruletocity show create table pointstore taglist show create table pointstore test show create table pointstore timelist show create table pointstore v brokerpoint show create table pointstore v luckrecord show create table pointstore v pointstoreinvoicetotal show create table pointstore v pointstoreinvoicetotal a show create table pointstore v productshow show create table pointstore v productshowlist show create table pointstore v productwarehouse show create table pointstore yearlist caused by java io io exception error packet error number field count message show view command denied to user canal table taglist sql state sql state marker destination mysql upanb cn address mysql upanb cn event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to mysql upanb cn destination mysql upanb cn address mysql upanb cn event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to mysql upanb cn tsdb destination mysql upanb cn address mysql upanb cn event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table group order history detail result id not null comment year not null comment month not null comment order id not null comment product id not null comment id product name varchar not null comment broker id not null comment id broker name varchar not null comment broker phone varchar not null comment building id not null comment id sale id not null comment id sale name varchar not null comment sale group id not null comment id sale group name varchar not null comment expand id not null comment id expand name varchar not null comment expand group id not null comment id expand group name varchar not null comment accounts amount bigint not null comment out accounts amount bigint not null comment actual ascription amount bigint not null comment sale actual ascription amount bigint not null comment expand actual ascription amount bigint not null comment amount bigint not null comment cav accounts amount bigint not null comment out cav accounts amount bigint not null comment sale divide rate not null comment subscription time timestamp not null on update current timestamp comment handle time timestamp not null current timestamp comment confirm time timestamp not null current timestamp comment confirmation cycle not null comment sale actual accounts amount bigint not null comment sale actual cav accounts amount bigint not null comment expand actual accounts amount bigint not null comment expand actual cav accounts amount bigint not null comment is baoxiao tinyint not null comment actual cost bigint not null comment fixed amount bigint not null comment cav fixed amount bigint not null comment receivable commission bigint not null comment cav commission bigint not null comment pay commission bigint not null comment cav commission bigint not null comment pay commission bigint not null comment receivable deal bigint not null comment cav deal bigint not null comment pay deal bigint not null comment receivable jump bigint not null comment cav jump bigint not null comment pay jump bigint not null comment receivable premium bigint not null comment cav premium bigint not null comment pay premium bigint not null comment create time timestamp not null current timestamp comment close time timestamp null null on update current timestamp comment is close tinyint not null comment sys time timestamp not null current timestamp comment is delete tinyint not null comment unique key index result id year month engine inno db charset utf compare failed db table meta schema tops data gdm table group order history detail fileds field meta column name result id column type value nullable false key true field meta column name year column type value nullable false key true field meta column name month column type value nullable false key true field meta column name order id column type value nullable false key false field meta column name product id column type value nullable false key false field meta column name product name column type varchar value nullable false key false field meta column name broker id column type value nullable false key false field meta column name broker name column type varchar value nullable false key false field meta column name broker phone column type varchar value nullable false key false field meta column name building id column type value nullable false key false field meta column name sale id column type value nullable false key false field meta column name sale name column type varchar value nullable false key false field meta column name sale group id column type value nullable false key false field meta column name sale group name column type varchar value nullable false key false field meta column name expand id column type value nullable false key false field meta column name expand name column type varchar value nullable false key false field meta column name expand group id column type value nullable false key false field meta column name expand group name column type varchar value nullable false key false field meta column name accounts amount column type bigint value nullable false key false field meta column name out accounts amount column type bigint value nullable false key false field meta column name actual ascription amount column type bigint value nullable false key false field meta column name sale actual ascription amount column type bigint value nullable false key false field meta column name expand actual ascription amount column type bigint value nullable false key false field meta column name amount column type bigint value nullable false key false field meta column name cav accounts amount column type bigint value nullable false key false field meta column name out cav accounts amount column type bigint value nullable false key false field meta column name cav accounts amount column type bigint value nullable false key false field meta column name out cav accounts amount column type bigint value nullable false key false field meta column name sale divide rate column type value nullable false key false field meta column name subscription time column type timestamp value nullable false key false field meta column name handle time column type timestamp value current timestamp nullable false key false field meta column name confirm time column type timestamp value current timestamp nullable false key false field meta column name confirmation cycle column type value nullable false key false field meta column name sale actual accounts amount column type bigint value nullable false key false field meta column name sale actual cav accounts amount column type bigint value nullable false key false field meta column name expand actual accounts amount column type bigint value nullable false key false field meta column name expand actual cav accounts amount column type bigint value nullable false key false field meta column name is baoxiao column type tinyint value nullable false key false field meta column name actual cost column type bigint value nullable false key false field meta column name fixed amount column type bigint value nullable false key false field meta column name cav fixed amount column type bigint value nullable false key false field meta column name receivable commission column type bigint value nullable false key false field meta column name cav commission column type bigint value nullable false key false field meta column name pay commission column type bigint value nullable false key false field meta column name receivable deal column type bigint value nullable false key false field meta column name cav deal column type bigint value nullable false key false field meta column name pay deal column type bigint value nullable false key false field meta column name receivable jump column type bigint value nullable false key false field meta column name cav jump column type bigint value nullable false key false field meta column name pay jump column type bigint value nullable false key false field meta column name receivable premium column type bigint value nullable false key false field meta column name cav premium column type bigint value nullable false key false field meta column name pay premium column type bigint value nullable false key false field meta column name create time column type timestamp value current timestamp nullable false key false field meta column name close time column type timestamp value null nullable true key false field meta column name is close column type tinyint value nullable false key false field meta column name sys time column type timestamp value current timestamp nullable false key false field meta column name is delete column type tinyint value nullable false key false mem table meta schema tops data gdm table group order history detail fileds field meta column name result id column type value nullable false key false field meta column name year column type value nullable false key false field meta column name month column type value nullable false key false field meta column name order id column type value nullable false key false field meta column name product id column type value nullable false key false field meta column name product name column type varchar value nullable false key false field meta column name broker id column type value nullable false key false field meta column name broker name column type varchar value nullable false key false field meta column name broker phone column type varchar value nullable false key false field meta column name building id column type value nullable false key false field meta column name sale id column type value nullable false key false field meta column name building id column type value nullable false key false field meta column name sale id column type value nullable false key false field meta column name sale name column type varchar value nullable false key false field meta column name sale group id column type value nullable false key false field meta column name sale group name column type varchar value nullable false key false field meta column name expand id column type value nullable false key false field meta column name expand name column type varchar value nullable false key false field meta column name expand group id column type value nullable false key false field meta column name expand group name column type varchar value nullable false key false field meta column name accounts amount column type bigint value nullable false key false field meta column name out accounts amount column type bigint value nullable false key false field meta column name actual ascription amount column type bigint value nullable false key false field meta column name sale actual ascription amount column type bigint value nullable false key false field meta column name expand actual ascription amount column type bigint value nullable false key false field meta column name amount column type bigint value nullable false key false field meta column name cav accounts amount column type bigint value nullable false key false field meta column name out cav accounts amount column type bigint value nullable false key false field meta column name sale divide rate column type value nullable false key false field meta column name subscription time column type timestamp value nullable false key false field meta column name handle time column type timestamp value current timestamp nullable false key false field meta column name confirm time column type timestamp value current timestamp nullable false key false field meta column name confirmation cycle column type value nullable false key false field meta column name sale actual accounts amount column type bigint value nullable false key false field meta column name sale actual cav accounts amount column type bigint value nullable false key false field meta column name expand actual accounts amount column type bigint value nullable false key false field meta column name expand actual cav accounts amount column type bigint value nullable false key false field meta column name is baoxiao column type tinyint value nullable false key false field meta column name actual cost column type bigint value nullable false key false field meta column name fixed amount column type bigint value nullable false key false field meta column name cav fixed amount column type bigint value nullable false key false field meta column name receivable commission column type bigint value nullable false key false field meta column name cav commission column type bigint value nullable false key false field meta column name pay commission column type bigint value nullable false key false field meta column name receivable deal column type bigint value nullable false key false field meta column name cav deal column type bigint value nullable false key false field meta column name pay deal column type bigint value nullable false key false field meta column name receivable jump column type bigint value nullable false key false field meta column name cav jump column type bigint value nullable false key false field meta column name pay jump column type bigint value nullable false key false field meta column name receivable premium column type bigint value nullable false key false field meta column name cav premium column type bigint value nullable false key false field meta column name pay premium column type bigint value nullable false key false field meta column name create time column type timestamp value current timestamp nullable false key false field meta column name close time column type timestamp value null nullable true key false field meta column name is close column type tinyint value nullable false key false field meta column name close time column type timestamp value null nullable true key false field meta column name is close column type tinyint value nullable false key false field meta column name sys time column type timestamp value current timestamp nullable false key false field meta column name is delete column type tinyint value nullable false key false destination mysql upanb cn address mysql upanb cn event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table tk broker tag broker id bigint not null comment id tag id bigint not null comment id tk tag tag count bigint not null comment sys time timestamp not null current timestamp on update current timestamp unique key ix broker tag broker id tag id engine inno db charset utf mb compare failed db table meta schema tops kber table tk broker tag fileds field meta column name broker id column type bigint value null nullable false key true field meta column name tag id column type bigint value null nullable false key true field meta column name tag count column type bigint value nullable false key false field meta column name sys time column type timestamp value current timestamp nullable false key false mem table meta schema tops kber table tk broker tag fileds field meta column name broker id column type bigint value null nullable false key false field meta column name tag id column type bigint value null nullable false key false field meta column name tag count column type bigint value nullable false key false field meta column name sys time column type timestamp value current timestamp nullable false key false neal hu nealhu apache org agapple notifications github com you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread
674,版本 对应 库 包 哪个 库 中 呢 下载 代码 进行 本地 v alpha client maven jar maven image https user images githubusercontent com bf b e fd e f ed png clean install
673,本地 测试 连接 远程 似乎 没有 获得 消息 本地 使用 服务 时 发现 可以 收到 消息 台 远程 服务器 使用 时 本地 似乎 一直 没有 收到 消息 本地 每次 连接 远程 里 可以 看到 这样 日志 这样 起来 应该 已经 连接 远程 服务 但是 本地 一直 没有 收到 消息 吗 错误 吗 今天 早上 重新 换了 台 已经 没有 问题 本地 测试 起来 已经 没有 什么 问题 另外 台 服务器 重新 下载 相同 版本 发现 似乎 太 稳定 有时候 本地 可以 收到 消息 大部分 时间 行 不知道 是否 对于 兼容性 问题 一下 日志 是否 一些 链接 或者 解析 异常 保密 处理 保密 处理 看看 消费 情况 问题 解决 因为 台 服务器 某个 程序 已经 连接 端口 消费 日志 发现 数据 程序 消费 导致 本地 消费 不到 总结 其他 建议 因为 本地 无法 消费 远程 信息 请 升级 版本 升级 解决 本地 无法 消费 远程 台 数据 如果 升级 还是 无法 消费 数据 请 检查 是否 其他 应用 正在 消费 数据 canal canal canal canal connectors single connector inet socket address xxx xxx xxx xxx example example example log i o server worker info c a otter canal instance core canal instance subscribe filter change to cannal bin log canal log alpha my sql canal my sql canal canal server example log thread info c a otter canal instance core canal instance stop successful main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main error com alibaba druid pool druid data source test idle is true validation query not set main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance subscribe filter change to main info c a otter canal instance core canal instance start successful destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address localhost port postion gtid included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp i o server worker info c a otter canal instance core canal instance subscribe filter change to i o server worker info c a otter canal instance core canal instance subscribe filter change to canal log thread info com alibaba otter canal deployer canal launcher stop the canal server thread info com alibaba otter canal deployer canal controller stop the canal server ip thread info com alibaba otter canal deployer canal launcher canal server is down java hot spot tm bit server vm warning ignoring option perm size m support was removed in java hot spot tm bit server vm warning ignoring option max perm size m support was removed in java hot spot tm bit server vm warning use cms compact at full collection is deprecated and will likely be removed in a future release main info com alibaba otter canal deployer canal launcher set uncaught exception handler main info com alibaba otter canal deployer canal launcher load canal configurations main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server ip main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main error com alibaba druid pool druid data source test idle is true validation query not set destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address localhost port postion gtid included false journal name mysql bin position server id timestamp main info com alibaba otter canal deployer canal launcher the canal server is running now destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id gtid timestamp meta log my sql java canal bin log bin log thanks everyone
672,产生 大量 数据 时候 同步 慢 这个 怎么 解决 做 一些 大量 数据 测试 比如 更新 表 同步 会 秒 才 能 数据 时候 然后 就 猜想 服务 端 应该 还没有 数据 想 应该 会 阻塞 过程 种 没 办法 降 阻塞 时间 比如 多 线程 并行 操作 帮忙 分析 过程 写入 接收 解析 存储 接收 一下 具体 瓶颈 点 写 涉及 应该 问题 大 时候 网络 设置 取值 比较 大 时候 以上 三点 设计 操作 我们 最近 通过 测试 发现 拉 取 数据 样子 由于 读数 单 线程 如果 瞬间 插入 百万 数据 对 客户端 读取 延长性 还是 大 不知道 楼主 这个 问题 解决 吗 现在 延迟 多久 万 数据 大概 分 左右 条 数据 分钟 左右 条 数据 分钟 左右 采用 单线 程 方式 吗 将 数据 同步 还是 加 探讨 一下 这样 做 开了 线程 线程 不断 取 数据 然后 放到 阻塞 队列 然后 第二 线程 就 阻塞 队列 消费 然后 按 顺序 发送 这边 基于 解析 完成 对接 吗 这边 基于 配置 界面 目前 对接 没有 呢 后续 会 完成 打算 支持 这样 做 开了 线程 线程 不断 取 数据 然后 放到 阻塞 队列 然后 第二 线程 就 阻塞 队列 消费 然后 按 顺序 发送 单线程 消费 顺序 发送 上有 什么 区别 发送 耗时 大于 数据 时候 就 意义 代码 哪里 方面 分享 一下 吗 简单 都 不用 代码 啊 开 两 线程 阻塞 队列 模拟 生产 消费 就是 种 方式 实现 没 达到 说 效果 万 数据 大概 分钟 这边 快 啊 发到 哪里 写入 中 写入 的话 差不多 估计 瓶颈 写 平均 多 消息 秒 有点 夸张 了吧 mysql binlog canal w canal canal get batchid ring buffer put put mysql canal server mysql binlog canal canal memory client binlog io canal fetch io io thread client io fetcher fetch qps canal canal w w es redis wx aleenjava mq dev with lin canal kafka rabbitmq activemq kafka kafka agapple canal client sky walking mq mq mq canal server get es kafka maxwell chenglinjava es rabbitmq
671,版本 报错 试试 版本 看下 canal v java nio channels closed by interrupt exception null destination example address testrds amazonaws com event parser error c a otter canal parse inbound mysql mysql event parser dump address testrds corlbeqxlnts us west rds amazonaws com has an error retrying caused by java nio channels closed by interrupt exception null at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address testrds amazonaws com event parser error com alibaba otter canal common alarm log alarm handler destination example java nio channels closed by interrupt exception at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java issue https github com alibaba canal issues
670,支持 同步 这个 改动 有点 大 包含 解析 同步 功能 部分 应该 拆分 代码 代码 一些 冲突 mongo es cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub mongo client
669,设计 基于 模式 用意 什么 设计 基于 模式 用意 什么 端 直接 解析 消费 更加 可靠 高效 楼 主 这个 问题 可以 这样 问 分布式 系统 意义 什么 除了 编程 客户端 更 轻量 外 什么 考虑 同样 可以 做成 分布式 目前 也是 支持 为了 做 方便 运维 管理 可以 直接 嵌入式 带入 直 连 对 这样 效率 可靠性 会 更 高 我们 打算 封装 代码 支持 配置 成 嵌入式 另外 抽象 扩展 机制 目前 做 到时候 考虑 贡献 社区 非常 欢迎 提交 已经 合并 对应 相关 代码 欢迎 下载 canal server client canal server client server binlog server server ha server mysql canal client server outconnector spi hbase es log j connector pr kafka https github com alibaba canal releases tag canal preview
668,切换 时会 同步 信息 吗 会 可以 位点 记录 中 切换 记录 位点 信息咯 切换 时候 会 完全 对 不上 种 情况 需要 人工 处理 一直 以为 这里 自动 但是 想 起来 会 那么 简单 原谅 这个 继续 发问 因为 没有 可以 直接 高效 沟通 地方 canal server ha binlog offset zookeeper instance xml zk stand by db binlog ha closed issue
667,代码 好像 更新 中 张 表有 什么 呢 日志 新增 节点 新增 节点 开 能力 定时 任务 非 主线 影响 读取 失败 原因 canal broken pipe my sql meta snapshot canal bash scheduler table meta snapshot error c a o canal parse inbound mysql tsdb database table meta scheudle apply snapshot to db faield com alibaba otter canal parse exception canal parse exception java net socket exception broken pipe write failed caused by java net socket exception broken pipe write failed at java net socket output stream socket write method na at java net socket output stream socket write socket output stream java na at java net socket output stream write socket output stream java na at com alibaba otter canal parse driver mysql socket bio socket channel write bio socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager write body packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta compare table meta db and memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta access database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta run database table meta java canal parse snapshot jar na at java util concurrent executors runnable adapter call executors java na at java util concurrent future task run and reset future task java na at java util concurrent scheduled thread pool executor scheduled future task access scheduled thread pool executor java na at java util concurrent scheduled thread pool executor scheduled future task run scheduled thread pool executor java na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na canal client bash mory install dir size last updatetime old last updatetime pool thread info com tops foundation canal connector canal log j connector data id node name node create time node ip win rg kgc jnm node last updatetime check state false database tops bops task old node last updatetime sql table task node ts type update pool thread debug com tops foundation canal connector es syn elasticsearch syn service dml database tops bops task table task node type update ts sql data id node name node create time node ip win rg kgc jnm node last updatetime check state false old node last updatetime thread warn com alibaba otter canal client impl cluster canal connector something goes wrong when get without ack data from server null com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java canal client jar at com tops foundation canal service canal worker process canal worker java classes at java lang thread run thread java caused by java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector read simple canal connector java canal client jar at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java canal client jar at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java canal client jar at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java canal client jar at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar more thread info com alibaba otter canal client impl cluster canal connector restart the connector next round retry table table tsdb client
666,环境 自己 编译 出 问题 依赖 这个 文件 获取 麻烦 这个 依赖 放到 可靠 源 同样 发布 包里 对应 后续 会 开源 地表 强 工具 解析 兼 容度 程度 最好 mac http code alibabatech com mvn releases com alibaba fastsql fastsql preview fastsql preview pom error failed to execute goal on project canal parse could not resolve dependencies project com alibaba otter canal parse jar snapshot failed to collect dependencies at com alibaba fastsql fastsql jar preview failed to read artifact descriptor com alibaba fastsql fastsql jar preview could not transfer artifact com alibaba fastsql fastsql pom preview from to alibaba http code alibabatech com mvn releases connect to code alibabatech com code alibabatech com failed operation timed out help same here https github com alibaba canal releases tag canal preview tar jar fastsql sql parser mysql
665,请 问 是否 支持 级联 复制 节点 复制 应该 支持 先 测试 只要 开启 特性 canal rt canal server mysql slave binlog mysql log slave update
664,关于 两 配 疑问 两 分别 配置 两 启动 其中 时候 这个 能够 同步 两 库 数据 时候 启动 第二 时候 这个 无法 消费 这个 时候 集群 就 没有 太大 意义 是否 可以 做 类似 之类 操作 比如 之后 分别 同步 库 数据 canal server instance canal server instance example example canal server server example example canal server server example example canal rebalance rebalance canal server canal server
663,已经 手动 升级 启动 还是 报错 主键 合同 原件 上上 签 合同 上上 签 上上 签合同 甲方 未 签署 甲方 签署 表示 任务 完成 备注 系统 时间 上上 签 合同 创建 任务 记录 手动 下载 定位 问题 问题 系统 时间 企业 开通 上上 签 信息 表 调整 通过 系统 时间 企业 开通 上上 签 信息 表 区别 在于 问题 写在 之后 类 比了 其它 种 语法 麻烦 看下 能否 修复 的确 存在 问题 com alibaba fastsql sql parser parser exception todo pos line column token null durid destination devmysql address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield application name intelli j idea create table best sign cont task id integer primary key not null comment auto increment docid varchar not null comment id pdfid varchar not null comment pdf id contract id varchar not null comment id finish tinyint not null comment remark varchar not null comment sys time timestamp current timestamp on update current timestamp not null comment engine innodb charset utf comment com alibaba fastsql sql parser parser exception todo pos line column token null at com alibaba fastsql sql parser sql expr parser not rational rest sql expr parser java fastsql preview jar preview at com alibaba fastsql sql parser sql expr parser relational rest sql expr parser java fastsql preview jar preview at com alibaba fastsql sql parser sql expr parser expr rest sql expr parser java fastsql preview jar preview at com alibaba fastsql sql parser sql expr parser expr sql expr parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql expr parser parse column rest my sql expr parser java fastsql preview jar preview at com alibaba fastsql sql parser sql expr parser parse column rest sql expr parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql expr parser parse column rest my sql expr parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql expr parser parse column my sql expr parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql create table parser parse create table my sql create table parser java fastsql preview jar preview at com alibaba fastsql sql dialect mysql parser my sql statement parser parse create my sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na fastsql preview sql sql create table corp best sign info sys time timestamp current timestamp on update current timestamp not null comment engine innodb charset utf comment sql sql create table corp best sign info sys time timestamp not null current timestamp on update current timestamp comment engine innodb charset utf comment not null on update current timestamp sqlparse ok
662,当前 分支 方法 逻辑 错误 运行 方法 会 出 异常 经 排查 方法 出错 如果 存在 条件 说明 自动 切换 基于 上一 次 条件 订阅 次 未 调用 阻塞 等待 初始 化为 仅 两 方法 改变 值 方法 调用 时 由于 所以 仍然 所以 会 调用 从而 没有 赋值 导致 异常 堆栈 里 空 指针 异常 问题 次 提交 造成 屏蔽 两 行 代码 就 行了 第一 处 如果 存在 条件 说明 自动 切换 基于 上一 次 条件 订阅 次 第二 处 原因 上面 已经 回答 判断 问题 单机 没 修复 master simple canal connector connect simple canal client test main process error java lang null pointer exception null at com alibaba otter canal client impl simple canal connector write with header simple canal connector java classes na at com alibaba otter canal client impl simple canal connector write with header simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na at com alibaba otter canal example canal client test run canal client test java classes na at java lang thread run thread java na simple canal connector connect connect canal client exception connected running monitor null running monitor is start running monitor start wait client running running connect filter null subscribe filter rollback on connect rollback connected true wait client running zk clientx null connected connect canal client exception should connect first running true mutex get interrupted exception e thread current thread interrupt canal client exception e running false wait client running stop running connect wait client running zk clienttx null running false connect writable channel https github com alibaba canal commit bb ce dc ce a c f d fdd https github com alibaba canal commit bb ce dc ce a c f d fdd rewerma connect canal client exception connected running monitor null running monitor is start running monitor start wait client running running connect filter null subscribe filter rollback on connect rollback connected true subscribe string filter canal client exception wait client running running write with header packet builder set type packet type subscription set body sub builder set destination client identity get destination set client id string value of client identity get client id set filter filter null filter build to string build to array packet p packet parse from read next packet ack ack ack parse from p get body ack get error code canal client exception failed to subscribe with reason ack get error message client identity set filter filter io exception e canal client exception e zookeeper zookeeper
661,产生 数据 积压 同步 段 时间 就 会 报错 异常 会 重新 开始 位点 同步 导致 无法 持续 进行 后面 同步 版本 端 生成 线程 错误 日 志 记录 部分 堆栈 信息 里面 下面 异常 部分 代码 漏掉 应该 端 异常 重 启 检查 日志 发现 过 一些 支持 格式 警告 但是 并不 影响 同步 但是 一旦 出现 上面 异常 服务 端 会报 这个 异常 canal canal something goes wrong when acking data from server null com alibaba otter canal protocol exception canal client exception java io io exception broken pipe at com alibaba otter canal client impl simple canal connector ack simple canal connector java at com alibaba otter canal client impl cluster canal connector ack cluster canal connector java at ins framework mysqltoes client canal client test process canal client test java at ins framework mysqltoes client canal client test run canal client test java at java lang thread run thread java caused by java io io exception broken pipe at sun nio ch file dispatcher impl write method at sun nio ch socket dispatcher write socket dispatcher java at sun nio ch io util write from buffer io util java at sun nio ch io util write io util java at sun nio ch socket channel impl write socket channel impl java at java nio channels channels write fully impl channels java at java nio channels channels write fully channels java at java nio channels channels access channels java at java nio channels channels write channels java at java nio channels channels writable channel impl write channels java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector ack simple canal connector java common frames omitted restart the connector next round retry something goes wrong when get without ack data from server null com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x c e exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at ins framework mysqltoes client canal client test process canal client test java at ins framework mysqltoes client canal client test run canal client test java at java lang thread run thread java restart the connector next round retry canal server hs err pid log internal exceptions events event thread x f bc exception a java lang not found exception com alibaba otter canal protocol position position bean info x thrown at hudson workspace build linux amd jdk u hotspot src share vm classfile system dictionary cpp line event thread x f bc exception a java lang not found exception com alibaba otter canal protocol position position customizer x thrown at hudson workspace build linux amd jdk u hotspot src share vm classfile system dictionary cpp line event thread x f bc exception a java lang not found exception com alibaba otter canal protocol position time position customizer x aa thrown at hudson workspace build linux amd jdk u hotspot src share vm classfile system dictionary cpp li event thread x f bc exception a java lang not found exception com alibaba otter canal protocol position entry position customizer x e thrown at hudson workspace build linux amd jdk u hotspot src share vm classfile system dictionary cpp l event thread x f c da exception a java lang cast exception sun misc cleaner cannot be cast to java lang runnable x aa thrown at hudson workspace build linux amd jdk u hotspot src share vm interpreter interpreter runtime cpp line event thread x f c da exception a java lang no def found error javassist path x c thrown at hudson workspace build linux amd jdk u hotspot src share vm classfile system dictionary cpp line event thread x f a a implicit null exception at x f cf to x f cfa event thread x f c da exception a java lang interrupted exception x c thrown at hudson workspace build linux amd jdk u hotspot src share vm runtime object monitor cpp line event thread x f implicit null exception at x f ecfa to x f ed event thread x f implicit null exception at x f b to x f b e d openjdk ack error client id batch id is not exist please check canal server instance canalserver format
660,最新 版本 今天 早上 发现 目录 文件 将近 一直 报 如下 异常 但是 查看 每个 目录 下面 正常 记录 消费 位点 说明 正常 消费 但是 这个 异常 为什么 一直 存在 这个 什么 时候 能 更新 啊 端 肯定 产生 异常 或者 重启 参考 做 一下 重试 方法 重试 一下 里面 方法 尝试 但是 服务 端 还是 一样 异常 获取 指定 数量 数据 提交 确认 处理 失败 回滚 数据 会 重 启 重启 生产 线上 同步 数据 就 重复 解析 发送 捂脸 分布式 系统 难 般 都 需要 业务 考虑 幂等 something goes wrong with channel client id batch id is not exist please check logs canal canal log m instance meta log i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x f bec exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x f bec exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java bug server instance client demo agapple connect client demo agapple canal client test connector disconnect process batch size running mdc put destination destination connector connect connector subscribe waiting false running message message connector get without ack batch size batch id message get id size message get entries size batch id size thread sleep interrupted exception e print summary message batch id size print entry message get entries connector ack batch id connector rollback batch id exception e logger error process error e connector disconnect mdc remove destination agapple instance kafka extractly once
659,同步 时候 初始化 报错 版本 文档 中 默认 配置 数据库 使用 配置 下面 错误 换成 版本 试试 版本 升级 也是 这个 问题 不过 感觉 像 权限 问题 中 用户 赋 全部 权限 就 没 问题 正解 版本 开启 之后 出现 种 错误 删除 之后 就 好了 sql h destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table columns priv host collate utf bin not null db collate utf bin not null user collate utf bin not null table name collate utf bin not null column name collate utf bin not null timestamp timestamp not null current timestamp on update current timestamp column priv set select insert update references character set utf not null primary key host db user table name column name engine my isam charset utf collate utf bin comment column privileges com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table db host collate utf bin not null db collate utf bin not null user collate utf bin not null select priv n y character set utf not null n insert priv n y character set utf not null n update priv n y character set utf not null n delete priv n y character set utf not null n create priv n y character set utf not null n drop priv n y character set utf not null n grant priv n y character set utf not null n references priv n y character set utf not null n index priv n y character set utf not null n alter priv n y character set utf not null n create tmp table priv n y character set utf not null n lock tables priv n y character set utf not null n create view priv n y character set utf not null n show view priv n y character set utf not null n create routine priv n y character set utf not null n alter routine priv n y character set utf not null n execute priv n y character set utf not null n event priv n y character set utf not null n trigger priv n y character set utf not null n primary key host db user key user user engine my isam charset utf collate utf bin comment database privileges com alibaba druid sql parser parser exception syntax error error in y character set utf not null de expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table event db character set utf collate utf bin not null name not null body longblob not null definer character set utf collate utf bin not null execute at datetime null interval value null interval field year quarter month day hour minute week second microsecond year month day hour day minute day second hour minute hour second minute second day microsecond hour microsecond minute microsecond second microsecond null created timestamp not null current timestamp on update current timestamp modified timestamp not null last executed datetime null starts datetime null ends datetime null status enabled disabled slaveside disabled not null enabled on completion drop preserve not null drop sql mode set real as pipes as concat ansi quotes ignore space not used only full group by no unsigned subtraction no dir in create postgresql oracle mssql db maxdb no key options no table options no field options mysql mysql ansi no auto value on zero no backslash escapes strict trans tables strict all tables no zero in date no zero date invalid dates error division by zero traditional no auto create user high not precedence no engine substitution pad to full length not null comment character set utf collate utf bin not null originator unsigned not null time zone character set latin not null system character set client character set utf collate utf bin null collation connection character set utf collate utf bin null db collation character set utf collate utf bin null body utf longblob primary key db name engine my isam charset utf comment events com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table func name collate utf bin not null ret tinyint not null dl collate utf bin not null type function aggregate character set utf not null primary key name engine my isam charset utf collate utf bin comment user defined functions com alibaba druid sql parser parser exception syntax error error in te character set utf not null expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table proc db character set utf collate utf bin not null name not null type function procedure not null specific name not null language sql not null sql sql data access contains sql no sql reads sql data modifies sql data not null contains sql is deterministic yes no not null no security type invoker definer not null definer param list blob not null returns longblob not null body longblob not null definer character set utf collate utf bin not null created timestamp not null current timestamp on update current timestamp modified timestamp not null sql mode set real as pipes as concat ansi quotes ignore space not used only full group by no unsigned subtraction no dir in create postgresql oracle mssql db maxdb no key options no table options no field options mysql mysql ansi no auto value on zero no backslash escapes strict trans tables strict all tables no zero in date no zero date invalid dates error division by zero traditional no auto create user high not precedence no engine substitution pad to full length not null comment text character set utf collate utf bin not null character set client character set utf collate utf bin null collation connection character set utf collate utf bin null db collation character set utf collate utf bin null body utf longblob primary key db name type engine my isam charset utf comment stored procedures com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table procs priv host collate utf bin not null db collate utf bin not null user collate utf bin not null routine name character set utf not null routine type function procedure collate utf bin not null grantor collate utf bin not null proc priv set execute alter routine grant character set utf not null timestamp timestamp not null current timestamp on update current timestamp primary key host db user routine name routine type key grantor grantor engine my isam charset utf collate utf bin comment procedure privileges com alibaba druid sql parser parser exception syntax error error in re collate utf bin not null expect rparen actual identifier pos line column token identifier collate at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table tables priv host collate utf bin not null db collate utf bin not null user collate utf bin not null table name collate utf bin not null grantor collate utf bin not null timestamp timestamp not null current timestamp on update current timestamp table priv set select insert update delete create drop grant references index alter create view show view trigger character set utf not null column priv set select insert update references character set utf not null primary key host db user table name key grantor grantor engine my isam charset utf collate utf bin comment table privileges com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table user host collate utf bin not null user collate utf bin not null password character set latin collate latin bin not null select priv n y character set utf not null n insert priv n y character set utf not null n update priv n y character set utf not null n delete priv n y character set utf not null n create priv n y character set utf not null n drop priv n y character set utf not null n reload priv n y character set utf not null n shutdown priv n y character set utf not null n process priv n y character set utf not null n file priv n y character set utf not null n grant priv n y character set utf not null n references priv n y character set utf not null n index priv n y character set utf not null n alter priv n y character set utf not null n show db priv n y character set utf not null n priv n y character set utf not null n create tmp table priv n y character set utf not null n lock tables priv n y character set utf not null n execute priv n y character set utf not null n repl slave priv n y character set utf not null n repl client priv n y character set utf not null n create view priv n y character set utf not null n show view priv n y character set utf not null n create routine priv n y character set utf not null n alter routine priv n y character set utf not null n create user priv n y character set utf not null n event priv n y character set utf not null n trigger priv n y character set utf not null n create tablespace priv n y character set utf not null n ssl type any x specified character set utf not null ssl cipher blob not null x issuer blob not null x subject blob not null max questions unsigned not null max updates unsigned not null max connections unsigned not null max user connections unsigned not null plugin collate utf bin authentication string text collate utf bin password expired n y character set utf not null n primary key host user engine my isam charset utf collate utf bin comment users and global privileges com alibaba druid sql parser parser exception syntax error error in y character set utf not null de expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table hierquerysellist fieldtype id bigint not null whereclause longtext not null filtervariants not null unique key fieldtype id fieldtype id using btree engine my isam charset utf compare failed db table meta schema bboss table hierquerysellist fileds field meta column name fieldtype id column type bigint value null nullable false key true field meta column name whereclause column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false mem table meta schema bboss table hierquerysellist fileds field meta column name fieldtype id column type bigint value null nullable false key false field meta column name whereclause column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false destination myexample address event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table hierquerysellist fields fieldtype id bigint not null sequencenr smallint not null fieldname varchar not null unique key fieldtype id fieldtype id sequencenr using btree engine my isam charset utf compare failed db table meta schema bboss table hierquerysellist fields fileds field meta column name fieldtype id column type bigint value null nullable false key true field meta column name sequencenr column type smallint value null nullable false key true field meta column name fieldname column type varchar value null nullable false key false mem table meta schema bboss table hierquerysellist fields fileds field meta column name fieldtype id column type bigint value null nullable false key false field meta column name sequencenr column type smallint value null nullable false key false field meta column name fieldname column type varchar value null nullable false key false destination myexample address event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table linkquerysellist fieldtype id bigint not null whereclause longtext not null filtervariants not null unique key fieldtype id fieldtype id using btree engine my isam charset utf compare failed db table meta schema bboss table linkquerysellist fileds field meta column name fieldtype id column type bigint value null nullable false key true field meta column name whereclause column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false mem table meta schema bboss table linkquerysellist fileds field meta column name fieldtype id column type bigint value null nullable false key false field meta column name whereclause column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false destination myexample address event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table parentlinkedsellist fieldtype id bigint not null whereclause longtext not null filtervariants not null linkfield varchar not null unique key fieldtype id fieldtype id using btree engine my isam charset utf compare failed db table meta schema bboss table parentlinkedsellist fileds field meta column name fieldtype id column type bigint value null nullable false key true field meta column name whereclause column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false field meta column name linkfield column type varchar value null nullable false key false mem table meta schema bboss table parentlinkedsellist fileds field meta column name fieldtype id column type bigint value null nullable false key false field meta column name whereclause column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false field meta column name linkfield column type varchar value null nullable false key false destination myexample address event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table querysellist fieldtype id bigint not null query longtext not null filtervariants not null sort order varchar not null unique key fieldtype id fieldtype id using btree engine my isam charset utf compare failed db table meta schema bboss table querysellist fileds field meta column name fieldtype id column type bigint value null nullable false key true field meta column name query column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false field meta column name sort order column type varchar value null nullable false key false mem table meta schema bboss table querysellist fileds field meta column name fieldtype id column type bigint value null nullable false key false field meta column name query column type longtext value null nullable false key false field meta column name filtervariants column type value null nullable false key false field meta column name sort order column type varchar value null nullable false key false destination myexample address event parser error c a o canal parse inbound mysql tsdb database table meta compare failed check log destination myexample address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find init table meta myexample with position entry position included false journal name mysql bin position server id timestamp destination myexample address event parser error com alibaba otter canal common alarm log alarm handler destination myexample com alibaba otter canal parse exception canal parse exception can t find init table meta myexample with position entry position included false journal name mysql bin position server id timestamp destination myexample address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table columns priv host collate utf bin not null db collate utf bin not null user collate utf bin not null table name collate utf bin not null column name collate utf bin not null timestamp timestamp not null current timestamp on update current timestamp column priv set select insert update references character set utf not null primary key host db user table name column name engine my isam charset utf collate utf bin comment column privileges com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table db host collate utf bin not null db collate utf bin not null user collate utf bin not null select priv n y character set utf not null n insert priv n y character set utf not null n update priv n y character set utf not null n delete priv n y character set utf not null n create priv n y character set utf not null n drop priv n y character set utf not null n grant priv n y character set utf not null n references priv n y character set utf not null n index priv n y character set utf not null n alter priv n y character set utf not null n create tmp table priv n y character set utf not null n lock tables priv n y character set utf not null n create view priv n y character set utf not null n show view priv n y character set utf not null n create routine priv n y character set utf not null n alter routine priv n y character set utf not null n execute priv n y character set utf not null n event priv n y character set utf not null n trigger priv n y character set utf not null n primary key host db user key user user engine my isam charset utf collate utf bin comment database privileges com alibaba druid sql parser parser exception syntax error error in y character set utf not null de expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table event db character set utf collate utf bin not null name not null body longblob not null definer character set utf collate utf bin not null execute at datetime null interval value null interval field year quarter month day hour minute week second microsecond year month day hour day minute day second hour minute hour second minute second day microsecond hour microsecond minute microsecond second microsecond null created timestamp not null current timestamp on update current timestamp modified timestamp not null last executed datetime null starts datetime null ends datetime null status enabled disabled slaveside disabled not null enabled on completion drop preserve not null drop sql mode set real as pipes as concat ansi quotes ignore space not used only full group by no unsigned subtraction no dir in create postgresql oracle mssql db maxdb no key options no table options no field options mysql mysql ansi no auto value on zero no backslash escapes strict trans tables strict all tables no zero in date no zero date invalid dates error division by zero traditional no auto create user high not precedence no engine substitution pad to full length not null comment character set utf collate utf bin not null originator unsigned not null time zone character set latin not null system character set client character set utf collate utf bin null collation connection character set utf collate utf bin null db collation character set utf collate utf bin null body utf longblob primary key db name engine my isam charset utf comment events com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table func name collate utf bin not null ret tinyint not null dl collate utf bin not null type function aggregate character set utf not null primary key name engine my isam charset utf collate utf bin comment user defined functions com alibaba druid sql parser parser exception syntax error error in te character set utf not null expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table proc db character set utf collate utf bin not null name not null type function procedure not null specific name not null language sql not null sql sql data access contains sql no sql reads sql data modifies sql data not null contains sql is deterministic yes no not null no security type invoker definer not null definer param list blob not null returns longblob not null body longblob not null definer character set utf collate utf bin not null created timestamp not null current timestamp on update current timestamp modified timestamp not null sql mode set real as pipes as concat ansi quotes ignore space not used only full group by no unsigned subtraction no dir in create postgresql oracle mssql db maxdb no key options no table options no field options mysql mysql ansi no auto value on zero no backslash escapes strict trans tables strict all tables no zero in date no zero date invalid dates error division by zero traditional no auto create user high not precedence no engine substitution pad to full length not null comment text character set utf collate utf bin not null character set client character set utf collate utf bin null collation connection character set utf collate utf bin null db collation character set utf collate utf bin null body utf longblob primary key db name type engine my isam charset utf comment stored procedures com alibaba druid sql parser parser exception error pos line column token set at com alibaba druid sql parser sql expr parser name sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql parser sql expr parser parse data type sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql expr parser parse column my sql expr parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table procs priv host collate utf bin not null db collate utf bin not null user collate utf bin not null routine name character set utf not null routine type function procedure collate utf bin not null grantor collate utf bin not null proc priv set execute alter routine grant character set utf not null timestamp timestamp not null current timestamp on update current timestamp primary key host db user routine name routine type key grantor grantor engine my isam charset utf collate utf bin comment procedure privileges com alibaba druid sql parser parser exception syntax error error in re collate utf bin not null expect rparen actual identifier pos line column token identifier collate at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory tab mysql destination myexample address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table user host collate utf bin not null user collate utf bin not null password character set latin collate latin bin not null select priv n y character set utf not null n insert priv n y character set utf not null n update priv n y character set utf not null n delete priv n y character set utf not null n create priv n y character set utf not null n drop priv n y character set utf not null n reload priv n y character set utf not null n shutdown priv n y character set utf not null n process priv n y character set utf not null n file priv n y character set utf not null n grant priv n y character set utf not null n references priv n y character set utf not null n index priv n y character set utf not null n alter priv n y character set utf not null n show db priv n y character set utf not null n priv n y character set utf not null n create tmp table priv n y character set utf not null n lock tables priv n y character set utf not null n execute priv n y character set utf not null n repl slave priv n y character set utf not null n repl client priv n y character set utf not null n create view priv n y character set utf not null n show view priv n y character set utf not null n create routine priv n y character set utf not null n alter routine priv n y character set utf not null n create user priv n y character set utf not null n event priv n y character set utf not null n trigger priv n y character set utf not null n create tablespace priv n y character set utf not null n ssl type any x specified character set utf not null ssl cipher blob not null x issuer blob not null x subject blob not null max questions unsigned not null max updates unsigned not null max connections unsigned not null max user connections unsigned not null plugin collate utf bin authentication string text collate utf bin password expired n y character set utf not null n primary key host user engine my isam charset utf collate utf bin comment users and global privileges bug mysql canal grant all privileges on to canal flush privileges ls v tsdb
658,启动 报错 警告 错误 两 实现 主备 模式 是否 要 相同 仅 工作 主备 模式 应该 相同 才 会 默认 随机 生成 canal v main info com alibaba otter canal deployer canal launcher the canal server is running now destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn com taobao tddl dbsync binlog charset conversion unexpect mysql charset destination example address event parser warn com taobao tddl dbsync binlog charset conversion unexpect mysql charset destination example address event parser warn com taobao tddl dbsync binlog charset conversion unexpect mysql charset destination example address event parser warn com taobao tddl dbsync binlog log event unsupported character set in query log agapple dev with lin canal slave id
657,提出 关于 优化 建议 项目 运行 启动 订阅 时有 遇到 异常 项目 采用 内嵌 关键 配置 栈 输出 如下 代码 发现 中 方法 中 调用 方法 最终 会 调用 方法 得到 中 对应 修改 里 元素 代码 类 中 方法 会 直接 返回 中 对应 代码 遇到 问题 方法 遍历 调用 结果 时 业务 代码 线程 调用 方法 修改 遍历 集合 导致 尝试 找到 在此处 遍历 时 链表 其它 线程 修改 这里 感觉 中 方法 比较 大 隐患 外部 拿到 引用 以后 可能 不同 线程 中 做 遍历 或者 修改 如果 这里 每次 都 拷贝 新 返回 的话 知道 对 效率 损失 是否 太 大 如果 希望 过多 拷贝 的话 可以 返回 阻止 其他 类 对 这个 集合 修改 但是 这样 其它 类 遍历 这个 集合 时 可能 出现 种 想问 一下 对 这个 问题 怎么 考虑 呢 遇到 这个 问题 多 订阅 场景 修改 返回 拷贝 对象 memory meta manager canal server with embedded meta mode mixed index mode memory meta failback dump address xxx xx xx xxx has an error retrying caused by java util concurrent modification exception at java util array list itr check comodification array list java at java util array list itr next array list java at com alibaba otter canal parse index meta log position manager get latest index by meta log position manager java at com alibaba otter canal parse index failback log position manager get latest index by failback log position manager java at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal server with embedded subscribe meta manager subscribe memory meta manager subscribe destinations key list list list add subscribe client identity client identity canal meta manager exception list client identity client identitys destinations get client identity get destination client identitys contains client identity client identitys remove client identity client identitys add client identity memory meta manager list all subscribe info destinations key list list client identity list all subscribe info string destination canal meta manager exception destinations get destination meta log position manager get latest index by meta manager list all subscribe info subscribe list concurrent modification exception log position get latest index by string destination list client identity client identities meta manager list all subscribe info destination log position result null collection utils is empty client identities log position client identity client identity client identities log position position log position meta manager get cursor client identity position null result null result position result canal event utils min result position result memory meta manager list all subscribe info list unmodifiable list concurrent modification exception agapple client destination error test firehose c a o c c a log alarm handler destination test firehose java util concurrent modification exception at java util array list itr check comodification array list java at java util array list itr next array list java at com alibaba otter canal parse index meta log position manager get latest index by meta log position manager java at com alibaba otter canal parse index failback log position manager get latest index by failback log position manager java at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java list all subscribe info
656,最新 版本 中 过滤 作用 配置 如下 代码 同样 配置 过滤 但是 仍然 不相关 库 表 更新 信息 数据库 确认 格式 定位 问题 真的 方便 群 加 进去 求 解答 改成 正解 release regex canal server regex canal instance db username canal canal instance db password canal canal instance database name edu discount price test canal instance connection charset utf table regex canal instance filter regex canal instance filter regex edu discount price test table black regex canal instance filter black regex online edu test client connector subscribe edu discount price test t online discount binlog row canal qq connector subscribe edu discount price test t online discount connector subscribe edu discount price test t online discount ls
655,连 一直 报 错误 按照 搭建 环境 跑 一直 报 错误 反复 对照 检查 配置 端口 等 的确 没 发现 什么 问题 望 能 点 建议 排查 错误 具体 错误 信息 如下 问题 找到 本地 版本 源代码 没有 成功 导致 换成 成功 问题 消失 simple canal client test canal null pointer exception quick start client sample canal simple canal client test null pointer exception thread error com alibaba otter canal example canal client test process error java lang null pointer exception null at com alibaba otter canal client impl simple canal connector write with header simple canal connector java classes na at com alibaba otter canal client impl simple canal connector write with header simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na snapshot build build
654,服务 端 总是 意外 关闭 版本 进程 意外 终止 因为 报错 过多 吗 建议 使用 版本 image https user images githubusercontent com a d f e c ae a da a png sql
653,模式 结果 如下 客户端 消费 时 数量 分别 其中 解析 打印 如下 对应 配置 客户端 配置 错误 导致 服务 端 忽略 对应 表 row row change event type query show binlog events aaaaaaaaaa https user images githubusercontent com a de e b f jpg entry transactionbegin rowdata transactionend rowdata row change bbbbbbbbbb https user images githubusercontent com e b e de e cd f jpg binlog ccccccccc https user images githubusercontent com a c de e a b f jpg canal binlog
652,中 表 出错 找到 原因 对 引擎 表 支持 不好 版本 parser information schema destination example address zhenghongchen cn event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create temporary table system variables variable name varchar not null session value varchar null global value varchar null global value origin varchar not null value varchar null variable scope varchar not null variable type varchar not null variable comment varchar not null numeric min value varchar null numeric max value varchar null numeric block size varchar null value list longtext null read only varchar not null command line argument varchar null engine aria charset utf page checksum com alibaba fastsql sql parser parser exception syntax error error in utf page checksum expect identifier actual identifier pos line column token identifier page checksum at com alibaba fastsql sql parser sql parser print error sql parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql parser sql statement parser parse statement list sql statement parser java fastsql preview jar preview at com alibaba fastsql sql sql utils parse statements sql utils java fastsql preview jar preview at com alibaba fastsql sql repository schema repository console schema repository java fastsql preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java classes na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java classes na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java classes na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java classes na at com alibaba otter canal parse inbound event parser run event parser java classes na at java lang thread run thread java na fastsql preview jar maria db aria snapshot
651,字段 如何 同步 字段 的话 无法 转为 其中 方法 好像 无法 获取 原先 值 blob blob column get value string column get value bytes
650,新建 表 会 导致 服务器 挂起 建议 使用 版本 mysql canal qq https user images githubusercontent com a b d d e d d cd c png
649,包 无法 下载 拉取 最新 代码 本地 编译 失败 无法 下载 包 地址 fastsql preview master fastsql preview maven dependency group id com alibaba fastsql group id artifact id fastsql artifact id version preview version dependency
648,时 没 过滤 开启 之后 出现 找 表 情况 仔细 因为 我们 库 中 一些 其实 有点 不明白 因为 要 呢 像 之前 一样 方式 好吗 失败 之后 会 回退 主要 解决 获取 针对 多 唯一 键时 可以 正确 提取 tsdb show create table view tsdb show create table view show create table describe tablename show create table desc table name unique key show create table
647,配置 文件 中 参数 参数 好像 介绍 中 没有 说明 意思 麻烦 提供 要 设置 固定 文件 位点 读 数据 还是 配置 吗 但是 配置 完后 删除 没有 生效 看到 里 还是 之前 位点 自己 设置 位点 rds instance properties canal instance rds open accesskey canal instance rds open secretkey canal instance rds instance id canal instance rds start time canal instance rds end time binlog canal instance master journal name canal instance master position canal instance master timestamp meta dat meta dat
646,因为 停顿 导致 会话 超时 例如 再次 失败 即使 别的 延迟 需要 停止 对 订阅 关于 这个 前面 我们 过 简短 讨论 见 做 一些 优化 请 一下 麻烦 一下 为啥 关闭 a little improve about the safety of canal high available zookeeper gc init running canal server init running binglog agapple review agapple q spccold
645,因为 停顿 导致 会话 超时 例如 再次 失败 即使 别的 延迟 需要 停止 对 订阅 关于 这个 前面 我们 过 简短 讨论 见 做 一些 优化 请 一下 a little improve about the safety of canal high available zookeeper gc init running canal server init running binglog agapple review cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr wuwo seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr wuwo seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub see
644,运行 过程 中 不断 出现 相同 知 如何 消除 这个 错误 这个 问题 通过 删除 原 存储 文件 通过 重启 数据库 重新 生成 新 目前 不再 报 以上 错误 信息 观察 段 时间 追加 评论 天 继续 出现 同样 故障 报错 经过 试验 暂时 判断 如果 开启 超时 或者 延时 报警 监控 并且 这些 监控 开启 自动 重启 选项 那么 监控 认为 超时 会 开启 新 同步 进程 事实上 远端 只是 因为 网速 过慢 影响 相应 时间 没有 真正 挂掉 因此 开启 新 进程 就 导致 重复 请求 出现 提示 目前 监控 保留 异常 监控 删掉 其余 监控 运行 还算 正常 正在 观察 解决 问题 就好 新 会 采用 随机 做法 规避 a slave with the same server uuid server id as slave has connected to the master manager node server uuid server id pid nid exception canal middle east java io io exception received error packet errno sqlstate hy errmsg a slave with the same server uuid server id as slave has connected to the master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java server uuid auto cnf mysql server uuid pipline node slave master a slave with the same server uuid server id as slave has connected to the master canal uuid
643,显示 公司 内部 定制 版本 对应 官方 可能 请 问 如果 要 修改 这里 解析 规则 可行性 高 吗 如果 可以 的话 能 提供 学习 路径 方便 定制 这里 吗 感谢 使用 当前 最新 版本 已经 修复 canal server log parse error mysql mysql parser mysql tsdb memory table meta parse faield create table procs priv host collate utf bin not null db collate utf bin not null user collate utf bin not null routine name character set utf not null routine type function procedure collate utf bin not null grantor collate utf bin not null proc priv set execute alter routine grant character set utf not null timestamp timestamp not null current timestamp on update current timestamp primary key host db user routine name routine type key grantor grantor engine my isam charset utf collate utf bin comment procedure privileges com alibaba druid sql parser parser exception syntax error error in re collate utf bin not null expect rparen actual identifier pos line column token identifier collate at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na canal
642,使用 版本 创建 对象 之后 发现 知道 什么 问题 账号 根据 教程 语句 直接 生成 启动 运行 闪退 自己 编译 包 已经 修复 可以 重新 下载 writable channel channel null canal connector connector canal connectors single connector inet socket address ip destination canal connector channel null mysql server start cmd java xms m xmx m xx perm size m djava awt headless true djava net prefer i pv stack true dapplication codeset utf dfile encoding utf server xdebug xnoagent djava compiler none xrunjdwp transport dt socket address server y suspend n dapp name otter canal dlogback configuration file e canal dep bin conf logback xml dcanal conf e canal dep bin conf canal properties classpath e canal dep bin conf lib e canal dep bin conf java xms m xmx m xx perm size m djava awt headless true djava net prefer i pv stack true dapplication codeset utf dfile encoding utf server xdebug xnoagent djava compiler none xrunjdwp transport dt socket address server y suspend n dapp name otter canal dlogback configuration file e canal dep bin conf logback xml dcanal conf e canal dep bin conf canal properties classpath e canal dep bin conf lib e canal dep bin conf com alibaba otter canal deployer canal launcher java hot spot tm bit server vm warning ignoring option perm size m support was removed in listening transport dt socket at address main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main error com alibaba druid pool druid data source test idle is true validation query not set destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status canal example snapshot alpha
641,表 结构 解析 失败 表中 列名 比较 删掉 行 就 会 出错 unknow column tag canal preview conf key destination xxxxx address xxxxx event parser error c a otter canal p arse inbound mysql mysql event parser dump address has an error retrying caused by java lang runtime exception unknow column conf key at com alibaba otter canal parse inbound table meta get field meta by name table meta java canal parse sn apshot jar na at com alibaba otter canal parse inbound mysql tsdb memory table meta process table element memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb memory table meta parse memory table meta java canal pars e snapshot jar na at com alibaba otter canal parse inbound mysql tsdb memory table meta find memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta compare table meta db and memory database table m eta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java can al parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parse r java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na image https user images githubusercontent com dc bd d e f c c d d a png memory table meta
640,经常 关闭 这边 运行 段 时间 小时 下面 配置 然后 有些 下面 就 报 下面 日志 文件 变更 经常 遇到 种 问题 代码 里面 一直 获取 数据 状态 没哟 关闭 操作 出现 类型 种 错误 只要 客户端 一直 连 服务器 就 没 事 测试 过 客户端 跑了 天 夜 没有 断 过 但是 客户端 一旦 连接 服务 端 超过 一定 时间 具体 多久 清楚 再次 连接 服务 端时 就 会 出现 下面 种 错误 请 说明 版本 谢谢 回答 换成 试试 能 说明 什么 原因 导致 版本 使用 做 读取 太 稳定 建议 使用 超时 机制 客户端 创建 时 可以 设置 如果 设置 服务 端 默认 分钟 主动 断开 再次 获取 数据 就 会 报错 需要 重 连 版本 会 不定时 重 启 服务 大概 这个 有限制 吗 没有 数量 限制 啊 是否 开启 找到 变更 文件 版本 使用 做 读取 太 稳定 建议 使用 建议 使用 哪个 版本 可以 稳定 读取 日志 会 时不时 出现 此时 变更 可被 捕捉 使用 客户端 官方 调整 默认 空闲 链接 超时 时间 之前 只有 分钟 空闲 超时 调整 小时 大伙 对 超时 管理 不够 精细 能 调大 进行 粗放型 管理 版本 老 关闭 一旦 关闭 位点 都 会 移动 但是 清掉 重 启 就 如果 因为 超时 原因 导致 关闭 会 重新 建立 连接 按 道理 讲 位点 应该 继续 移动 才 对 位点 可能 问题 交互 使用 模式 版本 换成 可以 试试 channal confi instance instance binlog channal i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x f d exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java something goes wrong with channel canal i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x e e e exception java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java canal dev with lin dev with lin nio binlog netty idle close connector channel connector com alibaba otter canal server netty handler client authentication handler idle state handler idle state handler idle state handler netty utils hashed wheel timer read timeout write timeout time unit milliseconds ctx get pipeline add before session handler get name idle state handler get name idle state handler idle state aware channel handler idle state aware channel handler idle state aware channel handler channel idle channel handler context ctx idle state event e exception logger warn channel idle timeout exceeds close channel to save server resources ctx get channel ctx get channel close ctx get pipeline add before session handler get name idle state aware channel handler get name idle state aware channel handler agapple instance canal instance instance scan true nio binlog agapple binlog connection reset by peer binlog example fa eb e f cb da cd e e d image https user images githubusercontent com e e e b f d png channel meta dat ok channel event parser mysql fangchunsheng mysql netty nio bio
639,异常 版本 原 对 表 进行 两 次 操作 定制 查看 详情 升级 定制 查看 详情 线上 次 操作 步骤 数据 手动 设置 位点 两 条 操作 时间 之前 重新 消费 时 执行 第二 次 操作 时 步骤 时 会 出现 定位 解析 fetch failed by table meta tsdb enable true sql card record alter alter table card record modify column customization id bigint unsigned not null comment id alter table card record modify column upgraded customization id bigint unsigned not null comment id alter drop table exists card record gho drop table exists card record del create table yushitai test card record gho like yushitai test card record alter table yushitai test card record gho modify column customization id bigint unsigned not null comment id insert card record gho rename table yushitai test card record to yushitai test card record del yushitai test card record gho to yushitai test card record alter alter exception fetch failed by table meta yushitai test card record gho destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record gho generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record del generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record ghc generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql create gh ost table yushitai test card record ghc id bigint auto increment last update timestamp not null current timestamp on update current timestamp hint varchar charset ascii not null value varchar charset ascii not null primary key id unique key hint uidx hint auto increment destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql create gh ost table yushitai test card record gho like yushitai test card record destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql alter gh ost table yushitai test card record gho modify column customization id bigint unsigned not null comment id destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql create gh ost table yushitai test card record del id auto increment primary key engine inno db comment ghost cut over sentry destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record del generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql rename gh ost table yushitai test card record to yushitai test card record del yushitai test card record gho to yushitai test card record destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record ghc generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql rename table card record del to card record del bak destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record gho generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record del generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql drop table exists card record ghc generated by server destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql create gh ost table yushitai test card record ghc id bigint auto increment last update timestamp not null current timestamp on update current timestamp hint varchar charset ascii not null value varchar charset ascii not null primary key id unique key hint uidx hint auto increment destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql create gh ost table yushitai test card record gho like yushitai test card record destination yushitai test address event parser warn c a o canal parse inbound mysql tsdb database table meta dup apply sql alter gh ost table yushitai test card record gho modify column upgraded customization id bigint unsigned not null comment id destination yushitai test address event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position server id timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta yushitai test card record gho caused by com alibaba otter canal parse exception canal parse exception fetch failed by table meta yushitai test card record gho caused by java io io exception error packet error number field count message table yushitai test card record gho doesn t exist sql state s sql state marker with command show create table yushitai test card record gho at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na ddl bug
638,为什么 存储 默认 序列化 之后 结果 没有 特殊 处理 address hostname ip type com alibaba otter canal protocol position log position identity slave id source address address desktop rfa lt port postion included false journal name mysql bin position server id timestamp
637,启动 问题 尝试 一下 最新 版本 canal destination yuntu management address rm wz b j ypnw fbr o mysql rds aliyuncs com event parser error c a otter canal parse inbound mysql mysql event parser disconnect address rm wz b j ypnw fbr o mysql rds aliyuncs com has an error retrying caused by java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java
636,计划 什么 时候 开发 如题 暂时 没有 可以 对接 一下 数据 写入 中 天 犹豫 写到 还是 什么 建议 吗 觉得 都 可以 我们 公司 想 请教 我们 现在 研 数据 管道 服务 其中 一点 清楚 解析 之后 写到 一些 这样 就 可以 通过 提供 订阅 服务 比较 简单 做法 下游 管道 服务 进行 解耦 但是 自己 实现 类似 套 复杂 订阅 虽然 提供 客户端 但是 这些 都 没有 不方便 使用 所以 问题 想 请教 自己 实现 订阅 基于 什么 考虑 呢 考虑 一些 潜在 坑 比如 消息 大小 限制 等 因素 吗 订阅 虽然 提供 机制 应该 想 尽量 收到 重复 消息 假设 处理 消息 之后 就 但是 位点 做 持久化 容灾 吗 切换 会 重复 收到 条 消息 仍然 有可能 收到 重复 消息 如果 可能 收到 重复 消息 建议 客户端 如何 做幂 等 处理 对于 大 事务 比如 好几 大小 怎么 处理 呢 结构 主要 基于 运维 管理 角度 考虑 之前 想法 内置 套 能力 考虑 成熟度 建议 直接 接到 数据 存储 一份 canal file store mix store kafka agapple kafka rocketmq rocketmq agapple binlog mq mq client canal mq api java sdk go rust canal api mq atleast once canal api client ack client client ack ack canal leader client or client g canal api hello anybody here canal server client kafka client mq
634,如何 高 并发 保证 事务 一致 想问 一下 下述 情况 如何 实现 事务 先 发起 更新 某个 字段 事务 发起 更新 上述 字段 但是 事务 事务 提交 如何 保证 值 更新 正确 呢 只是 负责 解析 而已 你先 理解 一下 何谓 canal hi canal a a b b a b canal canal binlog binlog
633,位点 前移 操作 丢失 版本 手动 设置 当前 时间 如果 段 时间 之内 产生 操作 位点 前 移至 重新 消费 段 时间 操作 丢失 如下 丢失 而是 回到 时间 之后 重新 解析 发现 中 重新 加入 中 发现 已经 加 过了 binlog ddl canal cursor timestamp t t t t t t ddl binlog t binlog ddl canal server log canal parse inbound mysql tsdb database table meta dup apply sql create table canal parse inbound mysql tsdb database table meta dup apply sql alter table screen fee add ddl t t t ddl tsdb
631,驱动 包 支持 类型 不支持 类型 转换 驱动 包 中 对 长度 对应 转化 布尔 类型 参考 驱动 源码 对 对 长度 对应 无法 处理 布尔 类型 没有 专门 针对 做 过 特殊 处理 目前 统一 按照 类型 计划 支持 吗 可以 考虑 提交 my sql canal my sql tinyint sql type java my sql image https user images githubusercontent com bff e e df b png canal tinyint sql type java tinyint tinyint pr https github com alibaba canal pull agapple please assign the issue to me
630,无法 开启 两 客户端 订阅 如题 启动 然后 客户端 用两 线程 订阅 会报 存在 因为 订阅 端 必须 唯一 因为 某个 订阅 一致 原因 同时 能 订阅 成功 其他 会 阻塞 等待 工作 中 释放 订阅 才 能 订阅 成功 正解 server server batchid id instance client standby client ls
629,如何 配置 订阅 指定 库 所有 题 可以 配置 参考 解决 客户端 覆盖 db canal instance filter regex admin guide https github com alibaba canal wiki admin guide
628,获取 信息 获取 信息 方法 获取 语句 正解 那么 就 无法 获取 能够 获取 希望 加入 功能 要 理解 获取 什么 事件 之后 对应 文本 dml row chage get sql sql dml row chage get sql sql rewerma get sql ddl ls dml sql maxwell sql event sql rows query log event dml sql
627,经常 会 挂 而且 进程 退出 经常 会 挂 而且 进程 退出 根本 监测 挂 本来 写 监控 进程 脚本 挂 就 重启 但是 没 什么 次 重启 都 要 删掉 否则 会报 线程 存在 希望 能 做 人性化 点 补充 一下 亚马逊 上用 这个 域名 访问 经常 域名 对应 会 自动 变动 变化 时 就 解析 里 一直 报错 只有 重 启 才 能 解决 维护 麻烦 是否 可以 加上 自动 重 连 功能 一直 都 自动 重试 机制 怀疑 导致 解析 直 可以 尝试 关闭 canal server canal server server meta dat id rds ip canal server ip log canal server jvm dns cache ip ip jvm dns cache
626,支持 事件 支持 一下 之后 能力 提交 格式 会 时 就 记录 并且 对外 可见 后续 会 对 继续 进行 或者 如果 执行 时 需要 执行 回滚 对应 没有 记录 对应 逆向 需要 内存 里 暂 缓存 变更 片 比较 不错 介绍 上面 地址 上面 地址 去掉 后面 逗号 就 能 输出 格式 类似 打印 信息 my sql xa binlog my sql xa https mysqlserverteam com improvements to xa support in mysql transaction context event view change event prepared xa transaction terminal event similar to xid xa prepare log event mysql bin gtid set session gtid next f ceb a a d e bdee c dbcf a mysql bin query xa start x x mysql bin rows query update test set id id mysql bin table map table id test test mysql bin update rows v table id flags stmt end f mysql bin query xa end x x mysql bin xa prepare xa prepare x x mysql bin gtid set session gtid next f ceb a a d e bdee c dbcf a mysql bin query xa rollback x x mysql bin gtid set session gtid next f ceb a a d e bdee c dbcf a mysql bin query xa start x x mysql bin rows query update test set id id mysql bin table map table id test test mysql bin update rows v table id flags stmt end f mysql bin query xa end x x mysql bin xa prepare xa prepare x x mysql bin gtid set session gtid next f ceb a a d e bdee c dbcf a mysql bin query xa commit x x mysql xa binlog prepare binlog xa commit rollback rollback sql xa rollback binlog xa prepare http mysql taobao org monthly my sql xa http mysql taobao org monthly binlog mysql bin begin thread id xa start x x end transaction id xa end x x binlog mysql bin binlog mysql bin xa rollback x x binlog mysql bin xa commit x x xa print xa info list pair pairs pairs null string xa type null string xa xid null pair pair pairs string key pair get key string utils ends with ignore key xa type xa type pair get value string utils ends with ignore key xa xid xa xid pair get value xa type null xa xid null logger info xa type xa xid
625,没有 顺序 没有 顺序 什么 意思 能 能 说 更 详细 点 谢谢 调用 获取 时候 会 生成 递增 赋值 字段 时候 需要 客户端 保证 按照 获取 顺序 确认 消息 按照 这个 运行 下面 代码 获取 指定 数量 数据 提交 确认 消息 消费 后才 确认 而且 单 线程 为什么 顺序 会 不一 样 虽然 确实 由于 没有 顺序 确认 引起 但是 无形 中 就 吞吐量 下降 不少 这边 通过 开 多线程 处理 现在 能 单线 程 处理 块 可以 考虑 自己 走 异步 处理 然后 做 控制 顺序 以及 丢 虽然 觉得 这个 功能 实现 边 不错 做法 就是 做了 异步 顺序 怎么 解决 问题 啊 为啥 会 漏掉 参考 batch id is not the firstly destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address localhost port postion included false journal name mysql bin position server id timestamp destination example address event parser warn c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id timestamp i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x b exception com alibaba otter canal meta exception canal meta manager exception batch id is not the firstly i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x b exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java ack ack mennyzfy get without ack message batch id message id ack message ack zwangbo demo running mdc put destination destination connector connect connector subscribe running message message connector get without ack batch size batch id message get id size message get entries size batch id size thread sleep interrupted exception e resolve entry message get entries connector ack batch id exception e logger error process error e connector disconnect mdc remove destination agapple ack tps cjj buffer ack ack canal otter buffer ack batch id mennyzfy branch id faq https github com alibaba canal wiki faq
624,服务 端 已经 成功 运行 新建 项目 测试 出现 拒绝 连接 请求 自己 环境 或者 网络 问题 caused by java net connect exception connection refused connect canal maven https ww sinaimg cn large z wjpngy fr wcvwun j q eemyo jpg
623,接口 加入 方法 用于 优雅 停止 canal connector stop running client cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
622,block waiting interrupted by stop request resolve issue https github com alibaba canal issues cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
621,的确 代码 问题 close zkclientx necessary when stop canal and fix canal instance with manager init event parser bug tks copy
620,怎么 关闭 新 提了 嗯 已经 合并 close zkclientx when stop canal cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla
619,模式 无法 获得 排他 锁 时 能 优雅 停机 阻塞 等待 无法 退出 建议 接口 中 加 方法 停止 阻塞 等待 这个 能 解决 时 阻塞 问题 如果 或者 其他 操作 锁定 都 可以 时 退出 捕获 淹没 异常 处理 因为 这个 情况 情况 常见 年 月 日 写道 这个 能 解决 时 阻塞 问题 如果 或者 其他 操作 锁定 提交 提供 方法 可以 退出 cluster client com alibaba otter canal client impl simple canal connector mutex get canal connector stop subscribe subscribe connect mutex get stop thread interrupt subscribe cluster neal hu nealhu apache org agapple notifications github com subscribe connect mutex get you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread pr stop running
618,支持 通过 同步 增加 级 配置 指示 是否 启用 模式 包 增加 相关 类 表示 命令 补 全 包下 事件 解析 包下 增加 枚举 项 流 中 事件 增加 字段 这里 后面 单独 段落 详细 说明 包下 增加 根据 同步 方法 包下 内 如果 使用 模式 发送 命令 非常 赞 合并 之后 稍微 调整 一下 细节 高兴 能 贡献 gtid binlog instance gtidon instance gtid driver gtid gtid set uuid set gtid binlog dump gtid command packet com binlog dump gtid dbsync gtid log event protocol entry type gtidlog binlog gtidlog header gtid parse erosa connection gtid dump parse event parser start instance gtid com binlog dump gtid mysql cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla pull request smile good job
617,客户端 报错 如下 服务 端 报错 如下 请 各位 大 牛 帮忙 看下 什么 问题 欢迎 大神 指点 服务 端 重启 或者 发生 客户端 做 重试 即可 something goes wrong when acking data from server null pool thread warn com alibaba otter canal client impl cluster canal connector something goes wrong when acking data from server null com alibaba otter canal protocol exception canal client exception java io io exception broken pipe at com alibaba otter canal client impl simple canal connector ack simple canal connector java at com alibaba otter canal client impl cluster canal connector ack cluster canal connector java at com lyj order es sync service impl canal listener service impl lambda start listener canal listener service impl java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java caused by java io io exception broken pipe at sun nio ch file dispatcher impl write method at sun nio ch socket dispatcher write socket dispatcher java at sun nio ch io util write from buffer io util java at sun nio ch io util write io util java at sun nio ch socket channel impl write socket channel impl java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector ack simple canal connector java more error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x f b efb exception com alibaba otter canal server exception canal server exception ack error client id batchld is not exist pleasecheck agapple instance rollback
616,正则 表达式 问题 使用 两 种 形式 无法 获取 可以 多 看下 或者 canal instance filter regex perl canal canal canal test binlog admin guide faq
615,管理 没 看看 呢 可以 看看 你们 内部 管理 如何 做 吗 可以 参考 manage example manager otter manager
614,停止 更新 您好 使用 期间 遇到 问题 描述 如下 我们 目前 使用 单机 部署 台 台 端 运行 段 时间 之后 停止 更新 端 无法 接受 数据 变更 推送 如下 示 日 就 不再 更新 删除 重 启 服务 端 之后 没用 并且 中 没有 信息 如果 看到 烦请 回复 一下 如果 觉得 描述 清 地方 烦请 指出 谢谢 版本 关注 一下 解析 过程 是否 异常 版本 时候 报 这个 错 升级 时候 刚刚 报 这个 错 然后 解析 停止 找到 代码 这里 账户 数据库 链接 中断 请问 一下 什么 原因 谢谢 过了 段 时间 大概 半 小时 之后 重 连上 cursor canal canal canal server canal client canal server meta dat cursor client meta log client id cursor mysql bin address rm uf u c i cejqaia mysql rds aliyuncs com client id cursor mysql bin address rm uf u c i cejqaia mysql rds aliyuncs com client id cursor mysql bin address rm uf u c i cejqaia mysql rds aliyuncs com client id cursor mysql bin address rm uf u c i cejqaia mysql rds aliyuncs com client id cursor mysql bin address rm uf u c i cejqaia mysql rds aliyuncs com meta dat meta dat cursor client datas client identity client id destination rm uf u c i cejqaia filter destination rm uf u c i cejqaia aliyun rds destination financial address event parser error c a otter canal parse inbound mysql mysql event parser dump address euler os base template has an error retrying caused by java nio channels closed by interrupt exception null at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination financial address event parser error com alibaba otter canal common alarm log alarm handler destination financial java nio channels closed by interrupt exception at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java snapshot destination mysql qry address mysql qry db prod alsh xingbianli com event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception eof encountered at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination mysql qry address mysql qry db prod alsh xingbianli com event parser error c a otter canal parse inbound mysql mysql event parser dump address mysql qry db prod alsh xingbianli com has an error retrying caused by java io io exception eof encountered at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination mysql qry address mysql qry db prod alsh xingbianli com event parser error com alibaba otter canal common alarm log alarm handler destination mysql qry java io io exception eof encountered at com alibaba otter canal parse driver mysql socket bio socket channel read bio socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination mysql qry address mysql qry db prod alsh xingbianli com event parser error c a otter canal parse inbound mysql mysql event parser dump address mysql qry db prod alsh xingbianli com has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect mysql qry db prod alsh xingbianli com failure caused by java io io exception connect mysql qry db prod alsh xingbianli com failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java net connect exception connection refused connection refused at java net plain socket impl socket connect method na at java net plain socket impl connect plain socket impl java na at java net plain socket impl connect to address plain socket impl java na at java net plain socket impl connect plain socket impl java na at java net socks socket impl connect socks socket impl java na at java net socket connect socket java na at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination mysql qry address mysql qry db prod alsh xingbianli com event parser error com alibaba otter canal common alarm log alarm handler destination mysql qry com alibaba otter canal parse exception canal parse exception java io io exception connect mysql qry db prod alsh xingbianli com failure caused by java io io exception connect mysql qry db prod alsh xingbianli com failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java net connect exception connection refused connection refused at java net plain socket impl socket connect method at java net plain socket impl connect plain socket impl java at java net plain socket impl connect to address plain socket impl java at java net plain socket impl connect plain socket impl java at java net socks socket impl connect socks socket impl java at java net socket connect socket java at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more destination mysql qry address mysql qry db prod alsh xingbianli com event parser error c a otter canal parse inbound mysql mysql event parser dump address mysql qry db prod alsh xingbianli com has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect mysql qry db prod alsh xingbianli com failure caused by java io io exception connect mysql qry db prod alsh xingbianli com failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java net connect exception connection refused connection refused at java net plain socket impl socket connect method na at java net plain socket impl connect plain socket impl java na at java net plain socket impl connect to address plain socket impl java na at java net plain socket impl connect plain socket impl java na at java net socks socket impl connect socks socket impl java na at java net socket connect socket java na at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination mysql qry address mysql qry db prod alsh xingbianli com event parser error com alibaba otter canal common alarm log alarm handler destination mysql qry com alibaba otter canal parse exception canal parse exception java io io exception connect mysql qry db prod alsh xingbianli com failure caused by java io io exception connect mysql qry db prod alsh xingbianli com failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java net connect exception connection refused connection refused at java net plain socket impl socket connect method at java net plain socket impl connect plain socket impl java at java net plain socket impl connect to address plain socket impl java at java net plain socket impl connect plain socket impl java at java net socks socket impl connect socks socket impl java at java net socket connect socket java at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more destination mysql qry address mysql qry db prod alsh xingbianli com event parser error c a otter canal parse inbound mysql mysql event parser dump address mysql qry db prod alsh xingbianli com has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect mysql qry db prod alsh xingbianli com failure caused by java io io exception connect mysql qry db prod alsh xingbianli com failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java net connect exception connection refused connection refused at java net plain socket impl socket connect method na at java net plain socket impl connect plain socket impl java na at java net plain socket impl connect to address plain socket impl java na at java net plain socket impl connect plain socket impl java na at java net socks socket impl connect socks socket impl java na at java net socket connect socket java na at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination mysql qry address mysql qry db prod alsh xingbianli com event parser error com alibaba otter canal common alarm log alarm handler destination mysql qry com alibaba otter canal parse exception canal parse exception java io io exception connect mysql qry db prod alsh xingbianli com failure caused by java io io exception connect mysql qry db prod alsh xingbianli com failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java net connect exception connection refused connection refused at java net plain socket impl socket connect method at java net plain socket impl connect plain socket impl java at java net plain socket impl connect to address plain socket impl java at java net plain socket impl connect plain socket impl java at java net socks socket impl connect socks socket impl java at java net socket connect socket java at com alibaba otter canal parse driver mysql socket bio socket channel pool open bio socket channel pool java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more image https user images githubusercontent com ffc c e fca b db d f png caused by java net connect exception connection refused connection refused
613,版本 场景 一直 能够 监测 监测 段 时间 之后 抛 这个 异常 然后 那边 一直 消费 但是 能 监测 重 启 之后 正常 但是 过 段 一时 间 这样 重复 大约 过 就 挂 试试 版本 我们 这个 问题 时报 网上 反馈 没有 这个 问题 正在 做 降级 验证 java nio channels closed by interrupt exception destination financial address event parser error c a otter canal parse inbound mysql mysql event parser dump address euler os base template has an error retrying caused by java nio channels closed by interrupt exception null at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination financial address event parser error com alibaba otter canal common alarm log alarm handler destination financial java nio channels closed by interrupt exception at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal destination financial deduct deduct mysql binlog financial canal client canal server financal financial binlog hours financal destination dump java nio channels closed by interrupt exception
612,版本 知 问题 可以 使用 版本 测试 一下 c a o canal parse inbound mysql tsdb database table meta canal instance tsdb enable false destination billingondemandfee db address event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table t billing accumulator conf service type code varchar not null resource type code varchar not null accumulate factor name varchar not null amount not null measure id not null log time datetime null memo varchar null extend params varchar null unique key unique record service type code resource type code accumulate factor name engine inno db charset utf compare failed db table meta schema billingondemandfee db table t billing accumulator conf fileds field meta column name service type code column type varchar value null nullable false key true field meta column name resource type code column type varchar value null nullable false key true field meta column name accumulate factor name column type varchar value null nullable false key true field meta column name amount column type value null nullable false key false field meta column name measure id column type value null nullable false key false field meta column name log time column type datetime value null nullable true key false field meta column name memo column type varchar value null nullable true key false field meta column name extend params column type varchar value null nullable true key false mem table meta schema billingondemandfee db table t billing accumulator conf fileds field meta column name service type code column type varchar value null nullable false key false field meta column name resource type code column type varchar value null nullable false key false field meta column name accumulate factor name column type varchar value null nullable false key false field meta column name amount column type value null nullable false key false field meta column name measure id column type value null nullable false key false field meta column name log time column type datetime value null nullable true key false field meta column name memo column type varchar value null nullable true key false field meta column name extend params column type varchar value null nullable true key false destination billingondemandfee db address event parser error c a o canal parse inbound mysql tsdb database table meta compare failed check log
611,启动 正常 抓不到 数据 启动 正常 抓不到 数据 请教 各位 大神 多 看下 canal binlog canal binlog faq
610,语句 中文 出现 乱码 中 测试 过程 中建 表语 句 如下 主键 增 运行 总时长 秒 初始化 时 长 秒 模拟 计算 耗时 秒 创建 时间 更新 时间 处理 能力 标准 监控 程序 运行 时 长 接收 得到 语句 如下 问题 可能 原因 接 收到 日志 时 会 日志 中 得到 从而 得到 解码 得出 上述 带 中文 乱码 两 项 定义 是否 正确 最好 一下 收到 编码 中 官网 对应 生产 库 中 执行 这个 查 出来 一样 并且 时 下面 代码 执行 过程 日志 中 得到 从而 得到 截 图 尝试 改成 然后 乱码 就 解决 截 图 代码 中 对应 两 项 除此之外 其他 都 对 应到 应该 当时 笔误 修复 ddl comment my sql charset utf mb collation utf mb general ci sql create table xxx id not null auto increment comment id run time not null comment init time not null comment simulation time not null comment create time timestamp not null current timestamp comment update time timestamp not null current timestamp on update current timestamp comment primary key id engine inno db charset utf mb comment hadoop canal server sql sql create table xxx id not null auto increment comment id run time not null comment init time not null comment simulation time not null comment create time timestamp not null current timestamp comment update time timestamp not null current timestamp on update current timestamp comment primary key id engine inno db charset utf mb comment hadoop canal server binlog binlog client charset charset name mac central europe sql https github com alibaba canal blob f d e e e aa c a dbsync src main java com taobao tddl dbsync binlog event query log event java l https github com alibaba canal blob f d e e e aa c a dbsync src main java com taobao tddl dbsync binlog charset conversion java l java put entry utf mb utf mb general ci mac central europe put entry utf mb utf mb bin mac central europe debug event my sql charset utf mb collation utf mb general ci mysql id sql sql show collation where charset utf mb image https user images githubusercontent com b a a b e d ceda a c png debug binlog client charset charset name mac central europe java a nd variable part is common to all versions query len data len db len dbname buffer get fix string db len client charset charset name charset conversion get java charset client charset charset name null charset is supported charset name query buffer get fix string query len charset name logger warn unsupported character set in query log n id client charset charset charset conversion get charset client charset collation charset conversion get collation client charset query buffer get fix string query len query buffer get fix string query len debug image https user images githubusercontent com c a e e b d d a de png java put entry utf mb utf mb general ci mac central europe java put entry utf mb utf mb general ci utf debug image https user images githubusercontent com b a a e e ef d b png utf mb java charset mac central europe utf image https user images githubusercontent com bc c a b e ba a b f png https github com alibaba canal blob f d e e e aa c a dbsync src main java com taobao tddl dbsync binlog charset conversion java l
609,数据 解析 类型 错误 因为 解析 乱码 问题 吗 就 条 insert query header version logfile name mysql bin e logfile offset server id serveren code utf execute time source type mysql schema name table name event length event type query entry type rowdata store value a z yinsert into data compare lzw receive json log min id max id values mysql rows query log event query
608,代码 估计 服务 端重 启 做 一下 重试 恢复 即可 no match ack position log position message batch id size kafka producer network thread producer debug o apache kafka clients network client producer client id producer using older server api v to send produce acks timeout partition sizes flow topic with correlation id to node kafka producer network thread producer debug o apache kafka clients network client producer client id producer using older server api v to send produce acks timeout partition sizes flow topic with correlation id to node com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x c f exception com alibaba otter canal store canal store exception no match ack position log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id timestamp at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at com zichan bigdata canal client caseflow sync flow tables main sync flow tables java main info c a o c c impl cluster canal connector restart the connector next round retry message batch id size string destination args string topic args canal connector connector canal connectors cluster connector zk destination batch size empty count connector connect connector rollback total empty count empty count total empty count message message connector get without ack batch size l time unit milliseconds batch id message get id size message get entries size batch id size empty count thread sleep interrupted exception e empty count system out printf message batch id s size s n batch id size produce kafka data message get entries topic thread sleep interrupted exception e connector ack batch id exception e e print stack trace connector rollback batch id connector disconnect no match ack instance client
607,启动 多 总 未 启动 两 分别 启动 启动 成功 启动 成功 启动 失败 没有 报错 只是 启动 时候 没有 寻找 位点 文件夹 中 没有 信息 跟库 关系 应该 大 因为 启动 失败 并不 固定 一般 情况 推荐 配置 多 启动 没有 约束 数量 要 开启 消费 才 会 server instance instance server instance server server instance instance meta dat postion instance server instance instance client meta dat position
606,服务 端宕机 为什么 需要 重启 次 服务 端 才 能 重新 获取 日志 数据 各位 请教 问题 问题 如下 所述 服务 端宕机 为什么 需要 重启 次 服务 端 才 能 重新 获取 数据库 日志 数据 重 启 次 无法 获取 数据库 日志 数据 今天 试 次 没 问题 回头 找找 原因 canal canal binlog canal canal binlog binlog
605,事务 较大 情况 数据 丢失 测试 同步 数据 时候 出 表 导出 时候 行 切分 事务 然后 表 掉 导出 发现 同步 完成 中会 少 三百 条 左右 数据 总数 量 经 调试 发现 同步 过程 中 发生 数据 丢失 大部分 事务 都 完整 同步 事务 同步 过来 不到 条数 后来 事务 行 数据 切分 事务 就 会 出现 丢 数据 情况 请问 一下 网络 状况 有关 吗 或者 只是 因为 事务 过大 这个 问题 怎么 处理 binlog canal es mysql dump truncate sql es mysql w canal binlog
604,找 包 改成 这个 包 什么 时候 能 放出 呢 一下 二进制 发布 包里 com alibaba fastsql fastsql jar preview com alibaba fastsql fastsql jar preview error failed to execute goal on project canal parse could not resolve dependencies project com alibaba otter canal parse jar snapshot failure to find com alibaba fastsql fastsql jar preview in http maven aliyun com nexus content groups was cached in the local repository resolution will not be reattempted until the update interval of nexus aliyun has elapsed or updates are forced help com alibaba fastsql fastsql jar preview
603,主机 中 软件 中止 建立 连接 主机 中 软件 中止 建立 连接 主机 中 软件 中止 建立 连接 问题 描述 最好 详细 点 否则 分析 谢谢 回答 数据 量 时 运行 没有 问题 大 事务 执行 时 千 级 万 级 就 会报 这个 错误 调 大 客户端 都 没 什么 之前 处理 数据 时 遇到 过 种 问题 使用 场景 使用 客户端 采用 定时 任务 实时 处理 服务 端 获取 日志 数据 并且 每个 定时 任务 都 使用 客户端 链接 对象 数据库 瞬间 更新 条 数据 时 客户端 处理 数据 时 运行 一会 就 会 一直 报 说 种 错误 主机 中 软件 中止 建立 连接 解决 办法 每个 定时 任务 都 使用 新 创建 客户端 链接 对象 并在 任务 结束 时 断开 链接 关注 一下 这个 com alibaba otter canal protocol exception canal client exception java io io exception error thread com clickplus canal canal client test process error com alibaba otter canal protocol exception canal client exception java io io exception at com alibaba otter canal client impl simple canal connector ack simple canal connector java canal client jar na at com clickplus canal canal client test process canal client test java classes na at com clickplus canal canal client test run canal client test java classes na at java lang thread run thread java na caused by java io io exception at sun nio ch socket dispatcher write method na at sun nio ch socket dispatcher write socket dispatcher java na at sun nio ch io util write from buffer io util java na at sun nio ch io util write io util java na at sun nio ch socket channel impl write socket channel impl java na at com alibaba otter canal client impl simple canal connector write with header simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector ack simple canal connector java canal client jar na common frames omitted jnliao canal insert buffersize batchsize canal canal w canal caused by java io io exception https github com alibaba canal issues
602,迁出 代码 构建 包 找 查 只有 以及 对 包 重新 成功 没有 权限 mvn canal common jar snapshot could not find artifact com alibaba otter canal common jar snapshot in nexus aliyun http maven aliyun com nexus content groups common install aliyun deploy
601,运行 小时 左右 客户端 报错 服务 端 没 报错 什么 原因 服务 端 主动 断开 连接 服务 端 为什么 主动 断开 连接 问题 或者 请问 要 怎么 处理 检查 日志 端 没 报错 就 客户端 报错 这个 问题 请 问这 咋回事 版本 关注 一下 这个 canal broken pipe com alibaba otter canal protocol exception canal client exception java io io exception broken pipe at com alibaba otter canal client impl simple canal connector ack simple canal connector java caused by java io io exception broken pipe at sun nio ch file dispatcher impl write method at sun nio ch socket dispatcher write socket dispatcher java at sun nio ch io util write from buffer io util java at sun nio ch io util write io util java at sun nio ch socket channel impl write socket channel impl java at java nio channels channels write fully impl channels java at java nio channels channels write fully channels java at java nio channels channels access channels java at java nio channels channels write channels java at java nio channels channels writable channel impl write channels java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector ack simple canal connector java more canal server server https github com alibaba canal issues
599,大 数据量 时 服务 端 报 问题 场景 万 级 数据 进行 操作 时 服务 端 会报 错误 客户端 日志 显示 订阅 会 一直 重复 出现 循环 导致 时间 变得 很长 别的 表的 同步 就 进 种 情况 要 扩大 客户端 吗 本地 测试 一下 都 没有 解决 问题 这个 异常 时 链接 超时 最好 需要 观察 一下 运行 堆栈 遇到 这个 问题 怎么 解决 端 设置 然后 端的 设置 一点 默认 超时 时间 掉 就 可以 关注 一下 这个 canal c a o c server netty handler client authentication handler idle timeout exceeds close channel to save server resources insert canal c a o c server netty handler client authentication handler channel id x c ea e idle timeout exceeds close channel to save server resources binlog delay canal ringbuffer batchsize idle timeout server batch mode item size client batch size s ack https github com alibaba canal issues
598,库 配置 三 两 能 正常 读到 库 表 分 一千 张 所以 配置 三 然后 每个 过滤 不同 表 但是 只有 两 能 正常 消费 日志 另外 即使 表 数据 消费 不到 返回 碰到 类似 问题 总是 没有 获取 位点 文件 中 没有 信息 升级 版本 正常 rds mysql instance binlog rds instance instance binlog instance batch id instance instance meta dat postion
597,数据 量小 时候 没有 问题 万 级 数据 同步 插入 时 就 会 报 错误 现象 一直 读取 插入 万 级 日志 循环 调用 导致 中 先 插入 删除 插入 删除 一直 重复 请问 什么 原因 关注 一下 这个 com alibaba otter canal protocol exception canal client exception java io io exception broken pipe canal com alibaba otter canal protocol exception canal client exception java io io exception broken pipe canal mysql https github com alibaba canal issues
596,集群 模式 客户端 调用 无效 使用 进行 开发 时候 碰到 如下 问题 问题 描述 集群 环境 客户端 调用 无效 压根 监听 数据库 表 数据 变化 日志 并且 修改 回去 再次 重启 客户端 之前 能 正常 监听 所有 表 功能 立马 失效 重 启 服务 端 没用 但是 修改 服务 端 指向 重 启 服务 端 能 正常 恢复 监听 所有 表 如果 再次 客户端 处 调用 带有 参数 方法 会 重复 上述 问题 环境 机器 版本 机器 版本 机器 额外 问下 中 写法 没 什么 特殊 要求 只是 正则 表达式 吗 还是 什么 其他 规则 群加 进去 所以 只有 邮件 问询 希望 能 受到 回复 谢谢 如果 要 订阅 数据库 表 调用 正解 canal connector subscribe schema hi dear canal canal connector subscribe schema schema connector subscribe canal canal zookeeper canal filter subscribe a canal server b canal server c zookeeper connector subscribe filter qq test user log connector subscribe test user test log ls
595,可以 设置 数据库 用户 权限 试试 这个 设置 权限 好用 啊 请问 因为 版本 问题 吗 请问 解决 没有 show master status has an error destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception command show master status has an error pls check you need at least one of the replication client privilege s operation grant select replication slave replication client show view on to xxx grant all privileges on to xxx sunsetyan
594,一直 这个 异常 状态 但是 数据库 有变化 没有 变化 一直 这个 动静 发自 网易 邮箱 大 师 年 月 日 写道 这个 异常 状态 可能 配置 太 老 那边 已经 删除 对应 可能 例子 里 默认 太 大 改小 点 就 好了 canal prepare to find start position just show master status thread info c a otter canal instance core canal instance stop successful main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource walleter instance properties main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance walleter main info c a otter canal instance core canal instance start successful destination walleter address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status thread info c a otter canal instance core canal instance stop cannal instance null walleter thread info c a otter canal instance core canal instance stop successful prepare to find start position just show master status postion canal agapple notifications github com prepare to find start position just show master status you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread mersap position mysql binlog batch size
593,这个 版本 造成 吗 请 问 版本 兼容 所有 版本 吗 版本 啊 版本 这个 问题 对应 配置 这个 能 怀疑 问题 代码 层面 本地 都 跑过 具体 复现 方法 bug canal mysql x main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang no such method error method java net inet socket address get host string with signature ljava lang string was not found at com alibaba otter canal parse driver mysql mysql connector init mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector init mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection init mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser build mysql connection mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser build erosa connection mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run libgcj so na na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang no such method error method java net inet socket address get host string with signature ljava lang string was not found at com alibaba otter canal parse driver mysql mysql connector init mysql connector java at com alibaba otter canal parse driver mysql mysql connector init mysql connector java at com alibaba otter canal parse inbound mysql mysql connection init mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser build mysql connection mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser build erosa connection mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run libgcj so destination example address event parser error c a otter canal parse inbound mysql mysql event parser parse events has an error java lang null pointer exception null at com alibaba otter canal parse inbound mysql mysql event parser after dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run libgcj so na na java lang no such method error method java net inet socket address get host string with signature ljava lang string was not found jdk jdk i canal instance db username canal canal instance db password canal canal instance database name test canal instance connection charset utf jdk oracle jdk jdk reopen
592,开启 以及 使用 会 出现 改表 结构 一直 报 问题 最近 碰上 问题 因为 解析 我们 表 结构 时候 总是 报错 无法 通过 所以 关掉 以及 识别 如果 此时 更新 业务 表 列 例如 增加 列 新 时候 会 发生 里 数量 多 里 列数 少 抛出 异常 觉得 此处 应该 加上 判断 如果 使用 缓存 走 如果 使用 就 走 数据库 直 连 查询 因为 条件 变化 可能 第一 次 没 取到 需要 获取 次 记录 中 强制 覆盖 掉 内存 值 关掉 就 没法 解决 这个 列 匹配 问题 如果 针对 无法 解析 建议 反馈 对应 推动 完善 错误 因为 底层 包 问题 因为 一直 线上 使用 所以 暂时 没法 等待 更新 然后 这个 问题 个人 认为 包里 分支 逻辑 问题 暂时 使用 我们 停止 使用 段 时间 没有 发现 新 问题 不同 druid ddl true tsdb column size is not match druid druid ddl canal query ddl event event fields table meta table meta get table meta string schema string table use cache entry position position table meta table meta null table meta tsdb null todo use cache cache cache table meta table meta tsdb find schema table table meta null table meta db snapshot string full name get full name schema table result set packet packet connection query show create table full name string create ddl null packet get field values size create ddl packet get field values get table meta tsdb apply position schema create ddl first table meta table meta tsdb find schema table io exception e canal parse exception fetch failed by table meta full name e table meta use cache table meta db invalidate get full name schema table table meta db get unchecked get full name schema table tsdb ddl ddl tsdb ddl druid druid tsdb canal tsdb tsdb fastsql druid
591,关于 一些 疑问 中 字段 中 类型 出来 数值 抱歉 没有 找到 数值 对应 类型 可以 那里 查到 吗 找到 找到 在哪 sqltype hi canal entry java sql type java get sql type java thx
590,不准确 问题 事件 大小 改为 返回 内存 大小 更 准确 可控 这个 方法 实现 原理 遍历 所有 数据 进行 大小 计 算 有一些 成本 已经 新的 方案 获取 序列化 之后 长度 fix issue event size calculate size binlog serialized size cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla get serialized size
589,关于 一些 疑问 现在 理解 将 分发 如果 收集 完整 或者 达到 上限 就 会 触发 将 缓存 数据 通过 经过 等 操作 以后 发 送到 接 收到 应该 就 刚刚 发 过来 事务 检查 如果 空位 空间 足够 就 遍历 中 数据 逐条 加入 中 次 数据 时候 根据 传入 拿完 以后 会 计算 消息 次 头尾 会 点 段 消息 中 最后 或者 这个 会 元数据 管理 时 传 进去 为了 中 总是 记录 事务 开始 或者 结束 疑问 现在 我们 开发 东西 希望 作为 单位 将 消息 发给 下游 如果 过大 会 分割 成 多 包 里 面 记录 布尔 值 表示 是否 事务 结束 包 现在 主要 矛盾 里面 存储 粒度 所以 根据 的话 出去 可能 事务 中 数据 会 分 次 拿到 如果 拿出 数据 之后 嵌套 类似 缓存 时候 要 保留 原来 目前 觉得 可以 实现 自己 里面 缓存 粒度 包 这样 次 出来 都 包为 单位 形式 之后 可以 继承 覆盖 里面 方法 将 替换 自己 实现 想 请教 一下 当时 设计 考虑 以后 没 考虑 提供 按 包为 单位 然后 目前 想法 合理 不知道 上面 表述 够 清楚 望 回复 要 考虑 大 事务 情况 一般 我们 内部 建议 这么 玩 很多 工作 可以 层面 支持 比如 层面 本身 支持 异步 之后 可以 自己 搞 凑足 事务 回调 业务 感谢 建议 哈 层面 可以 做 这个 但是 有些 考虑 目前 我们 其实 内嵌 消息 中间件 提供 下游 数据 订阅 现在 想要 消息 中间件 中发 事务 粒度 消息 业务 中 几乎 都 事务 如果 层 方法 拿出 数据 然后 放入 这样 感觉 代码 结构 多 层 数据 中 包含 多个 事务 情况 要 协调 根据 事务 发送 消息 以及 消费 完 数据 以后 根据 因为 种 情况 发送 拉 出来 没有 什么 联系 如果 里面 保证 出来 就 事物 包 就 直接 发送 完 走 逻辑 就 可以 如果 考虑 层面 按下 面的 做法 能 避免 大 事务 影响 呢 考虑 出 事物 包 包 里 加 标记 位 如果 事务 就 单独 事物 包 标记 位 表示 没有 后续 包 大 事务 就 会 因为 满 以后 切成 多 除了 最后 都 标记 为有 后续 包 样子 做 的话 应该 能 处理 大 事务 问题 这样 需求 实现 端 比较 呢 写完 以后 感觉 拿出来 数据 事物 包为 单元 大 事务 会 多 事物 包 少数 情况 如果 标的 方式 建议 上操 作 感谢 回复 辛苦 如果 针对 大 表 大 事物 包含 太 多 数据 容易 引发 问题 之前 项目 里 错误 设置 结果 经常 异常 中止 少见 情况 糟糕 历史 系统 经常 事物 修改 成千上万 条 数据 甚至 清空 表 表 本身 数据 量 嗯 嗯 会 设置 上限 针对 大 事务 会 截断 多次 描述 结合 源码 看了 服务器 端 这个 参数 配置 端的 设置 应该 设置 一样 会 比较 合理 如果 完整 事务 数据 长度 超过 客户端 设置 这个 比如 事务 实际 长度 倍 第一 次 获取 数据 再次 时 会 返 剩下 倍 数据 会 会 事务 数据 返回 目前 中 实现 消息 获取 粒度 中 所以 只是 针对 多少 会 针对 事务 做 截断 返回 所以 感觉 两 配置 没有 必然 联系 主要 自己 这边 消费 效率 调整 就 只要 中 储存 足够 多 数据 每次 都 能 拿到 会 因为 事务 截断 但是 事务 头尾 进入 时 会 设置 位点 就是说 时候 总是 会 选择 组 中 事务 头尾 理解 正确 event transaction buffer memory event store with buffer event transaction buffer sink event event transaction buffer transaction buffer size flush callback filter memory event store with buffer memory event store with buffer list event list list entries get batch size position range get log position set ack transactionbegin transactionend ack update cursor cursor transaction transaction transaction memory event store with buffer entry batch s ize memory event store with buffer event transaction buffer ack batch id ack memory transaction store with buffer transaction get transaction canal instance with manager init event store memory event store with buffer memory transaction store with buffer canal transaction put get ack client client ack buffer client canal canal client get without ack batch size buffer batch size mq batch size message id ack canal mq trasaction canal message id server get message ack server flush buffer server get without ack server oom batch size client shang flush canal instance transactionn size client batch size batch size batch size get batch size get zwangbo jingshenbusi canal entry event memory event store with buffer batch size entry batch size buff get batch size event memory event store with buffer ack ack message id batch size position ls
588,初始化 工程 时候 出现 目前 二进制 发布 包里 包含 二 进制 文件 哪里 新 没有 看到 这里 二 进制 包 could not find artifact com alibaba fastsql fastsql jar preview caused by org eclipse aether resolution dependency resolution exception could not find artifact com alibaba fastsql fastsql jar preview in central agapple https github com alibaba canal releases tag canal preview
587,这个 项目 能 打包 成 吗 这个 项目 能 打包 成 吗 文件 项目 里面 很多 文件 到底 文件 启动 一下 里 jar jar tar main wiki quick start
586,不准确 直接 返回 中 事件 大 事件 经过 解析 实际 内存 占用 十 倍 以上 这样 算出 实例 内存 占用 就 准确 考虑 改成 测试 结果 这么 问题 里 大小 展开 之后 会 补充 字段 类型 等 信息 会 之前 要 膨胀 很多 新 版本 已经 按照 序列化 大小 进行 计算 memory event store with buffer event size memory event store with buffer calculate size event event binlog event get entry get header get event length binlog canal event length buffer size buffer mem unit event get entry get serialized size calculate size serialized size calculate size serialized size binlog
585,支持 对 表名 黑白 名单 过滤 呢 怎么 考虑 源码 里面 对 都没 过滤 表名 另外 另外 对于 文档 中 属性 描述 是否 忽略 语句 比如 模式 可以 包含 模式 记录 有点 懂 设置 之后 里 排除 还是 排除 如果 使用 想 同步 数据 存储 介质 可以 设置 成 能 获取 无法 获取 库 名 表达式 过滤 时候 无法 精确 匹配 rows query event filter regex filter black regex log event convert rows query log event annotate rows event canal instance filter query dml dml query insert update delete table mysql row statement query true dml select insert update delete table canal true rows query log event table name
584,版本 过滤 失效 版本 过滤 失效 仍然 会 打印 等 日志 设置 成 还是 canal instance filter query dcl dml canal instance filter query dcl dml update delete insert true false
583,关于 数据库 版本 咨询 目前 我们 数据库 但是 你们 文档 中 说 支持 括号 中 特别 注明 那么 意味 仅 测试 对于 版本 什么 影响 吗 版本 没有 做 过 测试 可以 做 一下 评测 一般 小版 本 太 会 变化 好的 我们 正式 环境 中 没有 遇到 小版 本 问题 好像 没有 特别 指明 变化 binlog change log binlog
582,可以 搭配 使用 吗 能 直 连 物理 路由 无法 产生 日 志 巧妇 难为 无米之炊 canal mycat canal mycat my sql mycat sql binlog canal
581,模式 正常 关闭 节点 切换 节点 之后 消费 不到 数据 先 启动 两 注册 连接 选择 节点 进行 订阅 关闭 正在 订阅 节点 之后 进行 节点 切换 切换 节点 但是 报错 然后 订阅 不到 数据 只是 不停 打印 切换 新 日志 最后 起来 啊 切换 到了 新 切换 过去 但是 消费 能 正常 消费 遇到 同样 问题 已经 切换 地址 节点 还是 旧 地址 这样 确实 能 继续 消费 数据 使用 出现 这个 问题 知道 是否 已经 解决 问题 建议 都 版本 试试 印象 中高 可用 切换 修复 过 问题 ha server zookeeper client server zookeeper client zookeeper server zookeeper client main warn c a o c c impl cluster canal connector something goes wrong when get without ack data from server com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at client sample start client sample java at client sample main client sample java caused by java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector read simple canal connector java at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java more main send thread debug org apache zookeeper client cnxn got ping response sessionid x c bb after ms server pool thread info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties pool thread info c a o c i spring support property placeholder configurer loading properties file from path resource gjj instance properties pool thread warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string pool thread info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties pool thread info c a o c i spring support property placeholder configurer loading properties file from path resource gjj instance properties i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x cf c exception com alibaba otter canal server exception canal server exception destination gjj should start first i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x cf c exception com alibaba otter canal server exception canal server exception destination gjj should start first i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x cf c exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java pool thread error com alibaba druid pool druid data source test idle is true validation query not set pool thread info c a otter canal instance spring canal instance with spring start cannal instance gjj pool thread info c a otter canal instance core canal instance subscribe filter change to bshousingfund bsh data log pool thread info c a otter canal instance core canal instance start successful destination gjj address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp i o server worker info c a otter canal instance core canal instance subscribe filter change to bshousingfund bsh data log i o server worker info c a otter canal instance core canal instance subscribe filter change to bshousingfund bsh data log server server client c xninesuns zk running instance zk client canal alpha
580,无法 连接 服务 端 使用 下面 方法 创建 连接 但是 调用 方法 时报 错 报错 如下 请 问 什么 原因 呢 之前 一直 好好 今天 开始 突然 报 这个 错了 使用 版本 找到 原因 服务 端 所在 服务器 防火墙 拦截 端口 开放 端口 就 好了 canal canal canal connector canal connector canal connectors single connector inet socket address canal host integer parse canal port canal destination canal connector connect connect caused by com alibaba otter canal protocol exception canal client exception java net connect exception connection timed out connect at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal canal deployer canal
579,取 不到 情况 这样 我们 阿里云 启动 启动 然后 数据库 并发 写 数据 刚 开始 可以 看到 接到 数据 解析 并且 数据 没有 丢失 然后 过 段 时间 并发 写 数据 就 接不 数据 重 启 就 看到 可以 接到 数据 解析 部署 出现 运行 段 时间 天 或者 月 能 接到 数据 导致 同步 通道 停止 配置 多 吗 每个 中 一样 吗 版本 建议 版本 种 情况 里面 内容 没有 信息 目录 中 一样 这个 有关系 吗 多 配置 时候 参数 需要 配置 吗 保证 唯一 看到 解析 配置 文件 直 连 这个 解析 库 配置 吗 只是 拉取 作为 解析 嗯 我们 阿里云 然后 配置 文件 就 使用 这个 参考 canal server rds binlog mysql rds canal server canal client mysql client hbase client canal server client otter canal otter songpengpeng destination destination destination serveid mjjian agapple agapple meta dat cursor postion destination meta dat client id agapple instance canal instance rds instance id rds localbinlog binlog agapple rds instance properties rds rds instance rds oss binlog agapple mysql rds faq https github com alibaba canal wiki faq
578,求 问 稳定 版 什么 时候 发布 谢谢 如图 求 问 谢谢 目前 知 需要 进行 修复 谢谢 回复 另外 想 问 会 大概 时间 吗 比如 会 月份 或者 十一 前 或者 年底 这样 稍微 准确 时间点 吗 谢谢 预计 近 月 之内 年 过去 非常 感谢 回复 最新 版本 发布 bug
577,服务 端 日志 级别 改成 然后 无限 快速 打印 下面 条 日志 然后 获取 不到 变更 数据 什么 原因 定位 位点 时 打印 信息 canal debug destination xxx address xxx xxx xxx xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser set entry position included false journal name mysql bin position server id xxx timestamp to be pending start position before finding another proper one destination xxx address xxx event parser debug c a otter canal parse inbound mysql mysql event parser compare exit condition mysql bin start timestamp debug
576,报错 两 配置 分别 里面 正常 启动 过后 过一会儿 会 客户端 报错 时候 报的 空 指针 报错 代码 行为 代码 行 这边 对 自己 改动 过 canal deployer snapshot instance example example java lang null pointer exception at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector ack simple canal connector java ack batch id connector ack batch id
575,莫名 出现 下面 问题 表中 列 没有 重复 不知道 到底 因为 什么 麻烦 大 神 思路 重复 同步 my sql syntax error exception duplicate column name required pid nid exception setl com alibaba otter node etl load exception load exception java util concurrent execution exception com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception org springframework jdbc bad sql grammar exception statement callback bad sql grammar nested exception is com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name required caused by java util concurrent execution exception com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception org springframework jdbc bad sql grammar exception statement callback bad sql grammar nested exception is com mysql jdbc exceptions jdbc my sql syntax error exception duplicate column name required ddl
574,监控 过滤 问题 模式 模式 如何 实现 只对 某个 固定 库名 进行 监控 使用 版本 目前 已经 基于 完整 解析 支持 过滤 canal binlog mixed binlog mixed binlog sql
573,连接 阿里 发生 主备 切换 报错 并且 重 启 能 正常 启动 rds canal canal
572,中 出现 注释 导致 消息 丢弃 操作 时 例如 新增 字段 如果 命令 前有 注释 的话 最终 解析 这个 事件 但是 如果 没有 前面 行 注释 就 能 解析 条 标识 是否 语句 也就是说 如果 执行 时 指定 注释 注释 注释 那么 条 应该 目前 返回 如果 去掉 注释 注释 返回 当前 数据库 相关 信息 当前 实例 配置 信息 尝试 使用 最新 版本 已经 基于 全 解析 方式 可以 支持 注释 binlog ddl dba ddl canal binlog code optional bool is ddl false code pre ddl pre get is ddl is ddl ddl at server id end log pos crc x e bdfed query thread id exec time error code set timestamp alter table on ord act paid add receivables mch id varchar null comment foo modify column payment method smallint not null comment bar at server id end log pos crc x d ba query thread id exec time error code set timestamp binlog row change get is ddl false true server version log source distribution innodb version binlog binlog cache size binlog checksum crc binlog direct non transactional updates off binlog format row binlog max flush queue time binlog order commits on binlog row image full binlog rows query log events off binlog stmt cache size binlogging impossible mode ignore error innodb api enable binlog off innodb locks unsafe binlog off log bin on log bin basename data mysql mysql bin log bin index data mysql mysql bin index log bin trust function creators off log bin use v row events off max binlog cache size max binlog size max binlog stmt cache size simplified binlog gtid recovery off sql log bin on sync binlog mysql conf mysqld basedir usr local mysql datadir data mysql socket data mysql mysql sock port server id log bin mysql bin binlog format row relay log mysqld relay bin sync binlog relay log purge log slave updates query cache type query cache size table definition cache table open cache table open cache instances sql mode no engine substitution strict trans tables skip name resolve back log max connections max connect errors max allowed packet m binlog cache size m binlog stmt cache size m max heap table size m tmp table size m sort buffer size m thread cache size ft min word len thread stack k query time tmpdir tmp key buffer size m read buffer size m join buffer size m read rnd buffer size m bulk insert buffer size m character set server utf collation server utf general ci transaction isolation repeatable read storage engine inno db tmp storage engine inno db innodb buffer pool size g innodb file per table innodb file io threads innodb thread concurrency innodb flush log at trx commit innodb log buffer size m innodb log file size m innodb log files in group innodb flush method o direct innodb lock wait timeout innodb open files innodb online alter log max size g slow query log on query time slow query log file mysql slow mysql character set utf sock data mysql mysql sock mysqld safe log error data mysql mysqld err pid file data mysql mysqld pid ddl sql
571,跑 段 时间 之后 出现 这个 异常 重 启 之后 依然 报 这个 异常 重新 删掉 重新 启动 之后 数据 请问 为啥 不管 网络 还是 物理机 出 问题 如何 保证 数据 丢失 如图 想 位点 重新 开始 同步 数据 重 启 不好用 如何 做 多 一下 java net socket timeout exception canal server client meta dat canal https user images githubusercontent com c a e e e e png wiki
570,能 提供 一下 完整 或者 试试 版本 如下 这边 出现 这个 问题 具体 代码 如下 确 认为 解析 版本 里 近期 会 修复 升级 后已 修复 能 找到 版本 麻烦 请 问 版本 地址 可以 二进制 包里 下载 一份 fulltext key and add index using btree cause parse error v parse faield alter table xxxxx add index idx order id order id using btree com alibaba druid sql parser parser exception syntax error error in sing btree expect identifier actual identifier pos line column token identifier btree at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar destination kd caesar yf address test kuaihuoyun com event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table xxxx id unsigned not null auto increment comment fulltext key ft query oid query oid engine inno db charset utf comment com alibaba druid sql parser parser exception syntax error error in key ft query oid query oid expect rparen actual identifier pos line column token identifier ft query oid at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse query event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na sql agapple sql alter table xxxxx add index idx order id order id using btree create table xxxx id unsigned not null auto increment comment ft query oid varchar not null fulltext key ft query oid query oid engine inno db charset utf comment destination eam address xx xx xxxx event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield alter table tb at creditcard withhold info add unique index idx uniq idcard account customer id card customer bank account using btree com alibaba druid sql parser parser exception syntax error error in sing btree expect identifier actual identifier pos line column token identifier btree at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na ddl bug fastsql fastsql preview preview http mvnrepository com artifact com alibaba fastsql fastsql
569,解析 字段 出现 符号 阿里 云 高 可用 版 解析 字段 中文 字符 出现 符号 乱码 了吧 最好 能 复现 测试 方式 msyql log canal server varchar msyql rds log canal server varchar
568,删除 设定 启动 发现 读取 消息 一会 就 读取 远远 少于 设定 有时候 甚至 排除 记录 数 够 什么 原因 吗 按照 内存大小 获取 非 记录 数 canal meta dat canal instance master timestamp canal message real size batch size result is null mysql binlog real size
567,版本 获取 日志 信息 配置 本地 然后 进行 操作 可以 获取 操作 信息 配置 操作 无法 获取 操作 信息 配置 需要 配置 吗 上报 里面 报错 远程 主机 强迫 关闭 现有 连接 远程 主机 强迫 关闭 现有 连接 估计 断链 数据库 运行 就是 感觉 这边 连 数据库 请 问 要 怎么 处理 呢 canal deployer snapshot rds mysql rds instance properties rds instance properties rds canal log i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x a c exception java io io exception at sun nio ch socket dispatcher read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java exception java io io exception canal server canal
566,启动 会 产生 大量 非 认证 用户 连接 停止 非 认证 用户 连接 消失 主备 模式 建议 换 版本 canal server unauthenticated user canal server unauthenticated user canal version canal server
565,启动 会 产生 大量 非 认证 用户 连接 停止 非 认证 用户 连接 消失 但是 配置 数据库 连接 并没有 断开 链接 处于 状态 版本 canal server unauthenticated user canal server unauthenticated user instance sleep canal
564,端 如何 设置 参考 这个 canal connector connector canal connectors cluster connector canal properties get zk servers canal properties get destination canal connector connector canal connectors cluster connector canal properties get zk servers canal properties get destination server password https github com alibaba canal issues
563,接收 端 如何 区分 记录 还是 接收 端 如何 区分 记录 还是 可以 根据 是否 空来 判断 吗 多看 文档 row statement row statement string sql row chage get sql sql
562,端 端 什么 关系 尝试 一下 发现 端 设置 貌似 作用 才 最佳 姿势 正解 canal instance filter regex server canal instance filter regex client connector subscribe subscribe pattern server connector subscribe subscribe pattern ls
561,如何 客户端 重置 位置 现在 位点 远程 监听 时间 长了 已经 删 如何 客户端 重置 位置 问题 描述 现在 位点 远程 监听 时间 长了 已经 删 永远 永远 永远 读 出 数据 疑问 请问 如何 改动 远程 服务 配置 其他 啊 哦 做 情况 客户端 自己 重置 位置 新 就是 监听 最新 消息 之前 就 忽略 服务 配置 日志 代码 位 点 存在 同感 能 能 位点 异常 错误 情况 自动 重置 最新 位点 出现 次数 较 多 同上 如果 阿里云 类 情况 挂 后端 主备 会 自动 重新 定位 其余 情况 因为 删除 即使 重新 定位 没用 参考 被搞 死了 canal canal mysql binlog message message get id canal canal mysql binlog message message get id message get entries size canal binlog binlog canal destination canal instance mysql slave id position info canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username mescanal canal instance db password mescanal canal instance database name canal instance connection charset utf table regex canal instance filter regex table black regex canal instance filter black regex meta data cat meta dat client datas client identity client id destination mysql b gaotaiunyue filter cursor identity slave id source address address port postion included false journal name my bin position server id timestamp destination mysql b gaotaiunyue destination mysql b gaotianyue address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination mysql b gaotianyue address event parser error com alibaba otter canal common alarm log alarm handler destination mysql b liupengchun java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java could not find first log file name in binary log index file rds vip mysql binlog faq https github com alibaba canal wiki faq
560,启动 报错 做 过 二 次 开发 property access exception org springframework beans method invocation exception property tsdb spring xml threw exception nested exception is org springframework beans factory bean creation exception error creating bean with name table meta tsdb defined in path resource spring tsdb h tsdb xml cannot resolve reference to bean meta history dao setting bean property meta history dao nested exception is org springframework beans factory bean creation exception error creating bean with name meta history dao defined in path resource spring tsdb h tsdb xml cannot resolve reference to bean sql map client setting bean property sql map client nested exception is org springframework beans factory bean creation exception error creating bean with name sql map client defined in path resource spring tsdb h tsdb xml cannot resolve reference to bean data source setting bean property data source nested exception is org springframework beans factory cannot load bean exception error loading com alibaba druid pool druid data source bean with name data source defined in path resource spring tsdb h tsdb xml problem with file or dependent nested exception is java lang linkage error loading constraint violated at org springframework beans factory support autowire capable bean factory apply property values autowire capable bean factory java spring beans release jar release at org springframework beans factory support autowire capable bean factory populate bean autowire capable bean factory java spring beans release jar release at org springframework beans factory support autowire capable bean factory create bean autowire capable bean factory java spring beans release jar release at org springframework beans factory support autowire capable bean factory create bean autowire capable bean factory java spring beans release jar release at org springframework beans factory support bean factory get object bean factory java spring beans release jar release at org springframework beans factory support singleton bean registry get singleton singleton bean registry java spring beans release jar release at org springframework beans factory support bean factory get bean bean factory java spring beans release jar release at org springframework beans factory support bean factory get bean bean factory java spring beans release jar release at org springframework beans factory support bean definition value resolver resolve reference bean definition value resolver java spring beans release jar release common frames omitted caused by org springframework beans property batch update exception failed properties property tsdb spring xml threw exception nested exception is org springframework beans factory bean creation exception error creating bean with name table meta tsdb defined in path resource spring tsdb h tsdb xml cannot resolve reference to bean meta history dao setting bean property meta history dao nested exception is org springframework beans factory bean creation exception error creating bean with name meta history dao defined in path resource spring tsdb h tsdb xml cannot resolve reference to bean sql map client setting bean property sql map client nested exception is org springframework beans factory bean creation exception error creating bean with name sql map client defined in path resource spring tsdb h tsdb xml cannot resolve reference to bean data source setting bean property data source nested exception is org springframework beans factory cannot load bean exception error loading com alibaba druid pool druid data source bean with name data source defined in path resource spring tsdb h tsdb xml problem with file or dependent nested exception is java lang linkage error loading constraint violated at org springframework beans property accessor set property values property accessor java spring beans release jar release at org springframework beans property accessor set property values property accessor java spring beans release jar release at org springframework beans factory support autowire capable bean factory apply property values autowire capable bean factory java spring beans release jar release common frames omitted java lang linkage error loading constraint violated
559,请问 支持 阿里 云的 不知道 如何 设置 时间 格式 什么样 阿里云 控制台 如何 看到 这个 谢谢 获取 解析 这个 时间 标准 时区 时间 canal instance rds start time canal rds canal instance rds start time canal instance rds end time rds time rds oss binlog gmt
558,更 多 内容 描述 啊 经常 假死 现象 没有 任何 日志 没有 挂起 工作 中 但是 源库 数据 变化 没有 任何 操作 重 启 之后 基本 就 能 恢复 知道 什么 原因 知道 我们 方式 对 假如 上百 张 表 需要 同步 数据 没有 更 快捷 配置 办法 能 搞 日志 部分 建议 加强 大 堆 日志 没有 太 多 价值 信息 输出 com alibaba otter canal parse exception canal parse exception parse row data failed com alibaba otter canal parse exception canal parse exception parse row data failed image https user images githubusercontent com a d c d e a adc de png otter channel pipeline channel otter manager otter
557,启动 报错 真 佩服 阿里 程序员 吹 挺 厉害 写 东西 真 敢 恭维 问题 就 反馈 没 必要 上纲 线 版本 nb main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance subscribe filter change to olot main info c a otter canal instance core canal instance start successful destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination example address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position example destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception can t find start position example nio event loop group error c a o canal parse driver mysql socket socket channel pool business error java lang null pointer exception null at com alibaba otter canal parse driver mysql socket socket channel write cache socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool business handler channel read socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool business handler channel read socket channel pool java canal parse driver snapshot jar na at io netty channel simple channel inbound handler channel read simple channel inbound handler java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel handler context fire channel read channel handler context java netty all jar at io netty channel channel pipeline head context channel read channel pipeline java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel pipeline fire channel read channel pipeline java netty all jar at io netty channel nio nio channel nio unsafe read nio channel java netty all jar at io netty channel nio nio event loop process selected key nio event loop java netty all jar at io netty channel nio nio event loop process selected keys optimized nio event loop java netty all jar at io netty channel nio nio event loop process selected keys nio event loop java netty all jar at io netty channel nio nio event loop run nio event loop java netty all jar at io netty util concurrent single thread event executor run single thread event executor java netty all jar at io netty util concurrent thread factory runnable decorator run thread factory java netty all jar at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination example address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position example destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception can t find start position example nio event loop group error c a o canal parse driver mysql socket socket channel pool business error java lang null pointer exception null at com alibaba otter canal parse driver mysql socket socket channel write cache socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool business handler channel read socket channel pool java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql socket socket channel pool business handler channel read socket channel pool java canal parse driver snapshot jar na at io netty channel simple channel inbound handler channel read simple channel inbound handler java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel handler context fire channel read channel handler context java netty all jar at io netty channel channel pipeline head context channel read channel pipeline java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel handler context invoke channel read channel handler context java netty all jar at io netty channel channel pipeline fire channel read channel pipeline java netty all jar at io netty channel nio nio channel nio unsafe read nio channel java netty all jar at io netty channel nio nio event loop process selected key nio event loop java netty all jar at io netty channel nio nio event loop process selected keys optimized nio event loop java netty all jar at io netty channel nio nio event loop process selected keys nio event loop java netty all jar at io netty channel nio nio event loop run nio event loop java netty all jar at io netty util concurrent single thread event executor run single thread event executor java netty all jar at io netty util concurrent thread factory runnable decorator run thread factory java netty all jar at java lang thread run thread java na snapshot
556,下编 不过 重新 更新 一下 代码 代码 已经 上传 仓库 centos info total time s info finished at thu mar cst info memory m m info error failed to execute goal on project canal parse could not resolve dependencies project com alibaba otter canal parse jar snapshot failed to collect dependencies com alibaba otter canal common jar snapshot compile com alibaba otter canal protocol jar snapshot compile com alibaba otter canal meta jar snapshot compile com alibaba otter canal sink jar snapshot compile com alibaba otter canal parse dbsync jar snapshot compile com alibaba otter canal filter jar snapshot compile com alibaba otter canal parse driver jar snapshot compile com alibaba druid jar compile com alibaba fastsql fastsql jar preview compile mysql mysql connector java jar compile org apache ibatis ibatis sqlmap jar compile com h database h jar compile org apache httpcomponents httpclient jar compile org apache commons commons compress jar compile junit junit jar test org springframework spring test jar release test failed to read artifact descriptor com alibaba fastsql fastsql jar preview could not transfer artifact com alibaba fastsql fastsql pom preview from to alibaba http code alibabatech com mvn releases connection to http code alibabatech com refused connection refused connection refused help error error to see the full stack trace of the errors re run maven with the e error re run maven using the x to enable full debug logging error error more information about the errors and possible solutions please read the following articles error help http cwiki apache org confluence display maven dependency resolution exception error fastsql maven
555,renew an inet socket address to resolve address again resolve issue https github com alibaba otter issues cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
554,环境 阿里云 企业 邮箱 端口 要求 用户 验证 调 通 其他 需要 做 一些 调试 javax mail authentication failed exception authentication failure ssl smtp error c a otter manager biz common alarm alarm service send alarm alarm message message pid nid exception canal zjcs to dsb java io io exception socket read timeout occured read size readable bytes timeout at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java receive key otterteam to drgoon agent error org springframework mail mail authentication exception authentication failed nested exception is javax mail authentication failed exception authentication failure at org springframework mail javamail java mail sender impl send java mail sender impl java spring context support release jar release at org springframework mail javamail java mail sender impl send java mail sender impl java spring context support release jar release at org springframework mail javamail java mail sender impl send java mail sender impl java spring context support release jar release at com alibaba otter manager biz common alarm alarm service send mail alarm service java manager biz snapshot jar na at com alibaba otter manager biz common alarm alarm service send alarm service java manager biz snapshot jar na at com alibaba otter manager biz common alarm alarm service send alarm internal alarm service java manager biz snapshot jar na at com alibaba otter manager biz common alarm alarm service access alarm service java manager biz snapshot jar na at com alibaba otter manager biz common alarm alarm service run alarm service java manager biz snapshot jar na at java util concurrent executors runnable adapter call executors java na at java util concurrent future task run future task java na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na caused by javax mail authentication failed exception authentication failure at com sun mail smtp smtp transport authenticator authenticate smtp transport java mail jar at com sun mail smtp smtp transport authenticate smtp transport java mail jar at com sun mail smtp smtp transport protocol connect smtp transport java mail jar at javax mail service connect service java mail jar at org springframework mail javamail java mail sender impl send java mail sender impl java spring context support release jar release common frames omitted java mail sender impl gmail
553,修改 优化 默认 缓存 大小 够 用时 自动 清理 扩充 内存 尽量 避免 频繁 分配 移动 内存 控制 内存 大 分配 空间 异常 愈 所有 这些 检查 处理 都 写 缓存 线程 中 进行 修复 同步 管理 中 停用 时 可能 会 导致 相关 进程 崩溃 为继 继续 完善 目前 已经 稳定 运行 天 配合 目前 支持 大 附件 复制 实测 超过 注意 本 次 修改 增加 日志 确实 存在 中 提到 错位 现象 刚 接触 甚 了解 待修 复 代码 已经 提交 可以 切换 收到 感谢 channel node a fatal error has been detected by the java runtime environment exception access violation xc otter pr mb canal dcanal socket channel netty
552,实在 太 多 不起 作用 报出 一点 有用 信息 设置 偏移量 但是 作用 还是 总后 一行 开始 扫描 最小值 bug canal instance master position canal instance master journal name mysql bin canal instance master position canal instance master timestamp warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position position
551,执行 注释 语句 解析 模式 是否 解析 执行 语句 带有 注释 测试 测试 测试 内容 解析 结果 执行 语句 注释 测试 内容 解析 结果 解析 模式 都 正常 这个 未 考虑 吗 什么 版本 带着 号的 注释么 只要 带有 号的 注释 解析 升级 最新 版本 可以 解决 感觉 这个 问题 算 坑 请 问 升级 解决 吗 据说 新 版本 不够 稳定 暂时 没 升 后续 如果 时间 看看 ddl canal ddl event type query binlog row bug canal start end alter table test add loan amount backstage adjust varchar null comment event type query is ddl false sql start r n r n end r nalter table test add loan amount backstage adjust varchar null comment ddl schema name test alter table test add loan amount backstage adjust varchar null comment event type alter is ddl true sql alter table test add loan amount backstage adjust varchar null comment ddl schema name test canal ddl event type query binlog row insert update delete canal mysql agapple fefine agapple event type query canal liuwenfeng renjin
550,这个 安装 完 运行 示例 代码 出现 问题 客户端 做 一下 重试 升级 一下 版本 com alibaba otter canal protocol exception canal client exception java io io exception broken pipe canal example com alibaba otter canal protocol exception canal client exception java io io exception broken pipe at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com iwaimai canal test canal client test process canal client test java classes na at com iwaimai canal test canal client test run canal client test java classes na at java lang thread run thread java na caused by java io io exception broken pipe at sun nio ch file dispatcher impl write method na at sun nio ch socket dispatcher write socket dispatcher java na at sun nio ch io util write from buffer io util java na at sun nio ch io util write io util java na at sun nio ch socket channel impl write socket channel impl java na at java nio channels channels write fully impl channels java na at java nio channels channels write fully channels java na at java nio channels channels access channels java na at java nio channels channels write channels java na at java nio channels channels writable channel impl write channels java na at com alibaba otter canal client impl simple canal connector write with header simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector write with header simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na common frames omitted thread error c i c canal client test process error com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x e exception com alibaba otter canal server exception canal server exception destination example should start first at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com iwaimai canal test canal client test process canal client test java classes na at com iwaimai canal test canal client test run canal client test java classes na at java lang thread run thread java na thread error c i c canal client test process error com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x f a c exception com alibaba otter canal server exception canal server exception destination example should start first at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com iwaimai canal test canal client test process canal client test java classes na at com iwaimai canal test canal client test run canal client test java classes na at java lang thread run thread java na thread error c i c canal client test process error com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x e c f exception com alibaba otter canal server exception canal server exception destination example should start first at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at com iwaimai canal test canal client test process canal client test java classes na at com iwaimai canal test canal client test run canal client test java classes na at java lang thread run thread java na
549,解析 出错 求 帮助 暂时 支持 类型 提交 使用 这个 版本 包 试试 destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table procs priv host collate utf bin not null db collate utf bin not null user collate utf bin not null routine name character set utf not null routine type function procedure collate utf bin not null grantor collate utf bin not null proc priv set execute alter routine grant character set utf not null timestamp timestamp not null current timestamp on update current timestamp primary key host db user routine name routine type key grantor grantor engine my isam charset utf collate utf bin comment procedure privileges com alibaba druid sql parser parser exception syntax error error in re collate utf bin not null expect rparen actual identifier pos line column token identifier collate at com alibaba druid sql parser sql parser print error sql parser java druid jar at com alibaba druid sql parser sql parser accept sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang null pointer exception null at com alibaba druid sql dialect mysql visitor my sql output visitor visit my sql output visitor java druid jar at com alibaba druid sql ast expr sql expr accept sql expr java druid jar at com alibaba druid sql ast sql object impl accept sql object impl java druid jar at com alibaba druid sql dialect mysql visitor my sql output visitor visit my sql output visitor java druid jar at com alibaba druid sql ast statement sql column definition accept sql column definition java druid jar at com alibaba druid sql ast sql object impl accept sql object impl java druid jar at com alibaba druid sql visitor sqlast output visitor print table elements sqlast output visitor java druid jar at com alibaba druid sql dialect mysql visitor my sql output visitor visit my sql output visitor java druid jar at com alibaba druid sql dialect mysql ast statement my sql create table statement accept my sql create table statement java druid jar at com alibaba druid sql dialect mysql ast statement my sql create table statement accept my sql create table statement java druid jar at com alibaba druid sql ast sql object impl accept sql object impl java druid jar at com alibaba druid sql dialect mysql ast statement my sql create table statement output my sql create table statement java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta snapshot memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang null pointer exception at com alibaba druid sql dialect mysql visitor my sql output visitor visit my sql output visitor java at com alibaba druid sql ast expr sql expr accept sql expr java at com alibaba druid sql ast sql object impl accept sql object impl java at com alibaba druid sql dialect mysql visitor my sql output visitor visit my sql output visitor java at com alibaba druid sql ast statement sql column definition accept sql column definition java at com alibaba druid sql ast sql object impl accept sql object impl java at com alibaba druid sql visitor sqlast output visitor print table elements sqlast output visitor java at com alibaba druid sql dialect mysql visitor my sql output visitor visit my sql output visitor java at com alibaba druid sql dialect mysql ast statement my sql create table statement accept my sql create table statement java at com alibaba druid sql dialect mysql ast statement my sql create table statement accept my sql create table statement java at com alibaba druid sql ast sql object impl accept sql object impl java at com alibaba druid sql dialect mysql ast statement my sql create table statement output my sql create table statement java at com alibaba otter canal parse inbound mysql tsdb memory table meta snapshot memory table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java druid issue https github com alibaba canal releases tag canal preview
548,对于 本身 就 阻塞式 读写 使用 更 简单 这个 会 覆盖 其他 最近 进行 测试 发现 一些 其他 问题 构建 新 时 调 就近 分配 进行 注册 经过 长 时间 运行 如果 期间 中断 过多 次 可能 其他 注册 由于 没有 记录 前后 设置 日志 会 记到 其他 日志 文件 中 多 共享 轮流 使用 时间 片 会 读性 能 变差 如果 消费 快 使用 较 处理 闪断 其他 改动 修改 情况 放置 天 测试 中 出现 次 读取 频率 大致 小时 次 知 问题 这个 关系 根据 之前 建议 对 修改 稍作 调整 觉得 异步 模式 不错 读写 可以 异步 进行 到时候 对 同步 异步 模式 分别 压测 一下 试试 最近 因为 发现 还有 其它 问题 等等 提交 谢谢 测试 请问 当压 测停 时候 里 之间 多少 使用 网络 流量 情况 什么样 优势 适用 场景 就 来说 握手 成功 订阅 指定 位置 之后 单方面 接收 读写 可以 异步 进行 里 做 仅仅 将 读到 写入 本质 还是 读 对于 这样 数量 有限 常数 长 连接 认为 还是 传统 更为 适合 如果 继续 使用 一些 问题 需要 解决 如果 多 多次 中断 重新 连接 修改 多 日志 会 记录 中 并且 同时 处理 多 反而 影响 性能 实现 保证 记录 时 需要 代码 已经 合并 设计 目前 暂时 都 保留 方便 做 验证 对比 binlog dump bio pr open pr socket channel socket channel event loop group next event loop instance channel round instance channel event loop log mdc instance channel event loop bio so timeout s interrupt read timeout milliseconds master heartbeat period seconds s instance traffic header timeout lcybo lcybo wingerx wingerx canal meta position show master status gap dump wu jianqiang bio nio my sql dump canal my sql data netty handler data cache bio netty channel register event loop io netty event loop threads instance business error instance event loop channel event executor chooser event loop channel business error mdc dispatch bio netty
547,解析 性能 问题 知 压 测过 解析性 能 吗 目前 压测 屏蔽 可能 消费 慢 原因 修改 代码 将 放入 开始 大概 秒 可以 万 级别 但是 持续 段 时间 秒 下降 百 级别 后续 定位 压 测停 时候 不知 遇到 过 这个 问题 没 补上 测试 数据 纯 测试 解析 因为 存 故 消费 端 影响 纯 场景 测试 接收 数据 使用 版本 测试 情况 压测 停止 时 性能 出现 陡降 此时 并没有 同步 结束 红线 标注 关掉 压测 瞬间 压测 重新 启动 性能 回升 抖动 大 持续 段 时间 性能 回到 停 之前 状态 使用 提供 简单 版本 测试 情况 压测 停止 时 性能 出现 提升 这个 现象 观察 网络 流量 现象 一致 是否 这么 结论 基于 模式 读取 性能 更加 稳定 异步 修复 版 有空 试试 canal server canal v alpha event store decode event event store insert image https user images githubusercontent com cf f e e fd b a png canal server v socket channel socket channel pool image https user images githubusercontent com b f fc e e c cd a a e c f png event image https user images githubusercontent com e f e af c aee png image https user images githubusercontent com a c a e f e e bf f f b png image https user images githubusercontent com cde f f e a cdf png lcybo bio socket channel socket channel pool image https user images githubusercontent com c e e f fb ff png my sql slave image https user images githubusercontent com d aa c e bd fc png bio wingerx pr
546,升级 启动 出现 启动 时会 初始化 嵌入式 内存 数据库 看看 启动 失败 具体 原因 canalserver create connection sql exception druid connection pool create error com alibaba druid pool druid data source create connection sql exception url error code state null java sql sql exception connect error url driver org h driver at com alibaba druid pool druid data source create physical connection druid data source java druid jar at com alibaba druid pool druid data source create connection thread run druid data source java druid jar h
545,请问 可以 订阅 从库 吗 从库 角色 对 主库 订阅 现在 两 疑问 是否 支持 订阅 从库 订阅 主库 对 主库 性能 损耗 是否 必要 迁移 订阅 库 哪位 试验 过 订阅 库 帮帮忙 分析 谢谢 是否 支持 订阅 从库 想 知道 这个 问题 目前 我们 需求 很多 不同 区域 库 同步 总库 考虑 怎么 客户端 监听 多个 服务 端的 问题 目前 里面 集群 客户端 种 主备 模式 不满足 种 需求 但是 如果 启动 多 应该 可以 解决 想 订阅 多 实例 吗 如果 可以 使用 模式 配置 多个 就 可以 实现 谢谢 相告 之前 还没 考虑 服务 端 订阅 多个 实例 翻 一下 代码 找到 这个 可以 满足 需求 question canal binlog canal bin log canal bin log canal bin log bin log bin log canal bin log canal example canal connectors yookacn canal server master destination smile mr lee
544,无法 启动 版本 使用 版本 如下 详细 描述 使用 版本 使用 版本 现象 启动 时候 通过 发现 堵塞 行 翻了 代码 这里 就 连接 一直 阻塞 不可能 权限 问题 因为 已经 将 位置 都 读 出来 必 现 使用 这个 版本 包 试试 必现 这个 包 试试 谢谢 碰到 这个 问题 总是 卡在 读取 位点 之后 或者 读 位点 canal mysql canal mysql canal image https user images githubusercontent com d e e c d a afb c png canal jstack image https user images githubusercontent com a d e e e da b e b a a png binlog https github com alibaba canal releases tag canal preview reconnect connect
543,变更 类型 类型 但是 字段 中 没有 全部 题 描述 复现 场景 update column get updated true false
542,启动 失败 无论如何 每次 启动 都 会 失败 数据库 配置 用户 权限 配置 可以 看到 权限 没有 问题 配置 启动 使用 这个 版本 包 试试 请问 问题 解决 没有 啊 canal mysql event parser error find as per timestamp in specific log file has an error canal mysqld log bin mysql bin binlog format row server id datadir var lib mysql socket var lib mysql mysql sock symbolic links sql mode no engine substitution strict trans tables mysqld safe log error var log mysqld log pid file var run mysqld mysqld pid mysql canal mysql select host user password from mysql user where user like canal host user password canal e c a c a d bd dac f b d canal e c a c a d bd dac f b d localhost canal e c a c a d bd dac f b d rows in set sec canal mysql server id canal instance mysql slave id position info canal instance master address canal instance master journal name canal instance master position canal instance master timestamp table meta tsdb info canal instance tsdb enable true canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb url jdbc mysql canal tsdb canal instance tsdb db username canal canal instance tsdb db password canal canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username canal canal instance db password canal canal instance database name canal test canal instance connection charset utf table regex canal instance filter regex table black regex canal instance filter black regex canal canal log java hot spot tm bit server vm warning ignoring option perm size m support was removed in java hot spot tm bit server vm warning ignoring option max perm size m support was removed in java hot spot tm bit server vm warning use cms compact at full collection is deprecated and will likely be removed in a future release main info com alibaba otter canal deployer canal launcher set uncaught exception handler main info com alibaba otter canal deployer canal launcher load canal configurations main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string main error com alibaba druid pool druid data source test idle is true validation query not set main info com alibaba otter canal deployer canal launcher the canal server is running now destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser error c a otter canal parse inbound mysql mysql event parser error find as per timestamp in specific log file has an error java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser find as per timestamp in specific log file mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser find end position with master id and timestamp mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position example destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception can t find start position example destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more me too mysql https github com alibaba canal releases tag canal preview snailbing
541,中 创建 更新 位置 信息 开始 使用 中 节点 位置 信息 但是 更新 中 位置 信息 后来 升级 还是 更新 然后 手动 删除 目录 重新 启动 结果 都 创建 节点 配置 过程 参考 地址 中写 版本 之后 默认 启动 时 会 定位 位点 过程 使用 这个 版本 包 试试 canal zookeeper cursor binlog canal zk cursor binlog mysql zk binlog canal zk otter canal cursor https github com alibaba canal wiki admin guide https github com alibaba canal releases tag canal preview
540,模式 下有 时候 数据库 数据 变动 无法 读取 场景 两 台 机器 机器 部署 机器 二 部署 内容 如下 部署 台 机器 数据库 变动 无法 读取 如果 修改 可以 正确 读取 知道 配置 问题 还是 代码 基本 未 环境 问题 group canal server mysql mysql instance properties canal instance master address canal instance master address host canal server instance properties canal instance master address host canal instance master address host bug
539,对于 中 问题 简单 改动 详情 请见 支持 两 种 模式 提供 进行 切换 默认 选择 模式 之前 最早 使用 模式 针对 长 链接 面向 高 吞吐 场景 模式 会 比较 优势 之前 主要 无法 解决 链接 假死 问题 主干 代码 冲突 比较 多 人肉 合并 代码 下次 提交 之前 可以 合一 代码 pr issue https github com alibaba canal issues netty bio canal socket channel bio netty bio bio bio pr master
538,中 对 保留 多久 题 今天 重置 消费点 时候 出现 找 消费点 情况 只是 重置 小时 前 而已 默认 应该 保存 小时 rds binlog
537,中 一些 问题 作者 最近 项目 遇到 中 问题 如果 消费 不够 快 会 将 扩容 溢出 确实 能 解决 问题 会 引发 出 问题 点 问题 使用 语句 时 单位 才 秒 能 使用 能 单位 纳秒 可以 测试 一下 在读 时候 动态 根据 调整 逻辑 比较 复杂 其实 可以 根据 略 小于 直接 设置 初始 结合 就 可以 参见 线程 使用 这里 代码 复杂化 直接 然后 设置 较 短 比如 秒 对于 中断 场景 检查 线程 是否 中断 对于 需要 场景 现在 实现 类似 判断 是否 超过 这样 可以 应对 中断 场景 闪断 阻塞 问题 实现 会 比较 简单 感觉 出 问题 比较 多 哈 已经 合并 代码 socket channel cache pr https github com alibaba canal pull client canal server direct buf pr https github com alibaba canal pull pr https github com alibaba canal pull pr https github com alibaba canal pull master heartbeat period change master to canal change master to set master heartbeat period packet size buf max three bytes m capacity pr https github com alibaba canal pull pr https github com alibaba canal pull btw dump netty nio input stream so timeout in read bytes index length socket timeout exception e s timeout in read bytes index length socket timeout exception e accumulated wait time so timeout real timeout dump io proposal pr
536,主要 修复 默认 缓存 大小 够 用时 需 自动 扩充 否则 将 缓存 空间 不足 造成 超时 假象 通常 复制 包含 字段 类型 数据 时会 遭遇 这个 问题 版 开始 表现 没有 任何 反应 没有 任何 错误 日志 升级 版 之后 报 错误 误 以为 网络 或者 数据库 问题 复制 经过 公网 转发 两 私网 之间 经 调试 跟踪 发现 实质 固定 缓存 大小 问题 实际 运行 测试 发现 一次性 达到 以上 截止 目前 编译 发布 稳定 运行 谢谢 指正 根据 提供 线索 搜索 中 源码 部分 摘录 如下 看起来 确实 可以 简单 设置 不过 还是 希望 代码 中 做 必要 检查 详细 日志 不然 太 烧 脑 嗯 其实 个人 觉得 这里 没有 必要 割裂 读写 线程 引入 必要 复杂度 通过 设置 较 进行 捕捉 可以 规避 闪断 问题 处理 线程 中断 场景 更加 简洁 socket channel mb i o clob blob socket read timeout occured ssh mb read size mb snapshot cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub lcybo my sql jdbc com mysql jdbc mysql io version meets minimum max three bytes use large packets true max three bytes use large packets false mb dump io netty nio bio so timeout tks
535,启动 时 对 报错 账号 机构 关闭 开启 账号 角色 名称 父 账号 账号 权限 码 中心 机构 管理 账号 表 使用 目前 分支 最新 代码 问题 似乎 没有 解决 测试 表中 联合 索引 因此 单独 标志 应该 中 数据 对于 单独 通过 这样 方式 获取 时 针对 多列 情况 会 出现 列 导致 无法 精确 获取 对应 列 修复 方式 使用 进行 完整 解析 canal server uniquekey compare failed destination example address rds h gi v fo og mysql rds aliyuncs com event parser error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table center institution admin id bigint not null auto increment account varchar not null comment cinst id bigint not null comment id status comment gmt create datetime current timestamp gmt modify datetime current timestamp on update current timestamp name varchar null comment parent id bigint not null comment id permissions varchar comment remark varchar null account primary key id unique key inst account unique index cinst id account key parent id index parent id key center institution admin account index account engine inno db auto increment charset utf comment compare failed db table meta schema xiaomai table center institution admin fileds field meta column name id column type bigint nullable false key true value null extra auto increment unique false field meta column name account column type varchar nullable false key false value null extra unique false field meta column name cinst id column type bigint nullable false key false value null extra unique false field meta column name status column type nullable true key false value extra unique false field meta column name gmt create column type datetime nullable true key false value current timestamp extra unique false field meta column name gmt modify column type datetime nullable true key false value current timestamp extra on update current timestamp unique false field meta column name name column type varchar nullable true key false value null extra unique false field meta column name parent id column type bigint nullable false key false value extra unique false field meta column name permissions column type varchar nullable true key false value extra unique false field meta column name remark column type varchar nullable true key false value null extra unique false field meta column name account column type nullable true key false value extra unique false mem table meta schema xiaomai table center institution admin fileds field meta column name id column type bigint nullable false key true value null extra null unique false field meta column name account column type varchar nullable false key false value null extra null unique true field meta column name cinst id column type bigint nullable false key false value null extra null unique true field meta column name status column type nullable true key false value extra null unique false field meta column name gmt create column type datetime nullable true key false value current timestamp extra null unique false field meta column name gmt modify column type datetime nullable true key false value current timestamp extra null unique false field meta column name name column type varchar nullable true key false value null extra null unique false field meta column name parent id column type bigint nullable false key false value extra null unique false field meta column name permissions column type varchar nullable true key false value extra null unique false field meta column name remark column type varchar nullable true key false value null extra null unique false field meta column name account column type nullable true key false value extra null unique false master https github com alibaba canal issues uk cinst id account field unique false mem field true desc table uk mul uk show create table
534,运行 段 时间 后台 总是 报 错误 知道 什么 情况 做 变更 导致 列 匹配 使用 最新 版本 开启 可以 解决 版本 开户 运行 段 时间 还是 遇到 问题 com alibaba otter canal parse exception canal parse exception column size is not match table ddl tsdb tsdb
533,集群 方式 启动 成功 启动 报错 如图 find as per timestamp in specific log file has an error qq https user images githubusercontent com ceea c e cfb cf f png server server
532,fix dbsync json column of zero length has no value value parsing s see https github com lava coref canal issues cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
531,想问 一下 如果 中 会 造成 程序 运行 段 时间 卡 主 情况 吗 中 程序 正常 运行 多 小时 卡住 会 数据库 掉 链接 爆出 其他 明显 异常 请 问 这个 原因 导致 吗 默认值 大小 机器 内存 多 大 内存 配 同步 数据库 文件 大 天 左右 发自 网易 邮箱 大 师 年 月 日 写道 机器 内存 多 大 这边 出现 这样 问题 但是 不确定 什么 地方 配置 多少 年 月 日 写道 这边 出现 这样 问题 但是 不确定 什么 地方 默认 配置 两 乘积 不应该 出现 内存 够 问题 那里 卡住 表现 什么 症状 一下 这个 假死 有点 像 超时 卡主 问题 可以 尝试 一下 最新 版本 memory event store with buffer buffer mem unit memory event store with buffer buffer size buffer mem unit max mem size batch size buffer mem unit mysql kill socket buffer mem unit server server jvm g binlog g fefine server you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread buffer mem unit fefine you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread buffer size buffer mem unit mb issue instance https github com alibaba canal issues socket
530,请 问 不支持 版本 启动 会 没 权限 异常 可以 指定 订阅 表 所有 授权 足够 大 权限 已经 按 说 测试 指定 订阅 某个 表 结果 一样 错误 阿里云 版本 提工 单 客服 说 支持 这样 权限 高 权限 权 账号 执行 确实 一直 报 没 权限 这样 导致 呢 如果 没有 指定 表 就 默认 会 订阅 所有 表 订阅 之前 会 全局 次 表 结构 所以 会 出现 类似 权限 报错 canal rds mysql canal v destination example address rm xxxxx mysql rds aliyuncs com event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show command denied to user canal monitor table db sql state sql state marker with command show create table mysql columns priv show create table mysql db show create table mysql db view show create table mysql dml health check show create table mysql event show create table mysql failover info show create table mysql func show create table mysql general log show create table mysql ha health check show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql innodb index stats show create table mysql innodb table stats show create table mysql ndb binlog index show create table mysql plugin show create table mysql proc show create table mysql procs priv show create table mysql proxies priv show create table mysql servers show create table mysql slave master info show create table mysql slave relay log info show create table mysql slave worker info show create table mysql slow log show create table mysql slow log view show create table mysql tables priv show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type show create table mysql user show create table mysql user view caused by java io io exception error packet error number field count message show command denied to user canal monitor table db sql state sql state marker with command show create table mysql columns priv show create table mysql db show create table mysql db view show create table mysql dml health check show create table mysql event show create table mysql failover info show create table mysql func show create table mysql general log show create table mysql ha health check show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql innodb index stats show create table mysql innodb table stats show create table mysql ndb binlog index show create table mysql plugin show create table mysql proc show create table mysql procs priv show create table mysql proxies priv show create table mysql servers show create table mysql slave master info show create table mysql slave relay log info show create table mysql slave worker info show create table mysql slow log show create table mysql slow log view show create table mysql tables priv show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type show create table mysql user show create table mysql user view at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java agapple rds mysql show create table mysql db view
529,一些 中 timeline transaction barrier canal sink exception maven compile warning timeline transaction barrier java com alibaba otter canal sink exception canal sink exception fix maven wranning the expression pom version is deprecated please use project version instead fix maven wranning build plugins plugin version org apache maven plugins maven jar plugin is missing cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
528,测试 网络 时候 会 一直 阻塞 里 默认 需要 两 小时 可以 开启 以后 空闲 时 主动 发 当前 会 这个 事件 经 测试 通过 时间 单位 纳秒 调用 带有 时间 设为 确保 超过 间隔 之后 防止 误杀 use mysql master heartbeat to detect phycial tcp connection failure negative canal dump read socket channel pool so keepalive master heartbeat master canal heartbeat event canal drop set master heartbeat period direct log fetcher timeout read timeout master heartbeat period s heartbeat timeout tks
527,假死 端 运行 正常 但是 全部 线程 响应 日志 等级 开启 未 发现 异常 日志 日 志 日志 中 开启 另外 定时 线程 但是 卡 死的 时间 内 毫 响应 数据库 今天 下午 其他 特殊 操作 问 一下 有可能 什么 问题 没 数据 变更 数据 一直 变更 启动 时 正常 会 消费 掉 如果 小时 一直 没有 产生 产生 话 就 会 读到 这些 如果 没有 数据 变更 隔 段 时间 就 会 消费 测试 结果 为了 避免 种 情况 需要 使用 做为 心跳 还有 其他 解决 方法 吗 自己 打包 版本 是的 下载 源码 打包 使用 最新 代码 试试 对于 加了 机制 可以 响应 长 时间 位点 主动 断开 问题 instance server instance info server http xo fz com z glb clouddn com server png http xo fz com z glb clouddn com server png instance http xo fz com z glb clouddn com server png http xo fz com z glb clouddn com instance png instance canal server binlog client binlong binlog server binlog agapple instance binlog enable detecting insert retl xdual sql fefine alpha tcp so timeout binlog mysql server
526,is it possible that canal set with multiple mysql database source i will use canal to database sync daily every minuites snapshot but we use many mysql database servers i want set mltiple mysql servers as canal s input example canal instance master address mysql a canal instance master address mysql b not a slave of a how can i set many mysql servers as canal s instance you can use group instance xml in the canal properties set canal instance global spring xml classpath spring group instance xml then update the conf example instance properties like canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance master address canal instance master journal name mysql bin canal instance master position canal instance master timestamp and then update the conf spring group instance xml like beans bean id event parser com alibaba otter canal parse inbound group group event parser property name event parsers list ref bean event parser ref bean event parser list property bean bean id event parser com alibaba otter canal parse inbound mysql mysql event parser database info property name master info bean com alibaba otter canal parse support authentication info property name address value canal instance master address property name username value canal instance db username retl property name password value canal instance db password retl property name database name value canal instance database name retl bean property property name master position bean com alibaba otter canal protocol position entry position property name journal name value canal instance master journal name property name position value canal instance master position property name timestamp value canal instance master timestamp bean property bean bean id event parser com alibaba otter canal parse inbound mysql mysql event parser database info property name master info bean com alibaba otter canal parse support authentication info property name address value canal instance master address property name username value canal instance db username retl property name password value canal instance db password retl property name database name value canal instance database name retl bean property property name master position bean com alibaba otter canal protocol position entry position property name journal name value canal instance master journal name property name position value canal instance master position property name timestamp value canal instance master timestamp bean property bean beans that s exactly what i find now i will that thank your speedy answer
525,新增 字段 新增 字段 对 字段 值做 修改 消费者 得不 这个 字段 更新 消息 使用 最新版 版本 开启 能力 mysql tsdb
524,开启 开关 解析 全部 都 类型 现象 相同 开启 开关 客户端 抓到 语句 类型 并且 由于 项目 中 需要 针对 语句 做 不同 处理 因此 想 确认 语句 判断 条件 什么 中 判断 条件 种 状况 显然 问题 语句 判断 对 等 相关 操作 binlog rows query log events binlog query binlog rows query log events dml event type query row change get is ddl false ddl ddl wiki https camo githubusercontent com b bd ff ec ed bd d fd fa a f f c e e f d f c f f d e f f f d d d d e a ddl create drop alter table
523,merge pull request from alibaba master merge from master cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
522,修复 死锁 通过 启动 时候 第一 类型 那么 变为 触发 条件 仅仅 方法 中 判断 应该 放到 后面 否则 将 导致 死锁 感谢 高 质量 修复 顺便 问 一下 你们 源 端 大概 多少 因为 以前 种 设计 方式 存在 大量 线程 通知 机制 优 性能 设计 理想 情况 设计 应该 做 归并 队列 两 层 模式 性能 会 比较 遇到 这个 问题 一段时间 数据 没有 变更 数据 变更 会 读到 请问 这个 哪个 版本 里 解决 性能 的确 有点儿 问题 有些 子库 长 时间 产生 数据 我们 通过 心跳 强制 产生 解决 心跳 次 种 情况 日常 延迟 时间 左右 对于 高 并发 场景 还是 大 瓶颈 是的 后续 可以 设计 支持 多 库 聚合 性 能上 会好 很多 恩 这个 功能 还是 必要 这样 配 实例 就 大大 节省 运维 成本 后面 时间 一起 设计 一下 想 邀请 参加 代码 共建 可以 联系 邮箱 bug zk cursor event transaction end tx state ddl dcl clear is transaction end tx state value cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub bug lulu panpan group sink tps merge sort store ok agapple server handmail group sink sql binlog s s group xx parser ok lulu panpan canal jianghang gmail com
521,修改 未 生成 销毁 时 造成 状态 实际 不一致 问题 如果 端 未 启动 已经 情况 此时 端 进行 订阅 中 会 尝试 启动 这个 尝试 启动 如果 已经 启动 忽略 然后 中 第一 行 会 因为 找 时 抛出 找 异常 第一 行 就 状态 置 正常 启动 实例 时 认为 已经 启动 就 会 忽略 如果 启动 失败 应该 回滚 所有 改变 状态 因为 会 线程 所以 加了 同步 感谢 容错 考虑 instance config server running monitor running instance server stop client session handler instance server running monitor embedded server is start client identity get destination server running monitor running monitor server running monitors get running monitor client identity get destination running monitor is start running monitor start canal server with embedded start string destination canal instance canal instance canal instances get destination instance config generate instance destination config null canal server exception can t find destination server running monitor start true start stop scan netty work start stop
520,时候 能 保证 服务 正常 平移 时候 如果 直接 方式 关闭 能 很好 平移 服务 会 出现 当掉 情况 如果 命令 正常 会 出现 这个 问题 需要 超时 才 能 做 迁移 canal ha canal server ha kill ha stop server kill zookeeper session timeout ha
519,对 库表 正则 过滤 为何 库 名 表 名 全匹配 方式 获取 日志 数据 解析 关注 表为 可以 通过 库 名称 方式 精确 具体 库 使用 种 方式 无法 解析 对应 表 日志 文档 写 有出入 是否 考虑 下面 这个 点 客户端 订阅 重复 订阅 时 会 更新 对应 信息 说明 如果 本 次 订阅 中 信息 空 直接 使用 服务 端 配置 信息 如果 本 次 订阅 中 信息 不为空 目前 会 直接 替换 服务 端 配置 信息 本 次 提交 为准 后续 可以 考虑 如果 本 次 提交 不为空 执行 过滤 时 对 本 次 交集 处理 达到 取 份 数据 多 客户端 消费 不同 表 参数 抛出 呢 参考 canal perl image https user images githubusercontent com cec a e a e c bf ba b png mysql mysql test mysql test canal subscribe string filter com alibaba otter canal protocol exception canal client exception filter a filter canal server filter b filter canal server filter todo filter canal server filter filter binlog client identity com alibaba otter canal protocol exception canal client exception mysql test mysql test faq https github com alibaba canal wiki faq
518,初始 启动 日志 要求 提 类似 问题 代码 已经 修复 issues error c a o canal parse inbound mysql tsdb database table meta pls submit github issue show create table ddl create table repo ver refs node id varbinary not null refs data longblob not null unique key repo ver refs idx node id engine inno db charset latin compare failed db table meta schema urule table repo ver refs fileds field meta column name node id column type varbinary value null nullable false key true field meta column name refs data column type longblob value null nullable false key false mem table meta schema urule table repo ver refs fileds field meta column name node id column type varbinary value null nullable false key false field meta column name refs data column type longblob value null nullable false key false
517,获取 类型 全部 但是 获取 语句 都 或者 或者 如题 监控 数据库 时 拿到 所有 类型 都 但是 拿到 语句 都 或者 或者 怀疑 没有 获取 到值 默认 值 代码 中 打印 日志 语句 次 操作 类型 是否 控制台 打印 出来 日志 次 操作 类型 是否 非 模式 row chage get event type query row chage get sql sql insert update delete mysql row chage get event type query row chage get sql insert update delete row chage get event type query logger info row chage get event type to string logger info sql row chage get sql logger info ddl row chage get is ddl info thread c p mycode canal cluster canal client handle data query info thread c p mycode canal cluster canal client handle data sql delete from qrtz creditcard fired triggers where entry id cfc sit jd web haomoney local info thread c p mycode canal cluster canal client handle data ddl false binlog row
516,如何 保证 连接 不断 想 问问 如果 主库 连接 死亡 或者 网络 中断 有重 连 机制 吗 有的 看下 例子 canal canal example client
515,版本 问题 使用 还是 版本 如果 直接 使用 依赖 会 出现 奇怪 异常 需要 项目 中 掉 相关 依赖 这么 做 总 觉得 会 使用 过程 中 存在 一些 风险 建议 能否 跟上 大 版本 升级 例 如果 使用 功能 很少 的话 能 能 将 依赖 设置 另外 使用 过程 中 同样 版本 冲突 问题 同样 建议 变为 依赖 就 依赖 注入 正解 canal client spring canal client release spring spring exclude spring spring spring spring canal spring spring optional reference logback optional canal spring ls
514,对 数据 作出 更改 时 端 解析 事务 开始 结束 对 数据 作出 更改 时 端 解析 事务 开始 结束 方法 返回 两 元素 对应 事务 开始 对应 事务 结束 没有 行 更改 对应 数据 过滤 client client message get entries list entry
513,支持 前缀 匹配 吗 比如 四 位 数字 八 位 数字 能 匹配 种 吗 正则 需要 怎么 写 呢 可以 写 canal filter schema actionlog table actionlog filter actionlog d actionlog d
512,服务 端 启动 一直 失败 求助 无论 开启 还是 关闭 都 出现 如下 错误 配置 原理 模拟 自己 所以 这里 一定 需要 做为 相关 权限 没有 设置 用户 名 密码 吗 你好 确认 权限 问题 如果 使用 的话 可以 尝试 使用 之前 版本 这个 启动 成功 遇到 同样 问题 注释 就 可以 遇到 同样 问题 请 问 全 注释 吗 注释 了然 后报 异常 问题 反馈 如果 对 比较 了解 可以 尝试 优化 解决 作为 历史 版本 存储 时 会 基于 默认 配置 解读 一下 就是 第一 次 时 会 创建 设置 访问 密码 如果 第二 次 重新 打开 时会 校验 是否 多 进程 同时 使用 会 出现 会 校验 本 次 访问 密码 是否 第一 次 创建 时 相同 如果 真 遇到 一些 莫名其妙 问题 万能 解决 办法 删除 对应 会 重新 初始化 本地 文件 canal instance tsdb enable error com alibaba druid pool druid data source create connection sql exception url jdbc h conf example h cache size mode mysql error code state org h jdbc jdbc sql exception wrong user name or password instance mysql server id canal instance mysql slave id position info canal instance master address canal instance master journal name mysql bin canal instance master position canal instance master timestamp table meta tsdb info canal instance tsdb enable false canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb url jdbc mysql test canal instance tsdb db username canal canal instance tsdb db password canal canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username canal canal instance db password canal canal instance database name canal instance connection charset utf table regex canal instance filter regex test table black regex canal instance filter black regex b canal mysql slave mysql slave create user canal identified by canal grant select replication slave replication client on to canal grant all privileges on to canal flush privileges https github com alibaba canal wiki quick start mysql canal he chuan xupt hsh tsdb william gai tsdb hsh tsdb java sql sql exception connect error url driver org h driver h h h table ddl h jdbc canal instance tsdb dir canal file data dir conf canal instance destination canal instance tsdb url jdbc h canal instance tsdb dir h cache size mode mysql canal instance tsdb db username canal canal instance tsdb db password canal conf instance instance mv db canal canal xx mv db java lang illegal state exception the file is locked conf xx mv db h
511,能 结合 使用 吗 能 结合 使用 吗 直接 数据 写入 还是 需要 自己 写 消费者 目前 自己 写 线程 建议 修改 支持 其他 数据源 管理 kafka kafka kafka maxwell debezium otter loader otter canal
510,服务 启动 连接 报 服务 启动 用户 权限 分配 启动 会报 分钟 连 错误 但是 过 分钟 自己 连上 这个 问题 已经 困扰 天 这个 问题 知道 怎么 回 事 看来 官方 说明 这个 版本 应该 没有 问题 知道 怎么 出现 这个 问题 好像 授权 问题 但是 权限 按照 说明 处理 过 郁闷 中 意思 说 源库 超过 秒 都 没有 新的 数据 会 自动 重连 canal mysql java io io exception socket read timeout occured mysql canal mysql java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java canal parse driver snapshot jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver snapshot jar na common frames omitted destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java more destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql log bin position server id timestamp mysql mysql destination yfmalldb address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield grant select replication slave replication client on to canal identified with mysql password as e c a c a d bd dac f b d com alibaba druid sql parser parser exception syntax error error in fied with mysql password a expect by actual with pos line column token with at com alibaba druid sql parser sql parser print error sql parser java druid preview jar preview at com alibaba druid sql parser sql parser accept sql parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse grant sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql sql utils parse statements sql utils java druid preview jar preview at com alibaba druid sql repository schema repository console schema repository java druid preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination yfmalldb address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield grant select replication slave replication client on to canal localhost identified with mysql password as e c a c a d bd dac f b d com alibaba druid sql parser parser exception syntax error error in fied with mysql password a expect by actual with pos line column token with at com alibaba druid sql parser sql parser print error sql parser java druid preview jar preview at com alibaba druid sql parser sql parser accept sql parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse grant sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql sql utils parse statements sql utils java druid preview jar preview at com alibaba druid sql repository schema repository console schema repository java druid preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na caused by java io io exception socket read timeout occured at com alibaba otter canal parse driver mysql socket socket channel read socket channel java
509,拉取 端 报错 环境 版本 管理 版本 很慢 换 老 版本 就 没 问题 降到 就 没 问题 就 会 报错 建议 升级 版本 解决 超时 时间 过短 以及 链接 切回 模式 canal client binlog server java nio channels closed by interrupt exception null info thread com gome canalmq service monitor service lmis speed record sec can al speed record sec info thread com gome canalmq service monitor service lmis speed record sec can al speed record sec info thread com gome canalmq service monitor service lmis speed record sec can al speed record sec info thread com gome canalmq service monitor service lmis speed record sec can al speed record sec info thread com gome canalmq service monitor service lmis speed record sec cana l speed record sec info thread com gome canalmq service monitor service lmis speed record sec cana l speed record sec info thread com gome canalmq service monitor service lmis speed record sec canal speed record sec info thread com gome canalmq service monitor service lmis speed record sec canal speed record sec info thread com gome canalmq service monitor service lmis speed record sec canal speed record sec info thread com gome canalmq service monitor service lmis speed record sec canal speed record sec info thread com gome canalmq service monitor service lmis speed record sec canal speed record sec destination lmis address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java nio channels closed by interrupt exception null at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination lmis address event parser error com alibaba otter canal common alarm log alarm handler destination lmis java nio channels closed by interrupt exception at com alibaba otter canal parse driver mysql socket socket channel read socket channel java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination lmis address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp canal zk centos mysql canal destination databus address event parser error c a otter canal parse inbound mysql mysql event parser parse events has an error com alibaba otter canal parse exception canal parse exception dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java nio channels closed by interrupt exception null at com alibaba otter canal parse driver mysql socket socket channel read socket channel java canal parse driver jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na common frames omitted mysql bio
508,canal client
507,对比 一致 版本 来着 看上去 当做 发 一下 结果 本地 重现 desc table name show create table table name create table im group user groupid not null userid not null mana null note varchar collate gbk bin null unique key im group user index groupid userid engine inno db charset gbk collate gbk bin compare failed db table meta schema imserver table im group user fileds field meta column name groupid column type value null nullable false key true field meta column name userid column type value null nullable false key true field meta column name mana column type value null nullable true key false field meta column name note column type varchar value null nullable true key false mem table meta schema imserver table im group user fileds field meta column name groupid column type value null nullable false key false field meta column name userid column type value null nullable false key false field meta column name mana column type value null nullable true key false field meta column name note column type varchar value null nullable true key false mysql unique key im group user index groupid userid pk desc imserver im group user show create table imserver im group user
506,运行 工程 包 丢失 使用 运行 工程 时 提示 俩 包 丢失 mvn canal example jar mvn exec java dexec main com alibaba otter canal example simple canal client test canal example jar warning the pom com alibaba otter canal client jar snapshot is missing no dependency information available warning the pom com alibaba otter canal protocol jar snapshot is missing no dependency information available mvn clean install eclipse eclipse dmaven test skip
505,本机 运行 正常 服务器 报 数据库 连接 失败 请问 本机 源码 执行 类 方式 运行 正常 放 服务器 运行 就 会 报 以下 错误 配置 文件 完全 一样 然后 服务器 方式 运行 连接 正常 请问 怎么 修复 直接 源码 放上 跑 报的 错 日志 发现 启动 就 会 这个 问题 自己 写 脚本 启动 就 正常 启动 继续 找 原因 找到 启动 参数 里 去掉 就 奇怪 为啥 这个 参数 会 影响 canal launcher group instance xml centos instance properties destination group mysql address event parser error c a otter canal parse inbound mysql mysql event parser parse events has an error com alibaba otter canal parse exception canal parse exception dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java lang interrupted exception null at java util concurrent locks queued synchronizer acquire shared interruptibly queued synchronizer java na at com alibaba otter canal common utils mutex sync inner get mutex java canal common jar na at com alibaba otter canal common utils mutex get mutex java canal common jar na at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na common frames omitted debug destination group mysql address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination group mysql address event parser error c alibaba otter canal parse driver mysql mysql connector java lang interrupted exception bootstrap pending registration promise d c incomplete at io netty util concurrent promise await promise java at io netty channel channel promise await channel promise java at io netty channel channel promise await channel promise java at io netty util concurrent promise sync promise java at io netty channel channel promise sync channel promise java at io netty channel channel promise sync channel promise java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination group mysql address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination group mysql address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination group mysql address event parser error c a otter canal parse inbound mysql mysql event parser parse events has an error com alibaba otter canal parse exception canal parse exception dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure caused by java io io exception connect failure at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java na at com alibaba otter canal parse inbound event parser run event parser java na at java lang thread run thread java na caused by java lang interrupted exception bootstrap pending registration promise d c incomplete at io netty util concurrent promise await promise java netty all jar at io netty channel channel promise await channel promise java netty all jar at io netty channel channel promise await channel promise java netty all jar at io netty util concurrent promise sync promise java netty all jar at io netty channel channel promise sync channel promise java netty all jar at io netty channel channel promise sync channel promise java netty all jar at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java na at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java na common frames omitted canal instance scan info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to canal instance scan info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination group mysql address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination group mysql address event parser error c alibaba otter canal parse driver mysql mysql connector java lang interrupted exception at java util concurrent locks queued synchronizer acquire shared interruptibly queued synchronizer java at java util concurrent locks queued synchronizer acquire shared interruptibly queued synchronizer java at java util concurrent count down latch await count down latch java at com alibaba otter canal parse driver mysql socket socket channel pool open socket channel pool java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java startup sh dapp name otter canal
504,配置 相同 错误 新 版本 已经 修复 error find as per timestamp in specific log file has an error qyd tx sr qc gb g https user images githubusercontent com f d e e f c bc png canal instance master journal name canal instance master position kqa al uno vd u h https user images githubusercontent com a deabb e d ac efdce png
503,切换 好了 compile failed error failed to execute goal on project canal parse could not resolve dependencies project com alibaba otter canal parse jar snapshot failed to collect dependencies at com alibaba druid jar preview failed to read artifact descriptor com alibaba druid jar preview could not transfer artifact com alibaba druid pom preview from to alibaba http code alibabatech com mvn releases connect to code alibabatech com code alibabatech com failed connection refused connection refused help druid
502,merge pull request from alibaba master cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
501,模式 问题 分库 情况 总共 个库 配置 客户端 消费 这些 数据 消费 完 之后 服务 端 写 这个 节点 格式化 如下 请问 总共 配置 库 分别 都 消费 这个 怎么 存储 的呢 目前 中 节点 貌似 存储 存储 时间戳 group cursor group instance xml cursor otter canal destinations example cursor type com alibaba otter canal protocol position log position identity slave id source address address port postion included false journal name mysql bin position timestamp zk zk cursor
500,服务器 断电 重启 数据库 服务 一直 报 重 启 一直 报 这个 错误 应该 数据 不同 步 造成 种 情况 怎么 解决 中 或者 中 大于 实际 时候 会报 这个 错 正解 canal client requested master to start replication from position file size canal server client requested master to start replication from position file size instance xml canal instance master position meta dat position binlog size ls
499,运行 段 时间 线程 挂起 报错 如下 请问 如何 解决 升级 一下 新 版本 server error c a o canal parse inbound mysql tsdb database table meta scheudle apply snapshot to db faield com alibaba otter canal parse exception canal parse exception java io io exception should execute connector connect first caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta compare table meta db and memory database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply snapshot to db database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta access database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta run database table meta java canal parse jar na at java util concurrent executors runnable adapter call executors java na at java util concurrent future task run and reset future task java na at java util concurrent scheduled thread pool executor scheduled future task access scheduled thread pool executor java na at java util concurrent scheduled thread pool executor scheduled future task run scheduled thread pool executor java na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na
498,知道 什么 错误码 能 确认 客户端 写的 时候 存在 这个 问题 解决 吗 客户端 并没有 重复 进行 但是 确实 会报 这个 错误 这个 问题 解决 吗 这个 觉得 客户端 连接 超时 导致 延长 客户端 连接 时间 中 请问 这个 问题 解决 吗 服务 端 做 批次 回滚 能 能 解决 方案 或者 这个 什么 时候 能 更新 啊 谢谢 参考 做 一下 重新 订阅 一下 关注 一下 这个 error c a otter canal server netty handler session handler something goes wrong with channel i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x de e exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils ack netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold andfire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java ack batch id batchsize fatali bud ack simpleconnector ack error client id batch id is not exist please check agapple bug client demo rollback https github com alibaba canal issues
497,通信 模块 优化 例 参数 输出 以下 重载 如下 注释 调用 比较 频繁 即使 日志 级别 较 高 会 创建 数组 开销 会 带来 一些 性能 影响 所以 对于 参数 重载 函数 参数 精益求精 log debug format debug string format object arg debug string format object arg object arg debug string format object arguments form avoids superfluous string concatenation when the logger is disabled the debug level however variant incurs the hidden and relatively small cost of creating an object before invoking the method even logger is disabled debug the variants taking one and two arguments exist solely in order to avoid hidden cost get ack logger is info enabled tks
496,merge pull request from alibaba master merge from master cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
495,按 例子 写 订阅 数据 无法 取到 数据 按 例子 写 订阅 数据 启动 控制台 会 不断 输出 这样 日志 执行 操作 无法 输出 相关 日志 数据 先 好好 看下 应该 地方 配置 不正确 导致 遇到 一样 问题 版本 版本 试 过 种 方法 始终 无法 获取 变动 请 问 问题 解决 吗 可以 说 一下 解决 方法 吗 换成 样 配置 问题 解决 为了 进一步 确定 问题 换成 依旧 无法 获取 任何 具体 原因 知道 建议 要 太 新 版本 想 应该 遇到 这个 问题 刚好 这里 找到 版本 使用 种 方法 扔 无法 获取 更新 按 楼上 说 换成 版本 解决 问题 谢了 小伙伴们 清楚 高 版本 为什么 无法 获取 变动 问题 解决 吗 是否 文件 名称 格式 有关 版本 关系 虫虫 同学 邮箱 签名 网易 邮箱 大师 定制 年 月 日 写道 问题 解决 吗 是否 文件 名称 格式 有关 建议 换成 example canal client binlog example canal client binlog idea debug org apache zookeeper client cnxn got ping response sessionid mysql ddl dml binglog wiki olin mysql mysql ver distrib linux x using edit line wrapper binlog db change binlog binlog canal aiyabeetle com fanpeng binlog you are receiving because you commented reply to email directly view it on git hub or mute the thread
494,启动 正常 更新 数据 报错 下载 版本 根据 网站 说明 修改 配置 文件 创建 数据库 启动 程序 数据 库里 表 插入 条 数据 报错 如下 错误 信息 里面 显示 其他 库里面 表 什么 更新 库 会报 其他 库 错误 一模一样 错 怎么 解决 这个 问题 引起 原因 创建 表 语句 造成 比如 枚举 类型 字段 尽量 避免 还有 系统 数据库 中 有些 字段 枚举 会 报错 只要 监听 这些 库 变化 就 可以 解决 可以 实例 下面 匹配 所有 库 修 改为 匹配 特定 库 依赖 版本 没 更新 或者 将 特性 关闭 可以 升级 可以 解决 类型 问题 如何 关闭 特性 遇到 同样 问题 这个 文件 里 下面 一行 注释 掉 重 启 就 升级 版本 已经 接近 v alpha test test test test root localhost canal tail f logs canal canal log main info com alibaba otter canal deployer canal launcher set uncaught exception handler main info com alibaba otter canal deployer canal launcher load canal configurations main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server main warn o s beans generic type aware property descriptor invalid java bean property connection charset being accessed ambiguous write methods found next to actually used com alibaba otter canal parse inbound mysql mysql event parser set connection charset java lang string com alibaba otter canal parse inbound mysql mysql event parser set connection charset java nio charset charset main error com alibaba druid pool druid data source test idle is true validation query not set main info com alibaba otter canal deployer canal launcher the canal server is running now destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table columns priv host collate utf bin not null db collate utf bin not null user collate utf bin not null table name collate utf bin not null column name collate utf bin not null timestamp timestamp not null current timestamp on update current timestamp column priv set select insert update references character set utf not null primary key host db user table name column name engine my isam charset utf collate utf bin comment column privileges com alibaba druid sql parser parser exception syntax error error in es character set utf not null de expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid preview jar preview at com alibaba druid sql parser sql parser accept sql parser java druid preview jar preview at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid preview jar preview at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql sql utils parse statements sql utils java druid preview jar preview at com alibaba druid sql repository schema repository console schema repository java druid preview jar preview at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield create table db host collate utf bin not null db collate utf bin not null user collate utf bin not null select priv n y character set utf not null n insert priv n y character set utf not null n update priv n y character set utf not null n delete priv n y character set utf not null n create priv n y character set utf not null n drop priv n y character set utf not null n grant priv n y character set utf not null n references priv n y character set utf not null n index priv n y character set utf not null n alter priv n y character set utf not null n create tmp table priv n y character set utf not null n lock tables priv n y character set utf not null n create view priv n y character set utf not null n show view priv n y character set utf not null n create routine priv n y character set utf not null n alter routine priv n y character set utf not null n execute priv n y character set utf not null n event priv n y character set utf not null n trigger priv n y character set utf not null n primary key host db user key user user engine my isam charset utf collate utf bin comment database privileges com alibaba druid sql parser parser exception syntax error error in y character set utf not null de expect rparen actual identifier pos line column token identifier character at com alibaba druid sql parser sql parser print error sql parser java druid preview jar preview at com alibaba druid sql parser sql parser accept sql parser java druid preview jar preview at com alibaba druid sql dialect mysql parser my sql create table parser parse create table my sql create table parser java druid preview jar preview at com alibaba druid sql dialect mysql parser my sql statement parser parse create my sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid preview jar preview at com alibaba druid sql sql utils parse statements sql utils java druid preview jar preview kaikewang sql table regex canal instance filter regex test druid tsdb druid set wingerx tsdb conf canal properties canal instance tsdb spring xml classpath spring tsdb h tsdb xml druid
493,版本 设置 超时 报错 这个 中 想 解决 读取 卡主 问题 解决 方案 说 中 使用 新 机制 参考 但是 发现 设置 超时 会 报错 设置 超时 反而 会 正确 这个 超时 超时 两 回 事 谢谢 百忙之中 回复 啊 第一 问题 里面 建议 设置 超时 时间 但是 只要 设置 超时 时间 就 报 但是 版本 会 这个 错 就 想 问 一下 这个 行为 是否 预期 结果 呢 改动 过 端 读取 超时 机制 默认 秒 不过 这个 超时 发送 频率 太 高 差 网络 条件 bug image https user images githubusercontent com b baa fadf e a f png image https user images githubusercontent com c a f fae e f ec c f png agapple socket timout exception canal server mysql
492,是否 要 设置 超时 时间 说真的 超时 时间 搞得 头痛 本来 设置 超时 时间 但是 好像 弱网 环境 会 卡 主 参考 后面 设置 超时 以后 发现 说 规定 时间 内 等待 填满 并且 测试 时候 确实 看到 实在 等待 超时 时间 想 避免 卡主 请问 是否 一定 要 设置 超时 时间 版本 设置 超时 报错 建议 设置 主要 后端 如果 一直 没有 数据 变更 会 一直 卡 主 嗯 大概 理解 所以 能 设置 很大 对 填 不满 就 一直 卡 主 对吧 get without ack batch size image https user images githubusercontent com ca ca fad e bc c e f png image https user images githubusercontent com b a fad e ff adc a f c png image https user images githubusercontent com c dc c fadb e d b ecc png timeout agapple batch size
491,应该 大 事务 时 会 出现 下面 异常 会 解析 过去 看到 关于 貌似 为了 解决 这个 问题 加了 组包 逻辑 但是 好像 没有 什么 效果 大家 遇到 这个 问题 可以 先 看看 参数 设置 多少 定义 如下 默认 默认 会 将 总和 合到 中 除非 单 已经 超过 这个 限制 并且 这个 时候 只能改 补充 点 看上去 这里 设置 需要 作者 确认 暂时 未 做 大小 调整 怎么 解决 啊 加到 还是 会 错误 建议 端 修改 全局 本身 支持 多 重新 组包 log event entry exceeded max allowed packet canal destination xxxx address xxxxxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg log event entry exceeded max allowed packet increase max allowed packet on master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na max allowed packet issues https github com alibaba canal issues binlog row event max size https dev mysql com doc refman en replication options binary log html option mysqld binlog row event max size binlog row event max size k max allowed packet m binlog binlog row event max size rows event row size max allowed packet max allowed packet com alibaba otter canal parse inbound mysql mysql connection update settings max allowed packet update settings max packet max allowed packet mb mysql max allowed packet canal packet
490,获取 时候 链接 失效 退出 获取 信息 时候 会报 链接 失效 然后 就 死掉 一般 运行 数 小时 发生 版本 最新 主干 修复 过 可以 尝试 一下 最新 包 table destination binlog dump destination test address event parser error com alibaba otter canal common alarm log alarm handler destination test com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java more table binlog dump mysql server version canal
489,无法 获取 任何 数据 使用 版本 版本 版本 启动 如下 日志 就 不再 其他 日志 并且 节点 中 没有 节点 打开 日志 一直 输出 日志 如下 另外 开启 部署 机器 采用 配置 账号 连接 数据库 实例 执行 得到 因此 判断 账号 配置 没有 问题 应该 能 获取 得到 之前 权限 设置 现在 改为 然后 重新 启动 这时 出现 如下 日志 貌似 获取 但是 最后 抓包 包进 看来 处理 过程 中 问题 如果 解析 失败 应该 会 抛 异常 奇怪 代码 发现 两 属性 相乘 能 大于 大 不然 会 溢出 导致 计算 当前 大小 时候 出 问题 无法 这块 建议 文档 说明 并且 能够 抛出 异常 就 更 这个 约束 目前 能 超过 最大值 canal canal mysql canal warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status zookeeper cursor debug get without ack successfully client id batch size but result is null mysql gtid mode on canal show master status file position binlog db binlog ignore db executed gtid set mysql bin f af c cf e ed ea c fb b cf e c e f c binlog position grant select replication slave replication client on to canal rant all privileges on to canal canal destination instance address event parser info c a otter canal parse inbound mysql mysql connection com binlog dump with position binlog dump command packet binlog position slave server id binlog file name mysql bin command destination instance address event parser info com taobao tddl dbsync binlog log event common header len number of event types i o server worker info c a otter canal server embedded canal server with embedded subscribe successfully client identity destination instance client id filter with first position null i o server worker debug c a otter canal server embedded canal server with embedded get without ack successfully client id batch size but result is null position null filter with first position null tcpdump binlog canal binlog debug canal instance memory buffer size canal instance memory buffer memunit buffer put event
488,网络 断线 无法 再次 链接 我们 发现 问题 就是 我们 服务器 网络 时候 会 导致 客户端 断开 但是 我们 发现 一旦 我们 下线 以后 我们 客户端 无法 重新 链接 过来 知道 是否 重 连 机制 没有 工作 是否 就 会 重 连 对么 日志 如下 重复 hi closed channel exception i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x f e exception java io io exception connection timed out at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x f e exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at com alibaba otter canal server netty handler session handler exception caught session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler codec replay replaying decoder exception caught replaying decoder java at org jboss netty channel channels fire exception caught channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java bug
487,dump connection is disconnected socket channel cache instance when produced data dump data is faster than consume data canal handled data it will caused overflow issue should be flow control tks
486,表 过滤 问题 canal instance filter regex
485,重 启后 可以 正常 运行 以下 异常 信息 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 上午 参考 canal parse exception parse row data failed v canal server pool thread info com alibaba otter canal meta file mixed meta manager client id cursor mysql bin address xxxxxx pool thread info com alibaba otter canal meta file mixed meta manager client id cursor mysql bin address xxxxxx pool thread info com alibaba otter canal meta file mixed meta manager client id cursor mysql bin address xxxxxx pool thread info com alibaba otter canal meta file mixed meta manager client id cursor mysql bin address xxxxxx pool thread info com alibaba otter canal meta file mixed meta manager client id cursor mysql bin address xxxxxx destination xxxxxxx address xxxxxxxxxxx event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position server id timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted destination weiming test address xxxxxx event parser error c a otter canal parse inbound mysql mysql event parser dump address xxxxxx has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted destination weiming test address xxxxxx event parser error com alibaba otter canal common alarm log alarm handler destination weiming test com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java more
484,希望 后续 对 支持 计划 环境 调试 特别 方便 本来 打算 自己 封装 镜像 发现 需要 自己 写 说 主要 日志 还有 配置 处理 需要 应用层 做 一些 工作 果断 放弃 希望 官方 后续 对 进行 支持 我们 自己 做 镜像 需要 的话 可以 交流 一下 微 信 方便 仓库 链接 发 一下 吗 封装 镜像 改造 过 官方 代码 吗 这边 期望 镜像 功能 如下 两 点 主要 特性 日志 可以 统一 输出 有效 通过 控制 收集 可以 通过 环境 变量 控制 核心 配置 修改 文件 变成 前台 应用 就 脚本 其中 一方面 应用 本身 日志 配置 要 做 相应 适应性 处理 否则 依然 管理 麻烦 可以 提交 啊 这个 会 方便 很多 已经 支持 参考 docker docker entrypoint sh docker gary freeme dockerfile btw docker logging docker environment startup sh pczhaoyun freeme dockerfile pr docker https github com alibaba canal wiki docker quick start
483,建议 新增 消息 现在 连上 时 连接 成功 就 直接 所以 敲 当前 条 连接 虽然 影响 数据 同步 对于 强迫症 来说 不舒服 解决 方案 之前 发 条 消息 上报 自己 收回 条 消息 就 可以 消息 内容 代码 如下 然后 中 增加 如下 函数 中 调用 就 其中 变量 通过 改 配置 文件 中 挺好 优化 方便 提交 代码 最新 没有 带出 这个 特性 吗 下载 尝试 发现 仍然 没有 发现 信息 测试 版本 应该 亲测 最新版 中 没有 噢 只有 进入 阶段 才 会 针对 位点 定位 阶段 没有 report slave mysql request dump mysql show slave hosts canal request dump report slave ok register slave command packet java txt https github com alibaba canal files register slave command packet java txt mysql connection java dump send register slave io exception register slave command packet cmd register slave command packet cmd set report host canal host cmd set report port canal port cmd set report user connector get username cmd set serverid slave id cmd body cmd to bytes logger info register slave cmd header packet header header packet header set packet body length cmd body length header set packet sequence number x packet manager write connector get channel buffer buffer wrap header to bytes buffer wrap cmd body buffer dest buffer allocate connector get channel read dest spring xml pr release show slave hosts canal server dump show slave hosts
482,最近 凌晨 报错 这个 导致 挂起 遇到 过 这个 问题 遇到 导致 监测 不到 消息 修复 以下 同样 问题 影响 使用 吗 first parse row data failed should execute connector connect channel mysql canal destination sms log address event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position server id timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted destination sms log address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java canal parse jar na at com google common cache local cache loading value reference load future local cache java guava jar na at com google common cache local cache segment load sync local cache java guava jar na at com google common cache local cache segment locked get or load local cache java guava jar na at com google common cache local cache segment get local cache java guava jar na at com google common cache local cache get local cache java guava jar na at com google common cache local cache get or load local cache java guava jar na at com google common cache local cache local loading cache get local cache java guava jar na at com google common cache local cache local loading cache get unchecked local cache java guava jar na common frames omitted destination sms log address event parser warn c a o s a i setl zookeeper termin warning termin process nid canal sms log com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java more com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source agapple
481,读取 字段 值 可以 吗 现在 读取 字段 值 如果 读取 出来 就 字符 段 空 字段 可以 读 出来 吗 方法 判断 canal integer null integer null null is null
480,启动 报错 启动 之后 报错 账号 权限 如下 执行 一下 对应 已经 解决 谢谢 哈 怎么 解决 呀 求 分享 可以 分享 怎么 解决 问题 吗 谢谢 最后 这个 问题 解决 吗 已经 权限 为啥 要 执行 遍 才 行 库 超级 账号 一定 权限 canal com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show command denied to user shencesys ip table slow log sql state sql state marker destination example address ip ip event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address ip ip event parser error c a otter canal parse inbound mysql mysql event parser dump address ip ip has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show command denied to user shencesys ip table slow log sql state sql state marker with command show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type caused by java io io exception error packet error number field count message show command denied to user shencesys ip table slow log sql state sql state marker with command show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address ip ip event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message show command denied to user shencesys ip table slow log sql state sql state marker with command show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type caused by java io io exception error packet error number field count message show command denied to user shencesys ip table slow log sql state sql state marker with command show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java mysql show grants shencesys grants shencesys grant process replication slave replication client on to shencesys identified by password grant select lock tables show view on xbdchainfin to shencesys grant select on performance schema to shencesys grant select on mysql func to shencesys grant select on mysql help relation to shencesys grant select on mysql time zone leap second to shencesys grant select on mysql time zone transition to shencesys grant select on mysql help keyword to shencesys grant select on mysql slow log to shencesys grant select on mysql event to shencesys grant select on mysql proc to shencesys grant select on mysql general log to shencesys grant select on mysql help category to shencesys grant select on mysql help topic to shencesys grant select on mysql time zone to shencesys grant select on mysql time zone name to shencesys grant select on mysql time zone transition type to shencesys show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql proc show create table mysql slow log show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type sql jinxiaoxin jinxiaoxin millinchen agapple aliyun rds mysql
479,同步 主库 时 报错 主库 条 数据 业务 表 就 报错 报错 内容 涉及 很多 内部 表 重 启 重置 均 无效 只要 主库 等 都 报 这个 错 没 权限 遇到 这个 问题 帐号 权限 有的 canal server com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message table mysql innodb index stats doesn t exist sql state s sql state marker insert insert mysql canan server mysql position insert update destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception error packet error number field count message table mysql innodb index stats doesn t exist sql state s sql state marker with command show create table mysql columns priv show create table mysql db show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql innodb index stats show create table mysql innodb table stats show create table mysql ndb binlog index show create table mysql plugin show create table mysql proc show create table mysql procs priv show create table mysql proxies priv show create table mysql servers show create table mysql slave master info show create table mysql slave relay log info show create table mysql slave worker info show create table mysql slow log show create table mysql tables priv show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type show create table mysql user caused by java io io exception error packet error number field count message table mysql innodb index stats doesn t exist sql state s sql state marker with command show create table mysql columns priv show create table mysql db show create table mysql event show create table mysql func show create table mysql general log show create table mysql help category show create table mysql help keyword show create table mysql help relation show create table mysql help topic show create table mysql innodb index stats show create table mysql innodb table stats show create table mysql ndb binlog index show create table mysql plugin show create table mysql proc show create table mysql procs priv show create table mysql proxies priv show create table mysql servers show create table mysql slave master info show create table mysql slave relay log info show create table mysql slave worker info show create table mysql slow log show create table mysql tables priv show create table mysql time zone show create table mysql time zone leap second show create table mysql time zone name show create table mysql time zone transition show create table mysql time zone transition type show create table mysql user at com alibaba otter canal parse driver mysql mysql query executor query multi mysql query executor java canal parse driver snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection query multi mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta dump table meta database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na
478,读取 数据报 读取 数据报 问题 非 canal index out of bounds exception canal index out of bounds exception pipeline id task name process select warn c a o s a i setl zookeeper termin warning termin process nid setl com alibaba otter node etl select exceptions select exception java lang index out of bounds exception index at com alibaba otter node etl select selector message parser parse message parser java at com alibaba otter node etl select selector canal canal embed selector selector canal embed selector java at com alibaba otter node etl select select task process select select task java at com alibaba otter node etl select select task access select task java at com alibaba otter node etl select select task run select task java at java util concurrent executors runnable adapter call executors java at java util concurrent future task run future task java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java caused by java lang index out of bounds exception index at java util collections empty list get collections java at com alibaba otter canal protocol canal entry row change get row datas canal entry java at com alibaba otter node etl select selector message parser parse message parser java more otter canal
477,集成 出现 问题 这个 问题 没关系 使用 问题 可以 加 微 信 帮你 一下 springboot order value component simple canal client server command line runner exception in thread restarted main java lang reflect invocation target exception at sun reflect method accessor impl invoke method at sun reflect method accessor impl invoke method accessor impl java at sun reflect delegating method accessor impl invoke delegating method accessor impl java at java lang reflect method invoke method java at org springframework boot devtools restart restart launcher run restart launcher java caused by java lang cast exception org springframework boot context event application started event cannot be cast to org springframework boot context event application environment prepared event at org springframework boot context config ansi output application listener on application event ansi output application listener java at org springframework context event simple application event multicaster run simple application event multicaster java at org springframework core task sync task executor execute sync task executor java at org springframework context event simple application event multicaster multicast event simple application event multicaster java at org springframework boot context event event publishing run listener starting event publishing run listener java at org springframework boot spring application run listeners starting spring application run listeners java at org springframework boot spring application run spring application java at org springframework boot spring application run spring application java at org springframework boot spring application run spring application java at com jorden li application start main application start java more canal spring boot gary
476,获取 端 能 获取 这个 暂时 没有 只有 对应 canal client db serverip port canal client db server ip port server id
475,重启 无限 循环 方法 内 场 景 时候 直接 重启 现象 可以 看到 一直 这个 地方 循环 出 控制台 日志 无法 重新 进行 半小时 控制台 出现 如下 日志 仍然 无法 进入 重新 状态 已经 提了 my sql canal socket channel read canal dump my sql debug image https user images githubusercontent com e d aa f f e c c b c png image https user images githubusercontent com ed ab f e eb acbf a png canal dump hashed wheel timer warn c a o c server netty handler client authentication handler channel id x bf ead idle timeout exceeds close channel to save server resources i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x b f exception java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util internal io worker runnable run io worker runnable java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java canal dump pr
474,部分 崩溃 日志 使用 版本 启动 参数 配置 如下 运行 期间 经常 报 这个 错 但是 后面 都 能 自动 重 连 碰到 这个 问题 解决 办法 参考 jvm crash a fatal error has been detected by the java runtime environment sigsegv xb at pc x f d pid tid jre version java tm se runtime environment b build b java vm java hot spot tm bit server vm b mixed mode linux amd compressed oops problematic frame v stub routines jshort disjoint arraycopy stack x f ac a x f ac bb sp x f ac b a free space k frames j compiled java code j interpreted vv vm code c code v stub routines jshort disjoint arraycopy j c io netty buffer pooled unsafe direct buf set bytes i lio netty buffer buf ii lio netty buffer buf bytes x f d d x f d cfe x j c io netty channel channel handler context invoke channel read lio netty channel channel handler context ljava lang object v bytes x f d ef x f d e x j c io netty channel nio nio event loop process selected keys v bytes x f d a c x f d a f x c j io netty channel nio nio event loop run v j io netty util concurrent single thread event executor run v j io netty util concurrent thread factory runnable decorator run v j java lang thread run v v stub routines call stub v libjvm so x c java calls call helper java value method handle java call arguments thread x v libjvm so x cb java calls call virtual java value klass handle symbol symbol java call arguments thread x v libjvm so x cfc java calls call virtual java value handle klass handle symbol symbol thread x v libjvm so x d thread entry java thread thread xa v libjvm so xa dcf java thread thread main inner xdf v libjvm so xa efc java thread run x c v libjvm so x d d java start thread x c libpthread so x aa start thread xd jvm args xms m xmx m xmn m xx survivor ratio xx perm size m xx max perm size m xss k xx use adaptive size policy xx max tenuring threshold xx disable explicit gc xx use conc mark sweep gc xx cms parallel remark enabled xx use cms compact at full collection xx use fast accessor methods xx use cms initiating occupancy only xx heap dump on out of memory error djava awt headless true djava net prefer i pv stack true dfile encoding utf dapp name otter canal dlogback configuration file opt canal server bin conf logback xml dcanal conf opt canal server bin conf canal properties canal properties canal id canal ip canal port canal zk servers flush data to zk canal zookeeper flush period flush meta cursor parse position to file canal file data dir canal conf dir canal file flush period memory store ring buffer size should be math pow n canal instance memory buffer size memory store ring buffer used memory unit size kb canal instance memory buffer memunit meory store gets mode used memsize or itemsize canal instance memory batch mode memsize detecing config canal instance detecting enable true canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting sql select canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable false support maximum transaction size more than the size of the transaction will be cut into multiple transactions delivery canal instance transaction size mysql fallback connected to master should fallback times canal instance fallback interval in seconds network config canal instance network receive buffer size canal instance network send buffer size canal instance network so timeout binlog filter config canal instance filter query dcl false canal instance filter query dml false canal instance filter query ddl false canal instance filter table error false canal instance filter rows false binlog format image check canal instance binlog format row statement mixed canal instance binlog image full minimal noblob binlog ddl isolation canal instance get ddl isolation false destinations canal destinations example example conf root dir canal conf dir conf auto scan instance dir add remove and start stop instance canal auto scan true canal auto scan interval canal instance global mode spring canal instance global lazy false canal instance global manager address canal instance global spring xml classpath spring memory instance xml canal instance global spring xml classpath spring file instance xml canal instance global spring xml classpath spring instance xml canal destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta by db table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache load table meta cache java at com google common cache local cache loading value reference load future local cache java at com google common cache local cache segment load sync local cache java at com google common cache local cache segment locked get or load local cache java at com google common cache local cache segment get local cache java at com google common cache local cache get local cache java at com google common cache local cache get or load local cache java at com google common cache local cache local loading cache get local cache java at com google common cache local cache local loading cache get unchecked local cache java more destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common util concurrent unchecked execution exception java io io exception should execute connector connect first caused by com google common util concurrent unchecked execution exception java io io exception should execute connector connect first at com google common cache local cache local loading cache get unchecked local cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception should execute connector connect first
473,connect mysql server failed when reconnect mysql server frequently cannot start dump biz due to mysql connection is disconnected by timeout root cause multi thread issue netty i o thread vs biz thread when invoke connect it will a channel future instance and then the add listener method is invoked by biz thread however channel read method in business handler is executed by netty i o thread channel future listener operation complete cannot guarantee that which is executed before than business handler channel read method it will caused connection is timeout when event parser start parse thread erosa connection reconnect is invoked env canal open jdk os cent os dio netty event loop threads very important another hot bug mysql dump connection will be disconnected about minutes it s caused by using netty i m trying to figure it out tks
472,改进 检查 链接 是否 合法 增加 对 以下 规则 判断 链接 失败 一直 没有 可用 链接 返回 次 感觉 糅合 很多 其他 改动 太 理解 对于 查找 位点 改动 主要 基于 什么 考虑 非常 抱歉 次 不慎 将 其他 主干 无关 本地 修改 一起 提交 这里 撤回 canal connector check valid canal server false pr parser pull request
471,请教 关于 客户端 报 这个 错误 获取 指定 数量 数据 提交 确认 上面 取 完 数据 秒 连接 就 会 断掉 报 标题 说明 错 但是 如果 只是 秒 之类 会 问题 求 指导 原因 基于 最新 版本 遇到 过 同样 问题 日志 上看 主动 关闭 连接 可能 避免 客户端 堵死 造成 同步 中断 策略 坐等 权威 回答 里 设置 会 传递 端 进行 超时 管理 默认 秒 这个 时间 意思 这个 时间段 内 如果 没有 处理 完 这批 数据 会 终端 吗 程序 里 批次 取 条 数据 处理 时间 达到 分钟 以上 然后 就 导致 这个 异常 而且 条 数据 会 重复 处理 然后 次 都 分钟 以上 就 循环报 这个 异常 改到 秒 就 这个 问题 怎么 解决 呢 关注 一下 这个 canal com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header true message message connector get without ack batch id message get id size message get entries size batch id size system out println empty count empty count system out printf message batch id s size s n batch id size thread sleep interrupted exception e connector ack batch id sleep canal thread sleep sleep canal server simple canal connector so timeout server so timeout client server client client so timeout ok https github com alibaba canal issues
470,客户端 总是 报 报 这个 错误 一般 需要 客户端 重试 遇到 同样 问题 关键 时候 出来 后面 都 没 发 呢 canal canal com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header handshake client auth caused by java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector read simple canal connector java classes na at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java classes na at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java classes na at com alibaba otter canal client impl simple canal connector connect simple canal connector java classes na common frames omitted
469,支持 吗 支持 解析 文档 讲 canal ddl ddl wiki
468,服务 端 如何 确认 实例 启动 开启 之后 增加 新 实例 日志 可以 可以 看见 日志 说明 新 加 实例 启动 但是 客户端 访问 服务 端 纪录 日志 都 只有 种 异常 奇怪 服务 端 没有 任何 关于 日志 消息 产生 能 正常 产生 日志 所以 想 咨询 一下 如何 确定 实例 到底 启动 没有 没有 日志 输出 没有 服务 异常 抛出 只有 访问 时 才 会 产生 条 的话 难 跟踪 问题 所在 模式 设置 开启 自动 扫描 如果 配置 目录 配置 变化 会 自动 触发 目录 新增 触发 配置 载入 时 自动 启动 目录 删除 卸载 对应 配置 启动 进行 关闭 文件 变化 配置 启动 自动 进行 重启 操作 按 这个 提示 设置 原本 默认 就 印象 中 默认值 时 会 第一 次 客户端 访问 时 才 会 初始化 哦 谢谢 canal server exception destination example should start first auto scan conf example canal instance scan info c a o canal deployer monitor spring instance config monitor auto notify start example successful exception com alibaba otter canal server exception canal server exception destination example should start first example example should start first lazy false instance true canal conf dir instance a instance instance lazy true b instance instance c instance properties reload instance lazy true false lazy false lazy true
467,函数 偏移量 加上 事件 长度 更 合适 原 代码 初始化 一下 时 这里 写入 这个 事件 开始 位置 我们 保存 入 等 位置 时 我们 并不 希望 这个 事件 回头 处理 遍 啊 改成 这样 改过 之后 测过 可行 最终 保存 就 末尾 代码 中 一直 困扰 重 启时 开始 位置 可能 事务 末尾 现在 这样 改 一下 应该 处理 得好 多 代码 中 加了 只是 等 事件 才 真的 保存 偏移量 别的 事件 保存 这样 大不了 重新 处理 出现 开始 位置 事务 开头 这样 事 收到 提醒 这些 直接 模式 才 场景 就是 相当于 直接 这个 改动 只是 对 有用 对 无用 了吧 event parser build last position com alibaba otter canal parse inbound event parser canal deployer log position build last position canal entry entry entry log position log position log position entry position position entry position position set journal name entry get header get logfile name position set position entry get header get logfile offset position set timestamp entry get header get execute time add server id at position set server id entry get header get server id log position set postion position log identity identity log identity running info get address l log position set identity identity log position set position zk position set position entry get header get logfile offset entry get header get event length event canal xid ddl ack ack canal
466,报 错误 根据 跑了 这个 测试 什么 问题 canal canal parse exception parse row data failed https github com alibaba canal issues file log fetcher test java io io exception error binlog file header
465,同步 出现 死锁 问题 怎么 处理 死锁 借款人 开户 原生 支持 报错 应该 扩展 抽取 数据 出现 问题 没 办法 规避 解决 这个 问题 例如 以下 参数 可以 canal main info com trcloud hamal stream core operator impl sink gp sink operator process auto commit gp sink operator java current sql is insert into ods fina bj account user account type balance bank frozen create date cust no del flag id local frozen parent id remarks update date user id storm time etl time values a f f a f ba f c cfe null dts c dba adeb dbc ae ca b e b main error com trcloud hamal stream core operator impl sink gp sink operator process auto commit gp sink operator java exec sql one by one failed org postgresql util psql exception error deadlock detected detail process waits row exclusive lock on relation of database blocked by process process waits exclusive lock on relation of database blocked by process process waits row exclusive lock on relation of database blocked by process process waits exclusive lock on relation of database blocked by process at org postgresql core v query executor impl receive error response query executor impl java at org postgresql core v query executor impl process results query executor impl java at org postgresql core v query executor impl execute query executor impl java at org postgresql jdbc pg statement execute pg statement java at org postgresql jdbc pg statement execute with flags pg statement java at org postgresql jdbc pg statement execute update pg statement java at com zaxxer hikari pool proxy statement execute update proxy statement java at com zaxxer hikari pool hikari proxy statement execute update hikari proxy statement java at com trcloud hamal stream core operator impl sink gp sink operator process auto commit gp sink operator java at com trcloud hamal stream core operator impl sink gp sink operator process gp sink operator java at com trcloud hamal stream core operator impl canal canal operator chain start canal operator chain java at com trcloud hamal stream core stream job start stream job java at com trcloud hamal stream core job runner main job runner java canal pg canal wingerx canal batch size canal batch size
463,语句 重新 之前 执行 过 时间 再次 执行 遍 失败 需要 哪里 过 滤掉 已经 消费 过 执行 情况 重复 数据 能 客户端 进行 记录 过滤 canal ddl main info com trcloud hamal stream core operator impl canal canal source parse columns canal source java parse ddl sql alter table account user info stream test add column test varchar not null after modifiedon main info com trcloud hamal stream core operator impl canal canal source parse columns canal source java ddl result map test cur name test key false nulled false old name oper pimay false oper type add type varchar main info com trcloud hamal stream core operator impl canal canal sql operator transform canal sql operator java sql decorators event type alter sql alter table test account user info stream test add column test varchar not null storm time table name account user info stream test main warn com trcloud hamal stream core operator impl sink gp sink operator process gp sink operator java batch exec error exec one by one main info com trcloud hamal stream core operator impl sink gp sink operator process auto commit gp sink operator java current sql is alter table test account user info stream test add column test varchar not null main error com trcloud hamal stream core operator impl sink gp sink operator process auto commit gp sink operator java exec sql one by one failed org postgresql util psql exception error column test of relation account user info stream test already exists at org postgresql core v query executor impl receive error response query executor impl java at org postgresql core v query executor impl process results query executor impl java at org postgresql core v query executor impl execute query executor impl java at org postgresql jdbc pg statement execute pg statement java at org postgresql jdbc pg statement execute with flags pg statement java at org postgresql jdbc pg statement execute update pg statement java at com zaxxer hikari pool proxy statement execute update proxy statement java at com zaxxer hikari pool hikari proxy statement execute update hikari proxy statement java at com trcloud hamal stream core operator impl sink gp sink operator process auto commit gp sink operator java at com trcloud hamal stream core operator impl sink gp sink operator process gp sink operator java at com trcloud hamal stream core operator impl canal canal operator chain start canal operator chain java at com trcloud hamal stream core stream job start stream job java at com trcloud hamal stream core job runner main job runner java main error com trcloud hamal stream core operator impl sink gp sink operator process gp sink operator java exec sql one by one failed sink sql failed main error com trcloud hamal stream core operator impl canal canal operator chain start canal operator chain java sink sql failed
462,时间戳 指定 文档 说 指定 时间戳 会 自动 遍历 找到 对应 时间戳 位点 进行 启动 那么 请问 格式 什么 必须 要 同时 写上 吗 报错 样 错误 错误 如下 截 图 写着 对应 即可 canal canal instance master timestamp canal mysql binlog binlog position timestamp canal instance standby timestamp canal instance standby timestamp xx xx xx canal err https user images githubusercontent com ed c e e d d a b png position info conf canal instance master address xxxxxx canal instance master journal name maria db bin canal instance master position canal instance master timestamp canal instance standby address xxxxxxxxx canal instance standby journal name maria db bin canal instance standby position canal instance standby timestamp timestamp
461,改动 配置 文件 结果 整个 进程 都 退出 按理 重 启 吗 各位 主要 配置 然后 试着 改动 中 加 点 东西 看到 整个 都 退出 简单 一下 代码 没想 明白 为什么 没 重 启 怎么 关闭 这个 就 导致 退出 呢 求 指教 谢谢 文件 启停 注释 掉了 恢复 回来 就 好了 destination canal canal deployer canal destinations example canal conf dir conf canal auto scan true canal auto scan interval canal instance global mode spring canal instance global lazy false canal instance global spring xml classpath spring instance xml example instance properties black regex canal example logs example example log canal instance scan info c a otter canal instance core canal instance stop cannal instance null example canal instance scan info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to edc ecloud com destination example address event parser info c a o canal parse inbound mysql dbsync direct log fetcher i o interrupted reading from client socket java nio channels closed by interrupt exception null at java nio channels spi interruptible channel end interruptible channel java na at sun nio ch socket channel impl read socket channel impl java na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser info c alibaba otter canal parse driver mysql mysql connector the channel edc ecloud com is not connected destination example address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to edc ecloud com destination example address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to edc ecloud com destination example address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination example address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination example address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to edc ecloud com canal instance scan info c a otter canal instance core canal instance stop successful canal instance scan info c a otter canal server embedded canal server with embedded stop canal instances example successfully logs canal canal log main info com alibaba otter canal deployer canal launcher the canal server is running now thread info com alibaba otter canal deployer canal launcher stop the canal server thread info com alibaba otter canal deployer canal controller stop the canal server thread info com alibaba otter canal deployer canal launcher canal server is down example destination jvm canal pid sorry canal server
460,出现 直接 打印 乱码 这个 如何 转码 默认 应该 编码 按照 这个 转码 一下 看看 试 过 没用 中 获取 这里 问题 中文 输出 正常 中文 好像 直接 上面 类似于 进制 串 模式 一下 里 收到 数据 这个 类 因为 没 办法 本地 调试 代码 试 采用 解析 中文 中文 同样 显示 解析 乱码 这里 验证 可以 拿到 正确 编码 请 确保 建表 编码 保持 一致 这里 全部 设置 编码 保持 一致 指 块 建 表 都 好像 都 配置 也是 通过 官方 开源 单元 测试 测 输出 就 乱码 语句 正常 问题 查看 也是 中文 最终 排查 能 这里 想 确认 块 段 代码 获取 想 问 大 神 这里 解析 版本 有关 吗 本地 使用 版本 麻烦 问 最后 怎么 解决 存在 同样 现象 ddl event type alter is ddl true sql alter table account user info stream test r n add column test varchar null comment after modifiedon ddl schema name test parse ddl sql alter table account user info stream test add column test varchar null comment after modifiedon agapple iso string sql iso canal entry entry entry entry result header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name test table name account user info stream test event length event type alter entry type rowdata store value p z alter table test account user info stream test add test varchar not null comment r test canal entry row change row change null row change canal entry row change parse from entry get store value row change result event type alter is ddl true sql alter table test account user info stream test add test varchar not null comment ddl schema name test canal entry row change parse from agapple canal entry column canal entry row change agapple debug mysql binlog query log event open replicator my sql binlog binlog parser info com taihe cloud binlog instance listener cdc event event id database name test table name account user info stream test add event type timestamp timestamp receipt binlog name null position next postion server id is ddl true sql alter table account user info stream test add column test varchar null comment after test before null after null event id database name test table name account user info stream test r nadd event type timestamp timestamp receipt binlog name null position next postion server id before null after null is ddl true sql alter table account user info stream test r n add column test varchar null comment u u after test canal entry result header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name test table name account user info stream test event length event type alter entry type rowdata store value p z alter table account user info stream test r n add column test varchar null comment after test r test main info com trcloud hamal stream core operator impl canal canal source fetch event canal source java row change result event type alter is ddl true sql alter table account user info stream test r n add column test varchar null comment after test ddl schema name test main info com trcloud hamal stream core operator impl canal canal source build event canal source java row change result event type alter is ddl true sql alter table account user info stream test r n add column test varchar null comment after test ddl schema name test main info com trcloud hamal stream core operator impl canal canal source parse columns canal source java parse ddl sql alter table account user info stream test add column test varchar null comment after test main info com trcloud hamal stream core operator impl canal canal source parse columns canal source java ddl result map test comment cur name test key false nulled true old name oper pimay false oper type add type varchar main info com trcloud hamal stream core operator impl canal canal sql operator transform canal sql operator java sql decorators event type alter sql alter table test account user info stream test add column test varchar null comment on column test account user info stream test test is storm time table name account user info stream test image https user images githubusercontent com f eb e b a dd png binlog dump utf binlog dump utf mysql show global variables like character variable name value character set client utf character set connection utf character set database utf character set filesystem binary character set results utf character set server utf character set system utf character sets dir usr share percona server charsets rows in set sec mysql canal client utf canal parse dbsync binlog query log event dml ddl binlog main info c taobao tddl dbsync binlog log event common header len number of event types sql alter table account user info stream test drop column test drop column testt sql alter table account user info stream test add column test varchar null comment after modifiedon sql alter table account user info stream test add column test varchar null comment after test sql alter table account user info stream test add column test varchar null comment sql alter table account user info stream test add column test varchar null comment sql alter table account user info stream test add column test varchar null comment bug com taobao tddl dbsync binlog log buffer next bit unsigned from buffer little endian see mysql include my global h uint korr get uint position origin limit illegal argument exception limit excceed position origin buf buffer xff buf position xff buf position mysql mysql charset id java charset mac central europe id mysql charset utf mb id mysql collation utf mb general ci id
459,如何 重启 实例 不重 启 请 问 如何 重启 实例 因为 想要 应用 位置 如果 的话 会 导致 其他 实例 会 收到 影响 移除 文件夹 然后 加 回来 嗯 好的 试试看 能否 这个 方法 写到 里面 测试 有效 关闭 server position stop startup agapple wiki issue
458,如何 设置 位置 实例 里面 设置 但是 实际 获取 都 最新 位置 然后 一下 日志 这样 一定 获取 最新 日志 那么 如何 设置 设置 好了 囧 还有 就是 不要 后面 空格 就是 这样 position position show master status position image https user images githubusercontent com cd e c e d cf f bf png image https user images githubusercontent com cbb f e c e fbe c cb png timestmp position
457,中 筛选 失效 使用 都 这个 版本 第一 次 设置 中 生效 获取 数据 可以 正常 筛选 但是 改 中 并且 删除了 想 重新 插入 一下 数据 发现 能 下载 其他 库 数据 其实 只要 两 张 表 请问 大 神 什么 问题 客户端 筛选 结果 下载 到了 其他 数据库 数据 现在 数据 可以 看到 只要 库 数据 现在 下载 其他 库 数据 试过 次 可以 稳定 重现 删除 中 实例 中 然后 重启 重新 指定 中 就 失效 现在 就是 写 筛选 条件 次 都 发送 吗 遇到 类似 问题 筛选 大 串 表 个别 表 就 监测 不到 数据 设置 监测 这个 表时 可以 顺利 监测 数据 参考 client subscribe canal deployer client client subscribe deployer positon meta dat dm data person dm data student meta dm data image https user images githubusercontent com e f e e b e a c f a png image https user images githubusercontent com e be e b e d e f e c png dm conf meta dat instance properties position workaround instance properties client subscribe https github com alibaba canal wiki faq
456,模拟 宕机 请 问 怎么 破 谢谢 选择 最新 版 吗 现在 这个 问题 客户端 报错 碰到 这个 问题 一下 服务 端 对应 异常 昨天 测试 时候 客户端 出现 异常 没有 发现 服务器 端的 异常 测试 过程 中 主要 两 方面 客户端 出现 异常 客户端 启动 多 次 连接 服务 器 端 服务器 端 进行 切换 时候 客户端 出现 这个 异常 server ha something goes wrong when get without ack data from server null something goes wrong when get without ack data from server null canal canal canal ha
455,半 步 协议 包 解析 解析 如果 启动 程序 启动 时候 启用 解析 模式 mysql semi support and mariadb gtid parse mysql semi mariadb gtid mysql mariadb semi plugin ddb semi semi cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks
454,请 问 能 绑 定本 机 吗 如果 台 分配 映射 指定 绑定 就 会 报 如上 错误 可以 指定 绑定 绑定 映射 失败 能 绑 定本 机 私网 cancal bind ip address error something goes wrong when starting up the canal server org jboss netty channel channel exception failed to bind to xxxx canal ip vm ip ip ip vm ip vm ip canal err https user images githubusercontent com bbc e f e f f a c c ceec png
453,切换 端 解析 重复 是否 正常 题 添加 配置 之前 解析 次 停止 切换 解析 出现 次 是否 正常 如图 一样 但是 解析 相同 请 指点 是否 正常 抱歉 请 关闭 测试 正常 master standby client master standby master mysql standby sql tim https user images githubusercontent com a efa e a e a e f png binlog sql
452,配置 多节点 解析 配置 请问 如果 使用 的话 作为 根据 文档 需要 写 信息 那么 需要 配置 各自 因为 支持 台 信息 统一 能否 达到 正常 切换 效果 可以 使用 时间戳 galera mariadb cluster galera mariadb cluster canal master master standby binlog file name position canal gtid binlog
451,这个 报错 什么 没 搞 懂 版本 版本 对方 非要 设置 并非 知道 这个 引起 然后 报错 解析 错误 升级 canal canal canal deployer mysql log log bin master bin log bin mysql bin destination cmp source address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name master bin position server id timestamp destination cmp source address event parser warn com taobao tddl dbsync binlog log decoder decoding query failed from master bin java io io exception read q flags code error limit excceed at com taobao tddl dbsync binlog event query log event unpack variables query log event java canal parse dbsync jar na at com taobao tddl dbsync binlog event query log event init query log event java canal parse dbsync jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get uint log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event query log event unpack variables query log event java canal parse dbsync jar na common frames omitted binlog
449,指定 刚好 条 数据 时 端 会 陷入 死 循环 测试 版本 版本 实现 功能 时 通过 解析 时 抛出 但是 直接 捕获 所有 重新 抛出 这样 工作 线程 获取 一直 都 异常 无法 感知 导致 陷入 死 循环 修改 抛出 下次 循环 线程 会 感知 变量 已经 会 进入 方法 会 调用 方法 方法 解析 事务 头 尾 那么 当前 方法 中 实现 事件 就 解析 因为 数据 过滤 故 一直 都 会 从而 会 进入 从头 读取 逻辑 内 就 进入 主 线程 死 循环内 个人 简单 分析 知 是否 理解 误 抑 或是 为了 解决 这个 场景 修复 建议 将 前 加 并将 抛出 上层 继续 感知 将 方法 中 第一 改为 即可 解决 这个 修复 建议 因为 时 调用 故 删除 方法 中 第一 逻辑 直接 进入 逻辑 内 解决 这个 问题 减少 次 请求 这个 记得 修复 过 可以 先尝 试 一下 切换 重新 试 一下 测 代码 通过 以下 场景 仍然 可以 非常 容易 复现 文件 内容 图上 标 红 数据 所在 指定 启动 位点 即为 这个 位置 启动 观察 日志 如下 可以 看到 一直 处于 循环 启动 状态 通过 第一 方法 找不到 这个 必须 要 重新 发生 逻辑 才 执行 这块 关注 一下 pos rowdata table map canal server bug canal canal log event convert parse rows event event table id not found exception parse rows event exception canal parse exception event parser parse thread throwable table id not found exception log event convert parse rows event table id not found exception need transaction position true find transaction begin position seek seek seek sink event rowdata re dump true binlog ps find transaction begin position agapple log event convert parse rows event canal parse exception table id not found exception mysql event parser find transaction begin position mysql connection seek mysql connection dump bug mysql event parser find transaction begin position need transaction position true mysql event parser find transaction begin position mysql connection seek re dump dump ok agapple binlog image https user images githubusercontent com d cbc a e dc e bd b c a b png rowdata pos canal server image https user images githubusercontent com fb de e dd e baf c da c png find transaction begin position mysqlconnection seek event event table id not found exception re dump
448,请 问 有啥 区别 对 解析 有啥 区别 如题 请 问 有啥 区别 对 解析 有啥 区别 这个 类 中 意思 这个 类 怎么 处理 多 描述 找到 可以 发个 链接 或者 截图 吗 谢谢 好像 已经 删掉 还有 原版 吗 链接 修复 mysql mariadb binlog canal mysql mariadb binlog mysql mariadb binlog canal mysql mariadb binlog canal dbsync src main java com taobao tddl dbsync binlog event mariadb binlog check point log event java binlog check point log event log header header log buffer buffer format description log event description event header buffer description event nothing just mariadb binlog checkpoint nothing just mariadb binlog checkpoint wiki agapple wiki binlog change maria db amp
447,解决 无限 连接 等待 多 同时 数据库 建立 连接 时 这里 以上 会 大概 率 发生 部分 得不 数据库 反馈 以致 无限 等待 无法 开始 数据 同步 因此 初始化 时 加入 处理 如果 超时 目前 秒 抛出 异常 重 试 尝试 再次 建立 连接 destination bug destination destination destination timeout cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks
445,请 问 目前 版本 支持 以上 吗 题 现在 稳定 版本 可以 使用 做 解析 吗 支持 请问 支持 吗 版本 里 支持 可以 测试 一下 canal mariadb gtid mariadb gtid canal binlog gtid mysql gtid gtid
444,异常 上午 日志 被删 下午 重 启 任务 日志 没有 异常 异常 想 确认 为何 为何 上午 日志 还是 能 正常 写入 重 启会 出现 种 情况 重 启下 重新 开启 就 canal server show binlog events limit binlog canal client canal server destination fengdai mqnotify address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception command show binlog events limit has an error caused by java io io exception unexpected end stream at com alibaba otter canal parse driver mysql utils packet manager read bytes as buffer packet manager java canal parse driver jar na at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql query executor read next packet mysql query executor java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find by start time stamp mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na agapple com alibaba otter canal parse exception canal parse exception command show binlog events limit has an error caused by java io io exception unexpected end stream mysql binlog
443,设置 切换 时 会 存在 重复 消费 问题 能 修改 基于 以上 两 点 想要 切换 故 目前 通过 修改 进行 会 报错 即使 手动 添上 节点 元 数据 依旧 没有 存在 中 还是 先 存在 内存 然后 定时 刷到 中 请 问 解决 上述 两 问题 更 方式 吗 如何 可以 更 优雅 指定 位置 进行 消费 完整 错误 理论 设计 就 没法 保证 重复 如果 元 数据 存在 中 重复 这个 问题 会 稍微 一些 程序 整体 效率 会 减低 取舍 问题 这个 理解 另外 想 请 问 一下 想要 切换 是否 可以 通过 修改 进行 虽然 这样 会 一定 程度 降低 程序 效率 尝试 过 失败 另外 是否 可以 办法 优雅 指定 位置 进行 消费 通过 重启 比如 只是 修改 中 即可 实现 目前 暂时 没有 这样 可以 直接 指定 位点 启动 canal zoo keeper meta manager canal zookeeper ha canal position zoo keeper meta manager xxx instance xml org i itec zkclient exception zk no node exception org apache zookeeper keeper exception no node exception keeper error code no node otter canal destinations example mark zokeeper zk agapple position exception org i itec zkclient exception zk no node exception org apache zookeeper keeper exception no node exception keeper error code no node otter canal destinations example mark at org i itec zkclient exception zk exception create zk exception java at org i itec zkclient zk client retry until connected zk client java at org i itec zkclient zk client get children zk client java at org i itec zkclient zk client get children zk client java at com alibaba otter canal meta zoo keeper meta manager clear all batchs zoo keeper meta manager java at com alibaba otter canal server embedded canal server with embedded rollback canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel simple channel handler message received simple channel handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util thread renaming runnable run thread renaming runnable java at org jboss netty util internal dead lock proof worker run dead lock proof worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java caused by org apache zookeeper keeper exception no node exception keeper error code no node otter canal destinations example mark at org apache zookeeper keeper exception create keeper exception java at org apache zookeeper keeper exception create keeper exception java at org apache zookeeper zoo keeper get children zoo keeper java at org apache zookeeper zoo keeper get children zoo keeper java at com alibaba otter canal common zookeeper zoo keeperx get children zoo keeperx java at org i itec zkclient zk client call zk client java at org i itec zkclient zk client call zk client java at org i itec zkclient zk client retry until connected zk client java more agapple zk canal zoo keeper meta manager xxx instance xml zk position api
442,生成 比较 方法 问题 方法 中 先 获取 副本 然后 库 中 对比 然后 如果 一切 正常 持久化 库 中 做 对比 时 信息 见 方法 这样 多线程 情况 会 导致 数据 不一致 情况 对比 时 中 取 信息 非常 仔细 对 块 比较 理解 会 并发 问题 table meta snapshot database table meta apply snapshot to db memory table meta tmp memory table meta master snapshot master ddl meta memory table meta tmp memory table meta compare table meta db and memory fix issue tmp memory table meta meta compare table meta db and memory mysql connection connection string schema string table table meta table meta from mem memory table meta find schema table compare table meta db and memory mysql connection connection string schema string table memory table meta tmp memory table meta table meta table meta from mem tmp memory table meta find schema table tsdb
441,客户端 未 提示 错误 端 异常 请 问 这个 什么 原因 导致 想 问 以下 什么 情况 导致 求助 乱 序 消费 吗 种 情况 怎么 处理 之前 代码 没 什么 太 大 改变 重新 停掉 作业 开启 就 出现 这个 问题 已经 找到 问题 谢谢 自己 解析 代码 上传 空 问题 导致 canal server batch id is not the firstly agapple i o server worker info c a otter canal instance core canal instance subscribe filter change to bank supervised account account item detail rel user bank supervised account account itemized err user bank supervised account account detail err user bank supervised account account detail user bank supervised account account frozen user bank supervised account account itemized user bank supervised account account user bank supervised account bank user bank supervised account company user info i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x fe e c exception com alibaba otter canal meta exception canal meta manager exception batch id is not the firstly i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x fe e c exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java batch id is not the firstly sql
440,默认 开启 系统 启动 异常 使用 版本 其中 默认 开启 启动 会 报错 将 注释 就 设为 作用 另外 希望 这些 参数 详细 说明 初始 启动 位点 指定 照理 不应该 啊 会 指定 配置 如下 看到 上面 代码 修改 但是 编译 通过 版本 要 修改 一下 不方便 测试 可以 临时 下载 包 执行 生成 版本 基于 配置 如果 没有 对应 位点 时 会 尝试 通过 查 找来 确定 时间戳 如果 找不到 就是 这里 历史 多 版本 设计 主要 基于 时间戳 定位 所以 启动 时 任何 时间点 都 必须 要 时间戳 遇到 同样 问题 切到 版本 tsdb tsdb destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang null pointer exception null at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run unknown source na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang null pointer exception at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source canal instance tsdb spring xml classpath spring tsdb h tsdb xml canal instance tsdb enable false binlog npe offest canal instance master journal name mysql bin canal instance master position canal instance master timestamp canal druid preview https github com alibaba druid druid mvn clean install dmaven test skip preview table tsdb timestamp binlog npe table meta v ok
439,日志 发现 这个 错误 应该 群里 反馈 类型 支持 问题 已经 反馈 进行 修复 我们 暂时 这个 功能 禁用 掉了 parse faield create table columns priv example set druid https github com alibaba druid commit f f f e cf ad c ca db okay
437,方法 中 添加 扩展 字段 端 出现 重复 数据 方法 中 添加 扩展 字段 端 接收 重复 种 方式 才 可以 会 重复 没 看懂 具体 问题 log event convert parse one row client log event convert parse one row row data builder add props create special pair test name test value client canal entry row data key test name pair pair builder builder row data builder add props builder
436,版本 模式 部署 新增 端 异常 客户端 未 提示 错误 估计 触发 客户端 重试 一下 重启 客户端 解决 多谢 ha instance server i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x cac exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x cac exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java client id batch id is not exist please check instance reload
435,启动 如何 关闭 模式 如题 哪里 配置 关闭 模式 搜索 canal client zookeeper debug zookeeper debug google
434,启动 之后 中 报错 知 如何 解决 求 大 神 赐教 端口 冲突 org jboss netty channel channel exception failed to bind to canal canal log open jdk bit server vm warning ignoring option perm size m support was removed in open jdk bit server vm warning ignoring option max perm size m support was removed in org jboss netty channel channel exception failed to bind to at org jboss netty bootstrap server bootstrap bind server bootstrap java at sun nio ch server socket channel impl bind server socket channel impl java at sun nio ch server socket adaptor bind server socket adaptor java open jdk bit server vm warning ignoring option perm size m support was removed in open jdk bit server vm warning ignoring option max perm size m support was removed in open jdk bit server vm warning use cms compact at full collection is deprecated and will likely be removed in a future release main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server main error com alibaba otter canal deployer canal launcher something goes wrong when starting up the canal server org jboss netty channel channel exception failed to bind to at org jboss netty bootstrap server bootstrap bind server bootstrap java at com alibaba otter canal server netty canal server with netty start canal server with netty java at com alibaba otter canal deployer canal controller start canal controller java at com alibaba otter canal deployer canal launcher main canal launcher java caused by java net bind exception address already in use at sun nio ch net bind method at sun nio ch net bind net java at sun nio ch net bind net java at sun nio ch server socket channel impl bind server socket channel impl java at sun nio ch server socket adaptor bind server socket adaptor java at org jboss netty channel socket nio nio server socket pipeline sink bind nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink handle server socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels bind channels java at org jboss netty channel channel bind channel java at org jboss netty bootstrap server bootstrap binder channel open server bootstrap java at org jboss netty channel channels fire channel open channels java at org jboss netty channel socket nio nio server socket channel init nio server socket channel java at org jboss netty channel socket nio nio server socket channel factory channel nio server socket channel factory java at org jboss netty channel socket nio nio server socket channel factory channel nio server socket channel factory java at org jboss netty bootstrap server bootstrap bind server bootstrap java more caused by java net bind exception address already in use
433,拿到 数据 重复 客户端 数据 第一 次 第二 次 数据 变成 而且 第二 次 拿到 两 条 重复 数据 样 重 启 启动 客户端 变成 第一 次 数据 之后 数据 都会 重复 请问 这个 怎么 解决 总 能 每次 调试 都 重 启 获取 指定 数量 数据 提交 确认 处理 失败 回滚 数据 重复 数据 无法 避免 canal client cannal batch id size msg message id exit batch id size msg message id logfile name mysql bin logfile offset canal server canal canal server canal connector connector canal connectors single connector inet socket address example batch size empty count connector connect connector subscribe connector rollback total emtry count empty count total emtry count message message connector get without ack batch size batch id message get id size message get entries size batch id size empty count system out println empty count empty count thread sleep interrupted exception e empty count system out printf message batch id s size s msg s n batch id size message to string system exit print entry message get entries connector ack batch id connector rollback batch id system out println empty too many times exit connector disconnect
432,直接 加入 方便 做法 改动 块 比较 目前 写 简易 连接 指定 但是 这样 存在 单点 风险 想 直接 发送 消息 集中 内 利用 有的 热 备 模式 避免 单 点 源码 块 做 改动 插入 这个 功能 比较 可以 谢谢 代码 这样 好了 db event push kafka canal databus canal client canal server destination client kafka canal zk cannal canal client ha wingerx client
431,方法 作用 使用 过程 中 发现 无论 传 多少 作用 里 配置 非 方法 入 参 当前 内存 里 最大 记录 值 设置 太 感谢 回复 试 发现 作用 实际 作用 比如 此时 内存 中 大小 应为 如果 客户端 代码 中 传 那么 次 批量 获取 数据 量 超过 略微 超过 受 配置 中的 配置 影响 理解 对 对 是的 理解 正确 connector get without ack batch size batch size canal properties buffer size batch size buffer size batch size buffer size agapple batch size get without ack batch size memunit canal instance memory buffer size canal instance memory buffer memunit canal instance memory batch mode memsize ring buffer b get without ack binlog b server canal instance memory buffer memunit canal instance memory batch mode
430,客户端 阻塞 客户端 获取 时 阻塞 阻塞 以后 无法 获取 数据 设置 超时 时间 管用 重启 以后 才 可以 获取 数据 可能 遇到 大事务 够 这么 解决 估计 还是 链接 主动 断开 未 感知 问题 尝试 升级 一下 版本 设置 超时 就 可以 cannal message message message connector get without ack batch size canal buffer size tcp mysql canal server
429,能 能 直接 得到 吗 中 例子 打印 类似 以下 形似 能 给出 执行 等 命令 具体 语句 吗 格式 可以 网上 先 了解 一下 canal binlog sql example canal insert update delete create table sql delete from sharddb tab shard where id begin thread id binlog mysql bin name sharddb tab shard event type delete execute time delay ms id type unsigned randomstr type varchar create time type timestamp end transaction id binlog mysql bin execute time delay ms binlog
428,想问 什么 原因 导致 指定 位点 时间戳 找 合适 初步 怀疑 位点 太 久 位 点 太 旧 还是 使用 还是 前者 文件 后者 使用 处理 种 位点 过 旧 情况 怎么 处理 只要 更改 吗 问题 想 咨询 位点 时间戳 必须 开启 之后 吗 目前 存在 问题 就是 时间戳 时间 开启 之前 时间 会 提示 以上 问题 异常 给定 时间戳 必须 有的 之后 时间 cannel service can t find start position xx canal instance scan info c a otter canal instance spring canal instance with spring start cannal instance crm underline prod canal instance scan info c a otter canal instance core canal instance start successful destination crm underline prod address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position destination crm underline prod address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from binlog to binlog destination crm underline prod address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position crm underline prod destination crm underline prod address event parser error com alibaba otter canal common alarm log alarm handler destination crm underline prod com alibaba otter canal parse exception canal parse exception can t find start position crm underline prod binlog agepple instance properties timestamp zookeeper get otter canal destinations xxxx cursor timestamp file instance xml instance xml zk agapple instance xml zk get otter canal destinations xxxx cursor timestamp binlog binlog binlog
427,首页 里面 工作 原理 图片 没有 显示 完整 估计 需要 翻墙 图片 图片 源地址 readme md canal like http ww sinaimg cn large lm tly fm mvsvfizj kw xt jpg agapple http dl iteye com upload attachment c b ba c db be c jpg
426,阿里云 数据库 切换 时 会 报错 同步 数据源 时 如果 使用 数据库 高 可用 切换 时 数据 库主 库 发生 变化 时 同步 日志 发生 改变 会 报错 报错 如下 连 数据库 rds connection timed out mha canal caused by java io io exception connect rm zed tz mysql rds aliyuncs com failure java net connect exception connection timed out at sun nio ch net connect method at sun nio ch net connect net java at sun nio ch net connect net java at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java connection timed out
425,丢失 现网 数据 变更 较大 发现 数据 存在 遗漏 情况 定位 未 接收 事件 信息 对比 发现 未 知 信息 丢失 日志 丢失 问题 源码 找到 原因 但是 接收 处 确实 未 接收 次 会 将 接收 打印 出来 未 接收 处理 代码 如下 跟踪 源码 打印 日志 发现 发 请求 过来 时候 读取 对应 就 没有 返回 事件 内容 过去 案例 截图 最后 日志 位点 定位 时候 数据 读取 日志 里 记录 位点 批次 单位 并没有 精确 条 记录 确认 过滤 条件 没 问题 过滤 表 如果 过滤 条件 问题 应该 条 记录 都 获取 不到 啊 目前 情况 时 部分 丢失 传递 结论 吗 这边 最新版 发现 更新 记录 丢失 问题 请 问 解决 了么 出现 条数 丢 两 条 问题 建议 你们 先用 标准 工程 打印 接收 数据 如果 能 复现 方式 最好 能 提供 一下 解决 吗 这边 遇到 丢失 情况 数据库 发现 数据 丢失 时候 日志 会报 解析 异常 部署 情况 台 模式 实例 监控 两 使用 分片 片 使用 错误 日志 条 丢失 问题 由于 串行 性能 对我来说 已经 够用 暂时 先用 串行 解析 测试 十几 次 没 出现 丢 数据 问题 可以 先尝 试用 一下 版本 canal binlog binlog binlog dump binlog image https user images githubusercontent com c cf e d a e e ab e png canal log image https user images githubusercontent com fa c d a e ae a fc fbbe png image https user images githubusercontent com a d d a e d c ca b f png binlog log binlog execute batch id logger debug execute destination destination true connector connect connector subscribe filter true message message connector get without ack batch size batch id message get id size message get entries size batch id size thread sleep sleep time interrupted exception ignored ignored process message get entries connector ack batch id exception e logger error canal connect error destination destination e alarm util dc alarm app dc id canal connect error canal connect error destination destination connector disconnect thread sleep interrupted exception e ignored process list canal entry entry entry list canal entry entry entry entry list entry get entry type canal entry entry type transactionbegin entry get entry type canal entry entry type transactionend entry get entry type canal entry entry type rowdata canal entry row change row change row change canal entry row change parse from entry get store value exception e runtime exception parse event has an error data entry to string e canal entry event type event type row change get event type event type canal entry event type delete event type canal entry event type insert event type canal entry event type update list canal entry row data row data list row change get row datas list row data list null row data list size list binlog column dto columns array list canal entry row data row data row data list columns convert column list row data get after columns list updated count columns stream filter binlog column dto get updated count updated count string binlog file offset entry get header get logfile name entry get header get logfile offset date util timestamp date time entry get header get execute time logger log access binlog file offset event type data event type to json string columns event type canal entry event type insert sync service insert columns binlog file offset event type canal entry event type update sync service update columns binlog file offset exception e logger error binlog handle error data json array to json string columns e alarm util dc alarm app dc id binlog handle error e to string canal server debug client postion binlog file image https user images githubusercontent com efdf d ae e ac d f png canal server log image https user images githubusercontent com ee d ae e c cdc d e c png canal log binlog instance properties table regex canal instance filter regex p p t loan table black regex canal instance filter black regex filter p p t loan jason huang huster example binlog canal maria db agapple canal canal ha mysql master mycat master mysql gtid row i o server worker info c a otter canal instance core can al instance subscribe filter change to immig immig enc text destination immig address event parser erro r c a o c p inbound mysql rds rds binlog event parser proxy dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java util concurrent modification exception null at java util array list itr check comodification array list java na at java util array list itr next array list java na at com alibaba otter canal parse driver mysql packets uuid set to string uuid set java c anal parse driver jar na at com alibaba otter canal parse driver mysql packets mysql gtid set to string mysql gtid set jav a canal parse driver jar na at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event c onvert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log even t convert java canal parse jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on e vent mysql multi stage coprocessor java canal parse jar na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on e vent mysql multi stage coprocessor java canal parse jar na at com lmax disruptor work processor run work processor java disruptor jar na at java util concurrent thread pool executor run worker thread pool executor java na at java util concurrent thread pool executor worker run thread pool executor java na at java lang thread run thread java na destination immig address event parser erro r com alibaba otter canal common alarm log alarm handler destination immig com alibaba otter can al parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java util concurrent modification exception at java util array list itr check comodification array list java at java util array list itr next array list java at com alibaba otter canal parse driver mysql packets uuid set to string uuid set java at com alibaba otter canal parse driver mysql packets mysql gtid set to string mysql gtid set jav a at com alibaba otter canal parse inbound mysql dbsync log event convert create header log event c onvert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log even t convert java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on e vent mysql multi stage coprocessor java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor dml parser stage on e vent mysql multi stage coprocessor java at com lmax disruptor work processor run work processor java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java destination immig address event parser warn c a o c p inbound mysql rds rds binlog event parser proxy find start position entry position includ ed false journal name mysql bin position server id gtid e a a f e b b bff timestamp i o server worker info c a otter canal instance core can al instance subscribe filter change to immig immig enc text binlog insert into immig immig enc text set name f cc d dd b e af b fe d bf detail f cc d dd b e af b fe d bf birthdate cc d dd b e af b fe d bf dd b e af b fe d bf chn at server id end log pos crc xf de e table map immig immig enc text mapped to number at server id end log pos crc x dac c write rows table id flags stmt end f insert into immig immig enc text set name f cc d b e b e b fc detail f cc d b e b e b fc birthdate cc d b e b e b fc b e b e b fc chn at server id end log pos crc x dd d table map immig immig enc text mapped to number at server id end log pos crc x write rows table id flags stmt end f insert into immig immig enc text set name f cc d b e a bf f e detail f cc d b e a bf f e birthdate cc d b e a bf f e b e a bf f e chn at server id end log pos crc xeb dc table map immig immig enc text mapped to number at server id end log pos crc x e write rows table id flags stmt end f xesygao concurrent modification exception https github com alibaba canal pull lcybo tks alpha
424,里面 修复 问题 里面 覆盖 回去 如题 里 改动 较 多 可能 误 操作 kill dump exception tks
423,支持 吗 支持 吗 理论 支持 系列 可以 跑 一下 测试 反馈 mariadb mariadb mariadb x
422,阿里云 环境 中 运行 由于 阿里云 存在 自动 清理 机制 机制 启动 时 当前 正在 处理 任务 会 产生 异常 因为 文件 已经 存在 或者 剩余 未 处理 任务 会 丢弃 针对 这个 场景 是否 优化 canal rds mysql mysql binlog ack log java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file
421,多 监听 库 问题 写 监听 库 一样 发现 库里面 数据 变更 会 接 收到 两 条 一模一样 变更 怎么 回 事 遇到 过 吗 份 数据 说 份 数据 指 数据库 吗 对应 数据库 写 三 对应 库 然后 通过 过滤 就 会 重复 数据 不过 总是 会 取 变更 数据 canal destinations instance canal destinations instance client instance instance loveluckystar instance filter instance client batch id size
420,使用 对 监控 时 出现 表 名 库 名为 空的 情况 没 官方 对 版本 监控 配置 注意 一下 格式 mysql canal mysql canal mysql canal mysql binlog
419,以前 好好 最近 新 加了 实例 之后 就 一直 报 这个 错 能 消费 知道 数据 是否 丢失 一部分 是否 出现 重复 端 链接 可以 尝试 一下 最新 版本 增加 随机 能力 canal client destination example address localhost event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address localhost port postion included false journal name mysql bin position server id timestamp destination example address localhost event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address localhost event parser error c a otter canal parse inbound mysql mysql event parser dump address localhost localhost has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address localhost event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java slave id mysql kill slave id
418,编译 报错 这个 变量 找 找 符号 符号 变量 位置 类 非法 类型 开始 同上 环境 最新 那次 提交 掉 应该 提交 时 漏掉 代码 下面 命令 可以 解决 编译 问题 已经 修复 is heart beat error failed to execute goal org apache maven plugins maven compiler plugin compile compile on project canal parse compilation failure compilation failure error users yes documents workspace idea canal parse src main java com alibaba otter canal parse inbound mysql dbsync log event convert java error is heart beat error com alibaba otter canal parse inbound mysql dbsync log event convert error users yes documents workspace idea canal parse src main java com alibaba otter canal parse inbound mysql dbsync log event convert java error help info error root canal parse src main java com alibaba otter canal parse inbound mysql dbsync log event convert java cannot find symbol symbol variable is heart beat location com alibaba otter canal parse inbound mysql dbsync log event convert error root canal parse src main java com alibaba otter canal parse inbound mysql dbsync log event convert java illegal start of type info errors canal mvn version apache maven maven home usr share maven java version vendor oracle corporation java home usr lib jvm java oracle jre locale en us platform encoding utf os name linux version generic arch amd family unix canal java version java version java tm se runtime environment build b java hot spot tm bit server vm build b mixed mode canal lsb release a lsb version core ubuntu amd core ubuntu noarch security ubuntu amd security ubuntu noarch distributor id ubuntu description ubuntu lts release codename xenial revert git reset hard a b f f ebb dd effcceba ac f b e mvn clean install dmaven test skip denv release a b b ee cef e e b e e
417,解析 库 实例 库 删除 大量 数据 时 导致 卡 死 解析 库 变化 但是 实例 库 做 大量 删除 操作 导致 解析 库 卡 死 可能 卡 死 日志 一直 显示 正常 但是 库 变化 一直 解析 日志 中 位点 信息 不再 发生 变化 版本 版本 遇到 过 同样 问题 日志 异常 但是 解析 源库 数据 没 遇到 过 这个 问题 如何 解决 建议 升级 一下 版本 canal a b canal canal server instance a b canal a a mysql canal ps otter canal
416,是否 可以 直接 数据 同步 需要 自己 接收 变更 消息 之后 写 代码 同步 cannal mysql to hive cannal mysql hive binlog hive
415,求助 启动 报错 看样子 像是 权限 问题 先 启动 然后 重新 执行 次 用户 赋权 就 一直 出现 这个 报错 楼 兄 这个 项目 活跃 度 还是 挺 高 准备 详细 看下 源码 实现 临时 解决 方案 中 将 中 语句 过 滤掉 即可 这块 会 记录 异常 日志 本身 影响 功能 暂时 支持 解析 临时 先 绕过 已经 反馈 作者 canal server destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield flush privileges com alibaba druid sql parser parser exception syntax error expect tables actual identifier pos line column token identifier privileges at com alibaba druid sql parser sql parser accept identifier sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse flush my sql statement parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse statement list dialect my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser warn c a otter canal parse inbound mysql tsdb memory table meta parse faield flush privileges com alibaba druid sql parser parser exception syntax error expect tables actual identifier pos line column token identifier privileges at com alibaba druid sql parser sql parser accept identifier sql parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse flush my sql statement parser java druid jar at com alibaba druid sql dialect mysql parser my sql statement parser parse statement list dialect my sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql parser sql statement parser parse statement list sql statement parser java druid jar at com alibaba druid sql sql utils parse statements sql utils java druid jar at com alibaba druid sql repository schema repository console schema repository java druid jar at com alibaba otter canal parse inbound mysql tsdb memory table meta apply memory table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta apply history on memory database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql tsdb database table meta rollback database table meta java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql event parser process table meta mysql event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na canal server flush privileges canal com alibaba otter canal parse inbound mysql tsdb apply ddl alter user flush privileges druid flush privileges druid
414,关于 机制 优化 现在 数据库 之间 机制 打开 机制 时候 通过 发送 语句 查询 方式 探测 远端 是否 活着 一直 固定 间隔 循环 发送 没有 根据 现在 是否 情况 决定 发送 机制 一样 没有 段 时间 才 发送 消息 会 固定 频率 发送 消息 heartbeat canal my sql heartbeat detecting sql traffic binlog heartbeat traffic heartbeat heartbeat
413,错误 什么 情况 升级 版本 即可 error packet info c alibaba otter canal parse driver mysql mysql connector kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal
412,发生 主备 数据库 切换 之后 里 会 发生 发生 主备 数据库 切换 之后 因为 地址 发生 变化 所以 找 时候 会 拿到 文件 里 根据 找 对应 这时候 会 标致 设为 后面 里面 会 因为 现在 状态 所以 关掉 之后 会 执行 次 这时候 之前 已经 关闭 所以 会 抛 异常 建议 先 执行 执行 次 新版本 里 已经 修了 请 关闭 谢谢 disconnect exception start position timestamp binlog timestamp position connection dumping true reconnect disconnect dumping channel kill connection connection id kill connection close channel disconnect io exception connected compare and set true false channel null channel close logger info dis connect mysql connection to address exception e io exception disconnect address failure exception utils get stack trace e quit dumping connection id mysql connector connector null connector fork connector connect mysql update executor executor mysql update executor connector executor update kill connection connection id exception e io exception kill dump connection id failure exception utils get stack trace e connector null connector disconnect dumping false logger info the channel is not connected address
411,连接 如何 获取 当前 操作 用户 里 没有 记录 canal mysql mysql binlog
410,怎么 监控 运行 状态 有时候 挂 开发 都 清楚 引起 业务 数据 错误 就 想 怎么 监控 体系 搭建 起来 好的 建议 监控 进程 或者 业务 消费 位点 canal canal canal canal zookeeper
409,中 序列 化 问题 中 序列 化 对象 获取 获取 如果 中 配置 主机 名 那么 这个 值 解析 主机 名 建议 修改 直接 获取 中 种 方式 是否 太 黑 魔法 这样 的话 整个 框架 解析 对象 时候 全部 按照 种 方式 序列化 影响 嵌入 应用 程序 希望 保留 特别 针对 域名 模式 时候 域名 会 保持 不变 json utils inet address json utils inet address serializer inet address java inet address address inet address object serializer write address get host name get host name hosts address get host address ip ps json utils java serialize config get global instance put inet address json utils inet address serializer instance serialize config get global instance put inet address json utils inet address serializer instance serialize config get global instance put inet address json utils inet address serializer instance fast json inet address canal hostname ip vip
408,监控 主备 服务 监控 主备 服务 要 怎么 配置 如果 配置 主 数据库 地址 主 数据库 服务器 挂掉 情况 可以 继续 采集 吗 需要 配置 主备 库 信息 canal mysql canal mysql binlog
407,管理 界面 下面 挂 节点 但是 运行 正常 题 这个 问题 怎么 解决 教程 截 图上 可以 看到 下面 挂 节点 个数 提问 manager zookeeper node zookeeper otter
406,如何 获取 如题 因为 公司 已经 运营 长 时间 修改 的话 知道 会 出 多少 问题 服务 重启 数据库 更新 信息 实在 太 少 能 拿到 原声 语句 意味 只有 对 原声 语句 作 语法 分析 拿出 可以 需要 依赖 最新 版本 已经 通过 完整 解析 对应 表 可以 完整 获取 感谢 回答 binlog format mixed table name mixed sql sql table name sql parser sql thanks
405,针对 集群 部署 多 监听 数据 会 两 台 监听 一样 更新 数据 怎么 做到 集群 消费 呢 集群 消费 建议 投递 系统 中 进行 处理 cluster canal client canal server canal client client mq
404,更新 请 大 神 指教 题 试 很多 方式 虽然 更新 但是 切换 时候 重 启 端 能够 按照 顺序 执行 但是 停掉 切换 时候 自动 之前 运行 明白 怎么 回 事 求 大 神 指教 会 看下 变化 变化 配置 就 对 都 重 启下 刚 开始 这个 问题 后来 没有 canal ha zookeeper position zookeeper ha client server client position zk offset server
403,预计 什么 时候 发布 下个 版本 呢
402,进程 导致 同步 点位 更新 一直 死 循环 我们 现在 使用 遇到 问题 我们 部署 阿里云 机器 同步 发现 奇怪 问题 当表 几百万 数据 添加 字段 更新 这个 字段 默认值 条 语句 更新 几百万 数据 发现 一直 死 循环 更新 几百万 数据 查看 详细 日志 看到 一直 更新 并且 死 循环 界面 同步 进度 点位 一直 固定 点 前进 这个 过程 中 出现 很多 次 知道 是否 影响 一下 otter node fullgc otter otter ecs rds update otter select load fullgc faq
401,获取 不到 记录 使用 阿里云 部署 结构 消费 程序 消费 程序 日志 基本 都 这样 消费 程序 关注 是否 打开 参数 是否 参数 比较 诡异 慢 日志 语句 居然 能 进来 直接 连 主库 问题 解决 提 阿里云工单 他们 说 官方 支持 自主 搭建 复制 系统 同步 推荐 推测 可能 阿里云备 库 做 什么 限制 嗯 直 连 主库 进行 链接 原理 连 主库 原理 都 一样 嗯 直 连 主库 进行 链接 原理 连 主库 原理 都 一样 现在 遇到 问题 连接 阿里 一直 新 日志 但是 库户端 一直 接收 数据 接收 数据 都 这个 样子 滴 数据 类型 为啥 都 呢 大家 用的 只读 实例 只读 实例 没 开 会 主库 所以 没法 开级 联同步 直接 操作 主 实例 即可 rowdata agapple canal server rds master slave canal server my sql zz show variables like binlog format variable name value binlog format row row in set sec canal message handler ons impl java debug handle message batch id entrys canal message handler ons impl java debug entry type transactionbegin schema tablename canal message handler ons impl java debug entry type transactionend schema tablename connector connect connector subscribe null instance properties mysql server id canal instance mysql slave id position info canal instance master address xxxxx canal instance master journal name canal instance master position canal instance master timestamp canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username xx canal instance db password xx canal instance database name zz canal instance connection charset utf table regex canal instance filter regex canal instance filter regex order info table black regex canal instance filter black regex canal properties common argument canal id canal ip canal port canal zk servers flush data to zk canal zookeeper flush period flush meta cursor parse position to file canal file data dir canal conf dir canal file flush period memory store ring buffer size should be math pow n canal instance memory buffer size memory store ring buffer used memory unit size kb canal instance memory buffer memunit meory store gets mode used memsize or itemsize canal instance memory batch mode memsize detecing config canal instance detecting enable false canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting sql select canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable false support maximum transaction size more than the size of the transaction will be cut into multiple transactions delivery canal instance transaction size mysql fallback connected to master should fallback times canal instance fallback interval in seconds network config canal instance network receive buffer size canal instance network send buffer size canal instance network so timeout binlog filter config canal instance filter query dcl false canal instance filter query dml false canal instance filter query ddl false canal instance filter table error false canal instance filter rows false binlog format image check canal instance binlog format row statement mixed canal instance binlog image full minimal noblob binlog ddl isolation canal instance get ddl isolation false destinations canal destinations zz conf root dir canal conf dir conf auto scan instance dir add remove and start stop instance canal auto scan true canal auto scan interval canal instance global mode spring canal instance global lazy false canal instance global manager address canal instance global spring xml classpath spring memory instance xml canal instance global spring xml classpath spring file instance xml canal instance global spring xml classpath spring instance xml log slave agapple log slave updates my sql zaozuo show variables like slave variable name value init slave log slave updates on log slow slave statements off pseudo slave mode off rpl semi sync master wait no slave on rpl semi sync slave delay master off rpl semi sync slave enabled on rpl semi sync slave kill conn timeout rpl semi sync slave trace level rpl stop slave timeout slave allow batching off slave checkpoint group slave checkpoint period slave compressed protocol off slave exec mode strict slave load tmpdir slave max allowed packet slave net timeout slave parallel workers slave pending jobs size max slave pr mode table slave rows search algorithms table scan index scan slave skip errors off slave sql verify checksum on slave transaction retries slave type conversions sql slave skip counter rows in set sec my sql zaozuo show variables like log variable name value back log binlog cache size binlog checksum crc binlog direct non transactional updates off binlog format row binlog order commits off binlog row image full binlog rows query log events off binlog stmt cache size expire logs days failover log verbose general log off general log file innodb api enable binlog off innodb flush log at timeout innodb flush log at trx commit innodb locks unsafe binlog off innodb log buffer size innodb log compressed pages off innodb log file size innodb log files in group innodb log group home dir innodb mirrored log groups innodb online alter log max size innodb undo logs log bin on log bin basename log bin index log bin trust function creators on log bin use v row events on log error log output table log queries not using indexes off log slave updates on log slow admin statements on log slow slave statements off log throttle queries not using indexes log warnings max binlog cache size max binlog size max binlog stmt cache size max relay log size relay log relay log basename relay log index relay log info file relay log info repository table relay log purge on relay log recovery off relay log space limit slow query log on slow query log file sql log bin on sql log off off sync binlog sync relay log sync relay log info tokudb checkpoint on flush logs off tokudb fsync log period tokudb log buffer size tokudb log dir tokudb log file size rows in set sec agapple mysql canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log canal message handler ons impl java debug entry type rowdata schema mysql tablename slow log rds dts dts x dts canal v rds logs instance meta log message id entries header version logfile name logfile offset server id serveren code utf execute time source type mysql schema name table name event length entry type transactionbegin store value header version logfile name logfile offset server id serveren code utf execute time source type mysql schema name table name event length entry type transactionend store value n entry type transaction rds rds log update slave binlog rds
400,可以 支持 吗 可以 支持 吗 这样 就 可以 任何 语言 写 客户端 交互 可以 提交 给我 canal grpc canal grpc canal pr
399,求助 这个 错误 什么 原因 造成 升级 版本 修复 destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang null pointer exception null at com alibaba otter canal parse inbound mysql mysql connection load binlog checksum mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang null pointer exception at com alibaba otter canal parse inbound mysql mysql connection load binlog checksum mysql connection java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java
398,支持 版本 我们 分析 时 可能 出现 查看 一下 源码 感觉 支持 处理 而是 读取 这个 将 转换 成 时 丢掉 请 问 特意 设计 成 这样 行为 吗 或是 我们 理解 误 我们 分析 如下 代码 中 会 读取 但是 中 方法 并没有 处理 这个 这里 没有 认为 即使 读取 这个 事件 拿到 无能为力 所以 就 主动 丢弃 如果 能 主动 报 告警 会 会 帮助 谢谢 当时 刻意 没 加 设计 尽可能 抽取 部分 内容 并没有 全 处理 所有 事件 谢谢 即时 回复 目前 考虑 扩展 涵盖 类 或者 尽量 多的 事件 吗 接口 协议 设计 里 支持 所以 暂时 会 考虑 谢谢 先 这个 问题 如果 新 问题 再开 新 谢谢 lost events canal my sql replication lost events canal lost events event entry canal log decoder java incident event log event incident event incident log event event incident log event header buffer description event updating position in context log position position header get log pos event log event convert java parse incident event entry parse log event log event canal parse exception log event null log event unknown log event null event type log event get header get type event type log event incident event canal consumer best regards stone canal dml ddl dcl mysql agapple canal best regards stone close ticket best regards stone
397,中 字段 值 问题 使用 官方 提供 语句 转换 结果 值 长度 当前 使用 版本 版本 请 问 什么 原因 导致 解析 问题 确认 使用 模式 点 会 对象 可以 改为 row change is ddl clent example row change parse from entry get store value update insert delete is ddl true row chage get row datas list list canal mysql log row mysql rows query canal instance filter query dml true
396,如何 配置 想 使用 模式 处理 多 库 合并 问题 但是 找 配置 方法 更改 使用 默认 内容 未做 修改 允许 覆盖 报警 处理 类 心跳 配置 解析 过滤 处理 大 事务 解析 大小 超过 大小 事务 将 切分 多个 事务 投递 网络 链接 参数 解析 编码 解析 位点 记录 切换 时 回退 时间 解析 数据库 信息 解析 起始 位点 心跳 配置 解析 过滤 处理 大 事务 解析 大小 超过 大小 事务 将 切分 多个 事务 投递 网络 链接 参数 解析 编码 解析 位点 记录 切换 时 回退 时间 解析 数据库 信息 解析 起始 位点 接入 时候 怎么 配置 呢 使用 逗号 分隔 行 会当 做 处理 无法 找到 另外 群 是否 可以 处理 一下 想 知道 这个 请问 相应 代码 怎么 写 面临 同样 问题 想 请教 块 怎么 配置 呢 group instance xml group wiki canal properties canal destinations food mdm common argument canal id canal ip canal port canal zk servers flush data to zk canal zookeeper flush period flush meta cursor parse position to file canal file data dir canal conf dir canal file flush period memory store ring buffer size should be math pow n canal instance memory buffer size memory store ring buffer used memory unit size kb canal instance memory buffer memunit meory store gets mode used memsize or itemsize canal instance memory batch mode memsize detecing config canal instance detecting enable false canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting sql select canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable false support maximum transaction size more than the size of the transaction will be cut into multiple transactions delivery canal instance transaction size mysql fallback connected to master should fallback times canal instance fallback interval in seconds network config canal instance network receive buffer size canal instance network send buffer size canal instance network so timeout binlog filter config canal instance filter query dcl false canal instance filter query dml false canal instance filter query ddl false canal instance filter table error false canal instance filter rows false binlog format image check canal instance binlog format row statement mixed canal instance binlog image full minimal noblob binlog ddl isolation canal instance get ddl isolation false destinations canal destinations food mdm conf root dir canal conf dir conf auto scan instance dir add remove and start stop instance canal auto scan true canal auto scan interval canal instance global mode spring canal instance global lazy false canal instance global manager address canal instance global spring xml classpath spring memory instance xml canal instance global spring xml classpath spring file instance xml canal instance global spring xml classpath spring instance xml group instance xml xml version encoding utf beans xmlns http www springframework org schema beans xmlns xsi http www w org xml schema instance xmlns tx http www springframework org schema tx xmlns aop http www springframework org schema aop xmlns lang http www springframework org schema lang xmlns context http www springframework org schema context xsi schema location http www springframework org schema beans http www springframework org schema beans spring beans xsd http www springframework org schema aop http www springframework org schema aop spring aop xsd http www springframework org schema lang http www springframework org schema lang spring lang xsd http www springframework org schema tx http www springframework org schema tx spring tx xsd http www springframework org schema context http www springframework org schema context spring context xsd autowire by name properties bean com alibaba otter canal instance spring support property placeholder configurer lazy init false property name ignore resource not found value true property name system properties mode name value system properties mode override system property name location names list value classpath canal properties value value classpath canal instance destination instance properties value list property bean bean id socket address editor com alibaba otter canal instance spring support socket address editor bean org springframework beans factory config custom editor configurer property name property editor registrars list ref bean socket address editor list property bean bean id instance com alibaba otter canal instance spring canal instance with spring property name destination value canal instance destination property name event parser ref local event parser property property name event sink ref local event sink property property name event store ref local event store property property name meta manager ref local meta manager property property name alarm handler ref local alarm handler property bean bean id alarm handler com alibaba otter canal common alarm log alarm handler bean id meta manager com alibaba otter canal meta memory meta manager bean id event store com alibaba otter canal store memory memory event store with buffer property name buffer size value canal instance memory buffer size property name buffer mem unit value canal instance memory buffer memunit property name batch mode value canal instance memory batch mode memsize property name ddl isolation value canal instance get ddl isolation false bean bean id event sink com alibaba otter canal sink entry entry event sink property name event store ref event store bean bean id event parser com alibaba otter canal parse inbound group group event parser property name event parsers list ref bean event parser ref bean event parser list property bean bean id event parser com alibaba otter canal parse inbound mysql mysql event parser property name destination value canal instance destination property name slave id value canal instance mysql slave id property name detecting enable value canal instance detecting enable false property name detecting sql value canal instance detecting sql property name detecting interval in seconds value canal instance detecting interval time property name ha controller bean com alibaba otter canal parse ha heart beat ha controller property name detecting retry times value canal instance detecting retry threshold property name enable value canal instance detecting heartbeat ha enable false bean property property name alarm handler ref alarm handler property name event filter bean com alibaba otter canal filter aviater aviater regex filter constructor arg index value canal instance filter regex bean property property name event black filter bean com alibaba otter canal filter aviater aviater regex filter constructor arg index value canal instance filter black regex constructor arg index value false bean property property name transaction size value canal instance transaction size property name receive buffer size value canal instance network receive buffer size property name send buffer size value canal instance network send buffer size property name connection timeout in seconds value canal instance network so timeout property name connection charset number value canal instance connection charset number property name connection charset value canal instance connection charset utf property name log position manager bean com alibaba otter canal parse index memory log position manager property failover property name fallback interval in seconds value canal instance fallback interval in seconds property name master info bean com alibaba otter canal parse support authentication info property name address value canal instance master address property name username value canal instance db username retl property name password value canal instance db password retl property name database name value canal instance database name retl bean property property name standby info bean com alibaba otter canal parse support authentication info property name address value canal instance standby address property name username value canal instance db username retl property name password value canal instance db password retl property name database name value canal instance database name retl bean property property name master position bean com alibaba otter canal protocol position entry position property name journal name value canal instance master journal name property name position value canal instance master position property name timestamp value canal instance master timestamp bean property property name standby position bean com alibaba otter canal protocol position entry position property name journal name value canal instance standby journal name property name position value canal instance standby position property name timestamp value canal instance standby timestamp bean property property name filter query dml value canal instance filter query dml false property name filter query dcl value canal instance filter query dcl false property name filter query ddl value canal instance filter query ddl false property name filter table error value canal instance filter table error false property name support binlog formats value canal instance binlog format property name support binlog images value canal instance binlog image bean bean id event parser com alibaba otter canal parse inbound mysql mysql event parser property name destination value canal instance destination property name slave id value canal instance mysql slave id property name detecting enable value canal instance detecting enable false property name detecting sql value canal instance detecting sql property name detecting interval in seconds value canal instance detecting interval time property name ha controller bean com alibaba otter canal parse ha heart beat ha controller property name detecting retry times value canal instance detecting retry threshold property name enable value canal instance detecting heartbeat ha enable false bean property property name alarm handler ref alarm handler property name event filter bean com alibaba otter canal filter aviater aviater regex filter constructor arg index value canal instance filter regex bean property property name event black filter bean com alibaba otter canal filter aviater aviater regex filter constructor arg index value canal instance filter black regex constructor arg index value false bean property property name transaction size value canal instance transaction size property name receive buffer size value canal instance network receive buffer size property name send buffer size value canal instance network send buffer size property name connection timeout in seconds value canal instance network so timeout property name connection charset number value canal instance connection charset number property name connection charset value canal instance connection charset utf property name log position manager bean com alibaba otter canal parse index memory log position manager property failover property name fallback interval in seconds value canal instance fallback interval in seconds property name master info bean com alibaba otter canal parse support authentication info property name address value canal instance master address property name username value canal instance db username retl property name password value canal instance db password retl property name database name value canal instance database name retl bean property property name standby info bean com alibaba otter canal parse support authentication info property name address value canal instance standby address property name username value canal instance db username retl property name password value canal instance db password retl property name database name value canal instance database name retl bean property property name master position bean com alibaba otter canal protocol position entry position property name journal name value canal instance master journal name property name position value canal instance master position property name timestamp value canal instance master timestamp bean property property name standby position bean com alibaba otter canal protocol position entry position property name journal name value canal instance standby journal name property name position value canal instance standby position property name timestamp value canal instance standby timestamp bean property property name filter query dml value canal instance filter query dml false property name filter query dcl value canal instance filter query dcl false property name filter query ddl value canal instance filter query ddl false property name filter rows value canal instance filter rows false property name filter table error value canal instance filter table error false property name support binlog formats value canal instance binlog format property name support binlog images value canal instance binlog image bean beans client destination string destination food string ip canal connector connector canal connectors single connector inet socket address ip destination qq xiaopan xiaopan
395,使用 时 数据 变更 频繁 同步 卡住 解决 方案 使用 时 如果 或者 多 分库 一直 没有 那么 所有 线程 都会 卡 方法 导致 产生 分库 数据 无法 消费 代码 注释 上看 这么 设计 原因 为了 相互 协同 防止 某个 分库 出现 问题 时 落下 这样 可以 避免 重启 时 丢 数据 同时 增大 模式 局限性 我们 现在 就 类似 场景 项目 预期 会 大 数据 量 提前 进行 分库 库 但是 没有 大批量 推广 天 数据 量 只有 几千 条 某些 分库 会长 时间 没有 数据 为了 解决 这个 问题 想到 方案 两 利用 心跳 类似 保证 分库 源源不断 产生 这样 就 会 卡住 缺点 对 业务 系统 侵入 必须 业务 库 创建 辅助 表 另外 想到 方案 改造 在内 部类 方法 中 没有 出现 异常 时 构造 类型 然后 调用 方法 类似 方法 没 更 方案 以前 模式 设计 不太 基于 锁 方式 性能 太 差 你们 内部 没 怎么 使用 种 方案 吗 性能 差 相对 种 方式 还是 方便 之前 分库 需要 创建 实例 然后 实例 堆 映射 配置 运维 起来 还是 挺 麻烦 有时 间 的话 那边 可以 想 想 能 能 更 方案 解决 种 协同 卡住 问题 对于 种 模式 什么 思路 吗 对于 分库 分表 场景 还是 相当 多 对于 应用 端 其实 不关心 底层 到底 分 多少 库 知道 块 什么 建议 参考 升级 一下 版本 试试 感谢 比较 关心 正式 版 什么 时候 发布 目前 我们 通过 解决 死锁 问题 先前 总是 会 出现 线程 卡死 貌似 版本 里 解决 group event sink hi agapple group event sink binlog paser sink binlog instance group sql insert into retl xdual values now on duplicate key update x now binlog mysql event parser mysql detecting time task run heartbeat event consume the event and profiling necessary event parser build heart beat time task group agapple group my sql https github com alibaba canal pull canal patch ps connect reconnect
394,存在 死锁 方法 中 如下 代码 事务 允许 通过 非 事务 保护 中 允许 通过 对于 最后 分支 不仅 场景 会 进入 时 可能 会 进入 基于 上次 启动 时 拿到 第一 事件 类型 方法 事务 结束 并且 已经 成功 写入 清理 标记 进入 重新 排队 判断 允许 新 事务 进入 非 事务 中 第一 判断 应该 多加 条件 应对 上面 说 问题 否则 状态 将 一直 方法 始终 返回 系统 出现 死锁 或者是 方法 中 两 顺序 调换 一下 方便 提交 好的 两 天 忙 完 就 提 timeline transaction barrier bug timeline transaction barrier is permit is transaction begin event tx state compare and set in transaction set true true tx state compare and set true ddl dcl ddl dcl transaction end position event parser transaction end timeline transaction barrier clear clear event event clear event is transaction end event in transaction set false store tx state compare and set tx state compare and set false canal sink exception state is not correct in transaction tx state value tx state compare and set tx state compare and set false canal sink exception state is not correct in non transaction tx state value transaction end tx state is permit false clear pull request
393,table meta support cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br x kaiming wan br x wanshao br hr wanshao seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
392,table meta support support table meta cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br x kaiming wan br x wanshao br hr wanshao seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
391,主库 主库 编码 这个 版本 位点 初始 值 执行 时间 启动 报错 主库 主库 编码 这个 版本 位点 初始 值 执行 时间 配置 没有 配置 位点 提示 以下 异常 位 点 不对 mysql utf mb canal mysql utf mb canal canal timestamp main info c a otter canal instance core canal instance start successful destination example wxprober address xxxxxxx event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position mysql bin destination example wxprober address xxxxxxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file could not find first log file name in binary log index file
390,实例 日志 中 偶尔 会报 这个 错误 请问 怎么 解决 断链 问题 目前 一些 已知 问题 主干 版本 提交 修复 大约 两 小时 就 报 次 但是 貌似 并没有 丢 数据 请问 对 线上 业务 影响 吗 新 版 修复 问题 吗 亲 这个 问题 你们 解决 至今 没有 解决 如果 解决 吼 吼 服务 端 主动 断 链接 尝试 最新 版本 试试 这个 问题 会 造成 丢失 数据 吗 重 启 遇到 升级 版本 什么 简便 方法 吗 error com alibaba otter canal common alarm log alarm handler destination xxx java io io exception unexpected end stream canal mysql agapple destination action log address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination action log address event parser error com alibaba otter canal common alarm log alarm handler destination action log java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination action log address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp destination action log address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination action log address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination action log address event parser error com alibaba otter canal common alarm log alarm handler destination action log java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination action log address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp end canal tdytaylor mysql server
389,canal is not run any in node failed to connect to after retry times uid client ip device id binlog main error c a o c client impl running client running monitor there is an error when execute init running method with destination es com alibaba otter canal protocol exception canal client exception java net connect exception connection refused at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl simple canal connector access simple canal connector java at com alibaba otter canal client impl simple canal connector process active enter simple canal connector java at com alibaba otter canal client impl running client running monitor process active enter client running monitor java at com alibaba otter canal client impl running client running monitor init running client running monitor java at com alibaba otter canal client impl running client running monitor start client running monitor java at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl cluster canal connector connect cluster canal connector java at com alibaba otter canal client impl cluster canal connector restart cluster canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at com domain es canal consumer handler thread run bin log consumer java caused by java net connect exception connection refused at sun nio ch net connect method at sun nio ch net connect net java at sun nio ch net connect net java at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal client impl simple canal connector connect simple canal connector java common frames omitted uid client ip device id binlog main warn c a otter canal client impl cluster canal connector failed to connect to after retry times uid client ip device id binlog main warn c a o c client impl running client running monitor canal is not run any in node caused by java net connect exception connection refused
388,会 不定期 报 情况 我们 像 那样 使用 获取 数据 但是 运行 段 时候 之后 个别 任务 会 不定 时报 长时间 情况 告警 内容 切换 能 解决 问题 重启 整个 服务 会 恢复 段 时间 知道 大 神们 没 遇到 类似 问题 或者 有啥 解决 方案 我们 样 问题 不过 好像 影响 同步 应该 早期 版本 源端 库 无数 问题 尝试 升级 一下 版本 canal no data otter canal binlog channel canal no data pid nid exception mainstem pid canal elapsed seconds no data mainstem canal otter canal
387,重 启 会 次 位点 解析 吗 开启 的话 上次 解析 位点 应该 会 存在 中 会 从上 次 位点 解析 持久化 不支持 这样 是否 重启 时候 能 从上 次 位点 解析 另外 结合 使用 目前 好像 支持 内存 模式 这样 重启 是否 会 丢失 服务 断开 期间 数据 呢 会 丢 多 看看 模式 会的 配置 会 生产 文件 记录 次 解析点 canal server ha zk file ha otter otter wiki faq zhumt file instance meta dat
386,压力 大 情况 解析 变慢 测试 时候 发现 产生 大概 超过 万 时候 解析 产生 变的 特别 慢 服务器 跑到 什么 情况 如何 解决 呢 参考 binlog binlog qps canal event cpu https github com alibaba canal wiki faq
384,中 启动 报错 检查 自己 使用 版本 试试 windows startup bat error missing server jvm at c program files x java jre bin server jvm dll please install or use the jre or jdk that contains these missing components jvm
383,重置 问题 请 两 位 有空 看下 谢谢 次 成功 日志 失败 日志 我们 对比 两 次 日志 发现 节点 内容 发生 变化 正常 情况 值 但是 异常情况 附带 信息 位置 节点 都 要 前 知道 为什么 出现 种 情况 线上 环境 已经 遇到 很多 次 因为 变更 数据 就 会 重复 主键 冲突 无法 操作 都 手动 修改 目前 我们 解决 办法 比对 是否 最新 如果 的话 就 重 启 之后 可以 正常 读取 如果 之前 位点 能 手动 修改 为最 新 位点 解决 目前 为止 都 没有 找到 具体 原因 知道 什么 什么 引起 我们 多 方式 部署 主备 切换 或者 链接 断开 时 就 会 重复 消费 导致 位点 回溯 重复 难免 canal postion agapple lulu panpan ack batch id position position range start log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id timestamp ack null end log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id timestamp rollback ack e start log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id timestamp ack log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id timestamp end log position identity log identity source address slave id postion entry position included false journal name mysql bin position server id timestamp ack ack null position start end position insert zk position server zk position zk postion instance jdk canal parser
382,指定 请问 为什么 指定 启动 时候 找不到 位置 必须 要 一起 指定 才 能 找到 位置 呢 文档 里面 这样 写 指定 时间戳 会 自动 遍历 找到 对应 时间戳 位点 进行 启动 还有 指定 时 会 遍历 这个 会 执行 吗 请 大 神 帮忙 解答 一下 谢谢 没用过 会 自动 取下 正解 单纯 使用 时 试 行 使用 没 问题 canal timestamp timestamp binlog binlog filename canal instance master timestamp canal mysql binlog binlog binlog filename position binlog binlog timestamp binlog filename position binlog ls timestamp binlog filename position
381,启动 某个 就 一直 报错 请 问 什么 原因 啊 没有 位点 原因 吗 启动 多 段 时间 可能 这个 错 请 使用 最新版 测试 channel pid nid exception canal tdesk test canal java lang no def found error could not initialize com alibaba otter canal common utils json utils at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java
380,延迟 情况 多 条 语句 引发 不匹配 有多 条 语句 时 如果 解析 存在 延时 会 引发 如下 错误 原因 如下 中 前后 两 条 语句 由于 解析 落后 才 解析 中 获取 最新 得到 操作 之间 消息 表 结构 最新 不匹配 遇到 同样 问题 求 大神 解答 版本 会 解决 根据 源代码 取表 结构 元 信息 中 解析 数据库 中 使用 获取 这样 必然 存在 隐患 使用 下面 重现 问题 先 停止 主库 运行 下列 语句 再启动 然后 可以 输出 看到 如下 输出 下面 输出 中 已经 新 列名 而且 本 列 值 变成 列 值 新版 本会 支持 版本 变更 可以 随意 回切 任意 位点 表 结构 会 同步 回滚 新 版本 代码 已经 提交 分支 编译 有点 问题 时候 出 新 版本 拒绝 连接 切换 正式 版 编译 无法 成功 处理 模式 心跳 数据 已经 修复 请问 老 版本 怎么 跳 过 这个 问题 呢 老 版本 能 跳过 数据 尝试 最新 版本 ddl schema bug ddl binlog com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception column size is not match table xxdb xxxtable vs binlog ddl a b canal a db schema b schema a b schema canal binlog mysql desc db table canal mysql sql use dbt create table usert user id bigint not null auto increment user nick name varchar not null is system tinyint not null update time not null primary key user id engine inno db auto increment create index idx usert mobile on usert mobile insert into usert user id user nick name is system update time values u unix timestamp insert into usert user id user nick name is system update time values u unix timestamp update usert set is system where user id delete from usert where user id select from usert alter table usert add column age alter table usert drop column update time alter table usert change user nick name nick name varchar insert into usert user id nick name is system age values u insert into usert user id nick name is system age values u update usert set is system where user id delete from usert where user id select from usert canal deployer canal example canal example log nick name update time age binlog log bin execute time delay ms begin thread id binlog log bin name dbt usert event type insert execute time delay ms user id type bigint update true nick name u type varchar update true is system type tinyint update true age type update true end transaction id ddl ddl master agapple master error failed to execute goal on project canal parse could not resolve dependencies project com alibaba otter canal parse jar snapshot failed to collect dependencies at com alibaba druid jar preview failed to read artifact descriptor com alibaba druid jar preview could not transfer artifact com alibaba druid pom preview from to alibaba http code alibabatech com mvn releases connect to code alibabatech com code alibabatech com failed connection refused help error error to see the full stack trace of the errors re run maven with the e error re run maven using the x to enable full debug logging error error more information about the errors and possible solutions please read the following articles error help http cwiki apache org confluence display maven dependency resolution exception druid master is heart beat alisql test heartbeat
379,考虑 事务 回滚 吗 文档 介绍 时有 这么 段 但是 代码 中 解析 时 考虑 并没有 考虑 请问 这样 做 原因 什么 呢 这里 这么 段 叙述 貌似 并不 会 记录 回滚 没 特别 清楚 呢 会 记录 提交 事务 会 记录 canal event mysql binlog xid event xid event generated a commit of a transaction that modifies one or more tables of an xa capable storage engine normal transactions are implemented by sending a query event containing a begin statement and a query event containing a commit statement or a rollback statement the transaction is rolled back canal query event begin commit rollback https dev mysql com doc refman en innodb and mysql replication html transactions that fail on the master not affect replication at all my sql replication is based on the binary log where my sql writes sql statements that modify data a transaction that fails example because of a foreign key violation or because it is rolled back is not written to the binary log binlog rollback binlog
378,配置 连接 暂时 支持 mysql ssl see title
377,类型 解析 如果 数据库 中 列 使用 类型 获得 乱码 请问 怎么 处理 数据库 里 处理 过 binary binary column get value binary hex column get value get bytes iso
376,指定 起始 位置 你们 现在 想要 启动 现有 全部 读取 所以 需要 指定 位置 但是 因为 权限 问题 无法 使用 语句 请问 没 什么 办法 自动 第一 文件 开始 呢 可能 比较 忙 说 使用 过 姿势 第一 开始 需要 保留 所有 文件 这个 不现实 过 方案 更新 时段 比如 凌晨 点 直接 全 量 导入 自动 获取 位点 就 数据 更新 时段 现在 一般 表 直接 指 定位点 增量 指定 位点 增量 可以 指定 表 或者 进行 部份 恢复 不过 玩意 有点 坑 指定 某些 表 恢复 简单 貌似 级别 恢复 需要 必须 空 点 直接 工具 抽 全 量 自动 获取 位点 最近 发现 这个 支持 全 量 增量 直接 导入 正在 研究 关于 权限 权限 玩意 找 运维 开 大不了 完了 收 回去 呗 或者 要 什么 一般 位点 全 量 导出 导入 操作 提供 拉取 都 要 开启 权限 这个 必须 参考 文档 嗯 确实 现实 决定 采用 直接 全 量 导入 自动 获取 位点 方案 感谢 回答 binlog canal binlog binlog show binary logs canal binlog dump agapple luyee agapple binlog mysqldump mydumper myloader xbackup db db db server datadir etl debezium https github com debezium debezium kafka dba dba binlog grant select replication slave replication client on to canal
375,分支 源码 编译 报错 分支 版本 升到 包名 发生 改变 但是 中 使用 地方 包名 并没 改 过来 导致 报错 版本 这个 版本 稳定 版本 回退 目前 都 依赖 master master netty x x netty org jboss netty io netty canal netty api netty netty netty
374,想要 放到 里面 现在 打印 异常 方法 使得 太 利于 收集 很多 异常 打印 直接 使用 自带 功能 就 可以 没有 必要 自己 显式 转换 使得 结合 更 容易 一点 to avoid use multiline exception directly canal docker canal docker fluentd log logback canal docker agapple cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
373,位置 存储 位置 哪里 连接 使用 如果 使用 数据 存储 meta bat meta bat canal service zookeeper spring xml classpath spring instance xml zookeeper
372,订阅 模式 数据 量 太 大 内存 撑 爆了 最佳 实践 订阅 模式 数据 量 太 大 内存 撑 爆了 最佳 实践 太 大 调整 服务 端 大小 canal canal canal canal batchsize ringbuffer
371,版本 应用 版本 冲突 什么 办法 兼容 吗 应用 方式 应用 用的 会报 办法 绕过 吗 自问 自答 应该 可以 解决 请问 去掉 依赖 别的 版本 会 出 莫名 奇妙 吗 请 问 去掉 依赖 别的 版本 会 出 莫名 奇妙 吗 会 功能 非常 少 spring canal client x spring canal spring boot java lang no such method error org springframework core annotation annotation aware order comparator sort exclusions liutaihua spring canal bug agapple spring canal bug canal spring
370,请 问 支持 定时 消费 吗 请 问 支持 定时 消费 吗 没有 定时 可以 canal canal rocketmq
369,消费 端 某个 时间 点 消 费 最新 版本 订阅 版本 发现 消费 端 运行 时刻 位点 时间戳 就 变化 而且 消费 端的 进程 并没有 挂掉 没有 发现 错误 日志 重新 启动 进程 不好使 必须 重新 置成 时间戳 删掉 里 位点 重新 消费 才 好使 盼 回复 谢谢 没 日志 允悲 阻塞 这么 解决 遇到 同样 问题 没有 日志 恼火 可以 确定 直接 问题 canal canal canal deployer mysql mariadb zk instance properties zk client server
367,关于 解析 位点 消费 位点 存储 未到 时间 数据 丢失 中 配置 周期性 输入 如果 未到 时间 挂掉 另外 备机 启动 读取 位点 落后于 最新 位点 因为 主 未 这样 会 造成 重复 读取 数据 怎么 办 分布式 高 可用 系统 可能 设计 做到 数据 重复 zk flush instance xml zk flush server server flush zk
366,吗 解析 错误 这个 问题 类似 如果 数据库 第一 条 记录 开始 读取 那么 解析 过程 中 可能 会 因为 解析 条 记录 时 记录 对应 表被 删掉 解析 过程 中 会 发送 条 对应 表 已经 删掉 这时候 就 会 抛出 这个 异常 导致 读取 无法 继续 下去 知道 或者是 通过 配置 方法 解决 没 阿里 大佬 出来 解答 一下 具体 日志 这样 什么 问题 解决 吗 现在 解决 可以 通过 配置 忽略 掉 这个 异常 这样 线程 就 可以 继续 运行 下去 遇到 这个 问题 请问 这个 哪个 地方 加 直接 添加 使用 只要 配置 中 设置 就 行 代码 大体上 这样 最后 时 可以 直接 配置 文件 配置 可以 直接 配置 文件 配置 牛逼 遇到 这个 问题 配置 文件 里面 加在 忽略 表 错误 谢谢 分享 直接 修改 配置 文件 忽略 异常 bug canal fetch failed by table meta scheme name table name canal binglog canal binlog binlog canal desc scheme name table name sql table meta get table meta string fullname io exception result set packet packet connection query desc fullname table meta fullname parser table meta packet binlog bug destination address event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position server id timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta expert bak tb zxj advice collect activity caused by com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta expert bak tb zxj advice collect activity at com google common collect map maker computing map adapter get map maker java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by com alibaba otter canal parse exception canal parse exception fetch failed by table meta expert bak tb zxj advice collect activity caused by java io io exception error packet error number field count message table expert bak tb zxj advice collect activity doesn t exist sql state s sql state marker with command desc expert bak tb zxj advice collect activity at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java at com google common collect computing concurrent hash map computing value reference compute computing concurrent hash map java at com google common collect computing concurrent hash map computing segment compute computing concurrent hash map java at com google common collect computing concurrent hash map computing segment get or compute computing concurrent hash map java at com google common collect computing concurrent hash map get or compute computing concurrent hash map java at com google common collect map maker computing map adapter get map maker java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java filter table error true instance filter table error true filter table error true liutizhong canal instance with manager canal parameter canal parameter parameter canal parameter parameter set filter table error true canal canal canal canal set canal parameter parameter canal instance canal instance with manager canal filter liutizhong canal instance filter table error true gmt yuxie notifications github com liutizhong https github com liutizhong canal instance filter table error true you are receiving because you commented reply to email directly view it on git hub https github com alibaba canal issues issuecomment or mute the thread https github com notifications unsubscribe auth awrzfy h qz z gz khxs dl ggwg kf dks s f sga jp zm oz tks otter canal instance filter table error true canal instance filter table error true
365,设置 成 但是 没有 配置 时候 成功 启动 设置 成 但是 没有 配置 时候 成功 启动 但是 做 动作 时候 由于 会 做 操作 这个 操作 会造 成空 指针 退出 由于 这个 空 指针 停止 心跳 线程 解析 线程 之后 启动 新 心跳 解析 线程 之前 所以 没法 继续 消息 版本 多少 heartbeat ha enable true standby mysql heartbeat ha enable true standby mysql mysql stop start parser canal dump
364,请问 这个 如何 解决 抓 最新 代码 进行 时候 提示 本来 就是 何来 先 根目录 maven update missing artifact com alibaba otter canal instance core jar snapshot master maven update missing artifact com alibaba otter canal instance core jar snapshot missing artifact com alibaba otter canal instance manager jar snapshot missing artifact com alibaba otter canal instance spring jar snapshot snapshot miss canal run mvn clean mvn install
363,计划 支持 类似 中 组 提交 类似 功能 升级 由于 主从 同步 性能 提高 主库 写入 限制 随之 降低 这样 带来 问题 就是 业务 写入 速度 加快 可能 会 快于 我们 收集 速度 这样 可能 无法 作到 实时 收集 计划 支持 提到 组 提交 吗 写入 之后 为准 不关心 组 提交 canal mysql mysql qps canal mysql canal binlog mysql
362,查看 源码 乱码 所有 包 通过 查看 源码 时 其中 文 注释 全部 乱码 能 解决 乱码 问题 吗 编码 maven jar maven utf
361,即使 设定 依然 客户端 获取 其他 数据库 增量 用来 过滤 数据 目前 无意义 参数 database name database name
360,运行 日志 请 关注 最后 行 可能 会 提前 执行 建议 优化 socket channel pool bug destination example address event parser debug io netty util net util djava net prefer i pv stack false destination example address event parser debug io netty util net util djava net prefer i pv addresses false destination example address event parser debug io netty util net util loopback lo software loopback destination example address event parser debug io netty util net util proc sys net core somaxconn non existent destination example address event parser debug io netty channel channel id dio netty machine id e auto detected destination example address event parser debug io netty util internal thread local random dio netty initial seed uniquifier xfe d b fdd b destination example address event parser debug io netty buffer buf util dio netty allocator type pooled destination example address event parser debug io netty buffer buf util dio netty thread local direct buffer size destination example address event parser debug io netty buffer buf util dio netty max thread local buffer size destination example address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to java socket channel open socket address address exception socket channel socket socket channel boot connect address add listener channel future listener override operation complete channel future arg exception arg is success socket set channel arg channel socket socket notify socket socket wait null socket get channel io exception can t create socket ch manager put socket get channel socket socket notify wait
359,关于 切主 问题 我们 这边 种 场景 主 两 主 但是 切主 的话 我们 切 域名 域名 不变 域名 挂 改变 种 情况 要 重启 需要 主从 位点 文件名 都 一样 需要 人肉 修改 从库 文件 名 位点 注意 要 保证 连接 新 确保 主库 写入 而且 同步 从库 才 能 切换 很多 细节 要 注意 新 版本 已经 支持 单 模式 会 记录 次 数据 库主 备 切换 时 会 判断 是否 相同 不同 会 自动 进行 位点 切换 请 问 非 情况 怎么 进行 自动 找到 正确 基于 时间戳 具体 什么 原理 呢 新 已经 旧 已经 不同 还是 保持 不变 问 新 已经 旧 已经 不同 怎么 能 确定 会 通过 备库 二 分 查 找到 对应 接近 事件 起始 位点 进行 备库 消费 这里 假定 主备 库 时间 同步 保证 会 相差 超过 秒 默认值 代码 主备 库 切换 根据 前 推了 这样 可能 会 重复 消费 是否 可以 消费 时候 记录 最新 主备 库 切换 时候 前推 通过 或者 找到 备库 最新 消费 确定 点位 然后 消费 这样 就 会 重复 消费 mysql mysql canal dump binlog ip canal mysql canal ip vip server id server id agapple gtid canal binlog file pos event master timestamp master evnet serverid master timestamp master log position timestmap binlog timestamp binlog ntp timestmap s entry s md hash entry entry
358,解析 错误 请问 种 错误 什么 办法 可以 解决 呢 谢谢 碰到 这个 错误 找到 原因 因为 解析 条 记录 时 记录 对应 表被 删掉 解析 过程 中 会 发送 条 语 对应 表 已经 删掉 这时候 就 会 抛出 这个 异常 但是 没 找到 如何 解决 这个 方法 知道 没 阿里 大佬 出来 解答 一下 试试 尝试 一下 最新版 启用 可以 解决 这个 问题 canal fetch failed by table meta test test com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta test test caused by com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta test test at com google common collect map maker computing map adapter get map maker java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na binlog binlog canal desc scheme name table name sql table meta get table meta string fullname io exception result set packet packet connection query desc fullname table meta fullname parser table meta packet bug canal conf canal instance filter black regex test tsdb
357,多 客户端 订阅 问题 请教 多 客户端 订阅 服务 其中 客户端 进行 取消 订阅 操作 其他 客户端 抛 异常 会 会 影响 其他 客户端 订阅 消息 接收 建议 只有 客户端 进行 消费 否则 数据 顺序 没法 保证 如果 客户端 能 自己 保证 顺序 消费 对于 多 客户端 订阅 服务 其中 客户端 调用 导致 其他 客户端 抛 异常 此时 会 影响 其他 客户端 订阅 消息 获取 吗 目前 会 影响 其他 客户端 实 测过 确实 影响 感谢 能 中 获取 数据 吗 可以 订阅 感谢 这个 群 能 加入 能否 拉 进去 呢 谢 群 已经 可以 加了 现在 使用 方式 先 写入 进行 消费 订阅 canal canal canal agapple agapple unsubscribe agapple agapple canal rds rds agapple qq npc sun redis
356,异常 求解 版本 不知道 这个 异常 什么 意思 求 大 神 帮忙 解答 求解 遇到 种 问题 升级 版本 修复 过 使用 最新 版本 报 这样 错误 请 问 什么 解决 办法 吗 canal com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql ha health check caused by com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql ha health check at com google common collect map maker computing map adapter get map maker java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na canal
355,数据库 大量 删除 时 解析 变慢 数据库 大量 删除 时 解析 变慢 之前 小时 可以 解析 万 大量 删除 小时 才 条 请 问 什么 可以 解决 方法 吗 谢谢 这个 类 问题 配置 如下 参数 提交 事务 时候 是否 提交 缓冲 值 会 主动 触发 日志 缓冲 写入 磁盘 默认 次 提交 事务 时候 同时 会 日志 缓冲 刷新 磁盘 次 提交 事务 时候 会 日志 缓冲 刷新 磁盘 但是 不是 同时 进行 而是 每秒钟 刷新 次 建议 配置 成 对 性能 影响 较大 可以 试试 这个 canal canal mysql innodb flush log at trx commit
354,启动 连接 数据库 连接 报错 信息 如上 知道 这个 问题 但是 配置 文件 没有 源码 没有 不知道 什么 原因 求助 万分 感谢 这个 肯定 自己 连接 问题 另外 别用 cancl main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure java net connect exception connection timed out at sun nio ch net connect method at sun nio ch net connect net java at sun nio ch net connect net java at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java
353,如何 配置 多个 数据库 表 请 问 如何 指定 订阅 数据库 若干 表 比如 订阅 库 表 表 翻翻 之前 正确 姿势 应该 写入 多个 库 配置 多个 canal canal oschina order oschina user user issue client filter see https github com alibaba canal issues canal server instance
352,报错 大数 量 批量 插入 类似 条 记录 报错 报告 一下 版本 这边 这个 问题 先 测试 一下 版本 试试 测试 过 就 没有 问题 canal read q flags code error limit excceed select into sql w canal pid nid exception canal canal master java io io exception read q flags code error limit excceed at com taobao tddl dbsync binlog event query log event unpack variables query log event java at com taobao tddl dbsync binlog event query log event query log event java at com taobao tddl dbsync binlog log decoder decode log decoder java at com taobao tddl dbsync binlog log decoder decode log decoder java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get uint log buffer java at com taobao tddl dbsync binlog event query log event unpack variables query log event java more mysql canal canal mysql log jwcjlu
351,指 什么 试 阻塞 发现 更新 很多 次 时候 才 会 打印 但是 设置 点 不太 明白 到底 指 什么 以为 次 修改 目前 应该 打印 日志 麻烦 端 设置 这个 参数 作用 控制 每次 端 中 数据 这个 并不 等于 数据库 次 修改 因为 上面 次 这个 什么 情况 才 会 条 数据 啊 啊 明白 具体 作用 设置 时候 次 拉取 里面 多 刚好 超过 这个 大小 合适 记录 数 嗯 嗯 谢谢 batch size get without ack example batch size batch size batch id count memsize time start mysql bin end mysql bin batch size client server store get size entries server batch size batch size message entry batch size message agapple
350,解析 类型 出错 中 提到 问题 一致 版本 如下 字段 值 共 可以 正常 插入 但是 解析 这个 出错 中 提到 问题 一致 如下 字段 值 共 可以 正常 插入 但是 解析 这个 出错 尽快 修复 一下 应该 难 已经 试着 修复 应该 获取 值长 度 时候 导致 应该 canal json mysql sql a a a sql insert into canal json test j json values s a json a a a a mysql canal sql a a a sql insert into canal json test j json values s a json a a a a mysql canal json get unit get unit
349,关于 解析 中 类型 一些 疑问 部分 解析 类型 代码 其中 不理解 这里 为什么 要 回退 这里 为什么 望 大 神 解答 啊 mysql json log event mysql type json len buffer get uint buffer forward meta position buffer position json conversion json value json value json conversion parse value buffer get uint buffer len charset name string builder builder string builder json value to json string builder charset name value builder to string buffer position position len binary len buffer fill bytes binary len value binary java type types varchar length len json buffer forward meta json conversion json value json value json conversion parse value buffer get uint buffer len charset name len agapple
348,停用 月 重新 启用 报错 停用 月 重新 启用 报错 找 之前 解析 文件 位置 请 问 找 原来 解析 过 文件 位置 时 能 最新 位置 开始 解析 吗 谢谢 指定 位点 能 要 最新 开始 消费 直接 删除 位点 试试 或者 指定 位点 就 最新 开始 没有 指定 位点 请 问 如何 删除 位点 谢谢 那个 问题 应该 清理 掉 之前 文件 然后 导致 找 位点 解析 问题 指定 位点 就 会 指定 应该 最新 开始 消费 嗯 嗯 谢谢 修改 位点 能 修改 里 存放 数据 呀 canal server canal server canal destination xxx address event parser error com alibaba otter canal common alarm log alarm handler destination xxx java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java binlog binlog zookeeper offset
347,使用 出现 中文 乱码 具体 乱码 部分 这样 因为 一些 业务 敏感 字段 所以 码 见谅 找到 问题 问题 原因 什么 呢 遇到 类似 问题 记 太 清楚 好像 我们 版本 太低 还是 什么 再想想 mysql utf mb image https user images githubusercontent com c fade e cef de b b png canal druid
346,设置 时候 报 空 应该 去掉 方法 提交 event parser parse thread set name parse thread set name string format destination s address s event parser destination running info null null running info get address to string to string
345,为什么 获取 空 语句 模式 行 记录 很多 这样 数据 都 新 版本 已经 通过 解析 工具 完整 提取 里 记录 canal table name schema name header version logfile name mysql bin logfile offset server id serveren code utf execute time source type mysql schema name table name event length event type query entry type rowdata store value a z insert into productinfotemp sys id price reality price sku count name code sale date status values eab d a c b b c fd d fb e query row insert update info yike canal canal client test print entry canal client test java binlog mysql bin name xmall event type update execute time delay ms info yike canal canal client test print entry canal client test java binlog mysql bin name xmall event type insert execute time delay ms info yike canal canal client test print summary canal client test java canal sql table name schema name binlog
344,如何 注册 事件 都 关心 需要 发送 客户端 如何 注册 事件 都 关心 需要 发送 客户端 canal insert update delete select canal insert update delete select event type event type delete event type select event type update
343,如果 过滤 掉了 就 会 发生 变化 补充 字段名 就 会 发生 错乱 先 合并 近期 会 对 做 比较 大 调整 支持 下表 结构 版本 归档 存储 解决 删列 删表 问题 bugfix when filterqueryddl ddl meta cache cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark toruneko br x jianhao dai br hr jianhao dai seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks ps meta cache
342,怎样 才 能 数据 同步 从库 本人 新手 问题 想 请教 各位 环境 问题 客户端 已经 运行 成功 能 捕获 主 数据 二进制 文件 但是 怎样 二进制 文件 还原 成 从库 数据 理解 需要 自己 解析 读到 然后 转成 从库 中 执行 并没有 提供 数据 存储 现成 v mysql entry sql canal otter db db
341,挂 重 启 同步 停止 运行 中 知 什么 原因 挂 然后 开始 报 连 错误 于是 然后 重 启 重启 发现 这个 地方 卡住 直 获取 不到 所以 同步 就 卡住 经 检查 主库 日志 发瑞 已经 到了 中 获取 日志 已经 差 日志 没有 同步 后来 发现 同步 段 时间 就 会 停住 过 段 时间 会 继续 同步 然后 周而复始 卡主 异常 原因 要 看看 是否 表 结构 删除 性质 导致 zookeeper canal server canal zookeeper canal server zookeeper stop canal server zookeeper canal server canal client canal client get without ack message binlog canal server zookeeper binlog cannal
339,过 大 并不 会 对 性能 大 帮助 哦 建议 控制 基本 就 几万 the max size of buffer must not more than g buffer buffer size buffer mem unit g than buffer size buffer mem unit max length of cause endless loop in memory event store with buffer put check free slot at so that the max size of buffer g why not use type buffer size buffer size buffer size tps
338,数据 空 版本 开启 类型 解析 文件 事件 类型 都 事件 类型 请问 什么 原因 配置 内存 文件 就 数据 使用 方式 数据 row chage get row datas list mysql binlog row event type query update insert canal zk servers canal instance global spring xml file instance xml canal instance global spring xml instance xml ha
337,模式 如何 获取 语句 请问 一下 模式 怎么 获取 语句 mixed sql mixed sql
336,异步 时候 线程 出现 空 指针 异常 线程 阻塞 是否 设置 有关 端 线程 出现 空 指针 异常 线程 阻塞 端 出现 尝试 一下 新 版本 ack ack get mutex ring buffer size client ack get mutex sync thread prio os prio tid x fc f nid x waiting on condition x fc java lang thread state waiting parking at sun misc unsafe park method parking to wait x ee df a com alibaba otter canal common utils mutex sync at java util concurrent locks lock support park lock support java at java util concurrent locks queued synchronizer park and check interrupt queued synchronizer java at java util concurrent locks queued synchronizer acquire shared interruptibly queued synchronizer java at java util concurrent locks queued synchronizer acquire shared interruptibly queued synchronizer java at com alibaba otter canal common utils mutex sync inner get mutex java at com alibaba otter canal common utils mutex get mutex java at com alibaba otter canal client impl simple canal connector wait client running simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at com dfire obd core launcher sync thread run launcher java server error com alibaba otter canal server netty netty utils i o server worker errot code caused by something goes wrong with channel id x ce c exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check canal
335,太 多 影响 性能 怎么 办 因为 可能 很多 能 实现 部署 多 套 主备 吗 可以 将 分散 多台 中 canal sever instance instance canal instance server
334,针对 使用 取代 实现 优化 取代 读写 直接 采用 取代 之前 转 修改 方法 调整 相关 引用 至于 使用 可以 进行 这里 没有 提交 影响 验证 一下 netty jdk socketchannel socket channel wait time wait notify buff packet manager jboss netty exclude cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark agapple br x luoyaogui br hr luoyaogui seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
333,异常 网络 连接 导致 无法 关闭 现实 运用 中 出现 已经 存在 端 连接 仍然 存活 状态 种 网络 异常 状态 时 会 一直 住 原因 异常 网络 连接 由于 无数 传输 导致 线程 一直 无法 退出 解决 方案 设置 监控 设置 机制 定时 检测 主动 时间 单位 次 新 创建 时 存储 容器 内 时 容器 内 主动 释放 所有 fix bug canal server client server stop canal server hang io worker loop selector keepalive os netty idle close socket fix bug socket channel stop canal server socket channel cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr jason huang seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
332,方式 掉 进程 能 切换 方式 时 手工 掉 正在 运行 进程 客户端 程序 能 切换 查看 已经 服务 已经 切换 请问 什么 回 事 呢 谢谢 正常 关闭 服务 时 程序 可以 切换 服务 一直 都 打印 这样 语句 这个 输出 忽略吧 ha kill hi ha kiil zookeeper debug org apache zookeeper client cnxn got ping response sessionid x ca b d e after ms debug
331,没有 做 过多 改动 发现 原 包里 提供 自己 实现 很多 代码 重叠 由于 太 清楚 部分 代码 历史 所以 简单 继承 还是 留给 维护者 自己 决定 这里 代码 去留 第一 还是 修改 之后 提了 第二 目前 测试 没有 问题 次 发版 什么 时候 update zkclient to zkclient zk connection canal zoo keeperx zk connection canal agapple update commit bug commit cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks agapple
330,解析 问题 版本 写入 数据 解析 失败 另外 如果 中 包含 双引号 解析 之后 丢失 转义 符号 提供 一下 测试 两 问题 第一 问题 没 找到 出 问题 第二 已经 解析 并且 可以 拿到 数据 查 回来 这样 取出 如图 变成 找到 导致 大概 字节 就 补贴 出来 会 会 因为 太 大 导致 长度 计算 错误 找到 导致 大概 字节 就 补贴 出来 会 会 因为 太 大 导致 长度 计算 错误 这个 问题 怎么 解决 最后 我们 没有 改 方案 遇到 同样 问题 求解 尽快 修复 一下 应该 难 技术 专家 您好 问题 请教 一下 最近 我们 项目 改造 数据库 切换 用到 类型 字段 版本 升级 才能 支持 想 问 一下 升级 是否 支持 类型 字段 向前 兼容 支持 解析 没 想到 这么 快 就 回复 谢谢 大咖 my sql json canal my sql json canal destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception illegal json data at com taobao tddl dbsync binlog json conversion parse array or object json conversion java at com taobao tddl dbsync binlog json conversion parse value json conversion java at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java at com alibaba otter canal parse inbound mysql dbsync log event convert parse one row log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java json canal image https user images githubusercontent com e f ba e c a de ddc af png sql sql canal canal client field type null key extra id no pri null dt timestamp no current timestamp json json yes null aa varchar yes null insert into t id json aa values test aa aa a id dt json aa test aa aa a canal client json test aa aa illegal json data sql json json bytes len illegal json data sql json json bytes len toruneko lan json agapple postgresql mysql json mysql canal v json canal json agapple
329,同步 报错 情况 可以 跳过 这个 错误么 测试 同步 报错 时候 会 一直 重复 执行 这个 导致 位置 停止 假如 由于 手 误 导致 条 比如 表 不存在 种 就 会 导致 停滞 请问 大 神有 跳过 同步 错误 方法 目前 能 重置 一下 位点 后续 可以 考虑 增加 变更 能力 支持 canal canal sql sql position binlog sql canal ddl
328,对 支持 吗 对 支持 吗 谢谢 可以 除了 对象 支持 会 部分 缺陷 当前 主干 修复 对象 过大 解析 问题 canal my sql canal my sql json json
327,最近 会 莫名 挂掉 没有 任何 日志 种 配置 四 莫名 挂掉 之后 所有 就 开始 疯狂 刷 这样 错误 然后 机器 负载 就 飙到 特别高 请问 大 神 遇到 过 类似 问题 canal server canal server destination canal client thread error com alibaba otter canal example canal client test process error com alibaba otter canal protocol exception canal client exception failed to subscribe with reason something goes wrong with channel id x e exception com alibaba otter canal server exception canal server exception destination should start first
326,如果 要 同步 好几 不同 地址 数据库 数据 要 多个 没 关系 一对一 正解 canal server canal client canal server canalclient destination otter canal ls
325,能否 直接 接入 直接 发送 消息 通过 希望 通过 直接 改造 直接 接入 公司 消息 队列 直接 通过 消息 负载 集群 节点 仅 需要 服务 端 就 行 种 应该 如何 做 呢 可以 支持 全 量 增量 canal server mq canal client canal server binlog canal maxwell https github com zendesk maxwell debezium https github com debezium debezium
324,升级 希望 升级 优点 版本 里 方便 我们 打开 调试 一些 缺点 对 一些 接口 增加 一些 方法 要 适当 做些 调整 如果 方便 提交 升级 的话 会 遇到 问题 提交 请 一下 zkclient agapple zkclient from log j to slf j debug log bug fix canal pr pr review agapple
323,模式 连接 过慢 前提 集群 搭建 没有 问题 直接 连接 速度 快 模式 快 但是 非常 慢 有时候 需要 重启 两 次 才 能 正常 连接 查看 发生 问题 什么 办法 可以 解决 基于 集群 模式 启动 次 异常 退出 时 尽量 使用 平滑 退出 要 正确 调用 cluster canal connector zookeeper canal java zk simple canal connector connector canal connectors cluster connector es batch size empty count system out println start connect connector connect system out println connect successed connector subscribe system out println subscribeed connector subscribe debug subscribe string filter canal client exception wait client running zookeeper kill disconnect
322,怎么 容器 里面 启动 服务 端 怎么 容器 里面 启动 服务 端 求 指导 方便 简单 方式 docker canal docker canal
321,指定 位点 启动 出错 版本 问题 本身 支持 指定 位点 开始 解析 但是 解析 时 会报 源码 对 这个 异常 进行 处理 但是 实际上 抛出 异常 导致 捕捉 并不 成功 截 图 抛出 类型 才 canal table id not found exception canal parse exception rtx https user images githubusercontent com f e d f jpg exception canal parse exception cause table id not found exception
320,关于 解析 位点 消费 位点 真 好用 谢谢 你们 付出 但是 发现 问题 知道 真的 问题 场景 都 运行 中 此时 数据库 变更 很多 数据 假设 十万 现在 假设 已经 解析 完 位点 处于 最新 位置 消费 慢 消费 一万 条 数据 此时 如果 挂 然后 重新 启动 读取 解析 位点 最新 位置 此时 数据 只有 最新 没 消费 完 此时 获取 数据 就 获取 九万 条 没 消费 数据 贴 这个 取 解析 位点 吗 然后 呢 重启 从上 次 读取 位点 开始 位置 信息 存放 文件 中 文件 内容 类似 其中 位置 字段 可能 会 存在 这样 问题 长 时间 没有 更新 位置 停机 长期 消费 服务器 由于 某种 原因 清除 之前 文件 会 导致 读取 异常 需要 重新 定位 位置 指定 位置 读取 知道 重 启 会 次 位点 开始 读取 问题 如果 解析 位点 消费 位点 后面 很多 时候 挂 重 启 之后 那些 未 消费 数据 已经 里 吗 因为 目前 只有 基于 内存 版 实现 重启 之后 那些 原来 存在 内存 里 未 消费 已经 没 次 获取 都 要 指定 起始 位置 开始 所以 贴 解析 起始 位点 代码 大概 次 启动 都会 上次 客户端 消费 如果 获取 所以 即使 获取 条 记录 消费 条 挂 如果 成功 更新 条 记录 次 开始 消费 如果 没有 成功 应该 从头 开始 消费 就 会 重复 至于 说 消费 不到 除非 都没 配置 就是 最近 开始 消费 理解 正确 canal canal server client parser binlog client server zk binlog server binlog client client https github com alibaba canal blob master parse src main java com alibaba otter canal parse inbound mysql mysql event parser java l https github com alibaba canal blob master parse src main java com alibaba otter canal parse inbound mysql mysql event parser java l luyee xzhhh canal binlog conf instance meta dat client datas client identity client id destination example db filter cursor identity slave id source address address port postion included false journal name mysql bin position server id timestamp destination trc account db binlog position server binlog mysql binlog binlog mfkugergvh canal canal canal event store event mysql binlog canal server ack positon mysql binlog canal server w canal client canal server ack ack journalname postion timestamp mysql binlog show master status ls
319,描述 网络 其他 情况 关闭 连接 未 收到 包 连接 将 长时间 处于 半 连接 状态 原因 中 设置 生效 改用 读取 见 参数 没 看到 层面 进行 设置 设置 但是 没有 效果 需要 改用 处理 确认 都 提交 全 了么 感觉 改动 代码 之间 替换 貌似 没 提交 fixbug so timeout doesn t work server client fin socket chanal timeout socket http bugs java com bugdatabase view bug bug id cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla so timeout client agapple socket client server mysql so timeout socket tks hi thanks the commit i have met the same issue but it happens between canal server instance and mysql replication master any plan to fix it thanks mailzyok
318,报错 启动 两 台 相当于 主从 台 挂 会 自动 切换 台 运行 中 出现 如下 异常 这个 中 发现 执行 过程 中 停掉 然后 就 一直 会 这个 问题 重启 启动 还是 那里 一直 报错 会 选择 新 重 连 具体 问题 调试 中 调试 一下 因为 自己 用法 导致 我把 创建 放到 里面 注意 下面 这里 会 抛出 所以 抛出 异常 时候 记得 要 捕获 一下 然后 掉 知道 一样 问题 希望 对 有帮助 碰到 过 种 情况 而且 检查 连接 时 发现 很多 事 状态 最后 通过 异常 然后 解决 canal example something goes wrong when get without ack data from server null canal example thread warn c alibaba otter canal client impl cluster canal connector something goes wrong when get without ack data from server null com alibaba otter canal protocol exception canal client exception java nio channels asynchronous close exception at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at com alibaba otter canal example canal client test process canal client test java at com alibaba otter canal example canal client test run canal client test java at java lang thread run thread java caused by java nio channels asynchronous close exception at java nio channels spi interruptible channel end interruptible channel java at sun nio ch socket channel impl read socket channel impl java at com alibaba otter canal client impl simple canal connector read simple canal connector java at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java more zk client event thread error c a otter canal client impl running client running monitor there is an error when execute init running method with destination example com alibaba otter canal protocol exception canal client exception java nio channels closed channel exception at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector access simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector process active enter simple canal connector java canal client jar na at com alibaba otter canal client impl running client running monitor process active enter client running monitor java canal client jar na at com alibaba otter canal client impl running client running monitor init running client running monitor java canal client jar na at com alibaba otter canal client impl running client running monitor handle data deleted client running monitor java canal client jar na at org i itec zkclient zk client run zk client java zkclient jar na at org i itec zkclient zk event thread run zk event thread java zkclient jar na caused by java nio channels closed channel exception null at sun nio ch socket channel impl ensure read open socket channel impl java na at sun nio ch socket channel impl read socket channel impl java na at com alibaba otter canal client impl simple canal connector read simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na common frames omitted zk client event thread warn c a otter canal client impl running client running monitor canal is not run any in node thread info c alibaba otter canal client impl cluster canal connector restart the connector next round retry main send thread info org apache zookeeper client cnxn unable to read additional data from server sessionid x c dad dc likely server has closed socket closing socket connection and attempting reconnect main send thread info org apache zookeeper client cnxn opening socket connection to server will not attempt to authenticate using sasl unknown error main send thread info org apache zookeeper client cnxn socket connection established to initiating session main send thread warn org apache zookeeper client cnxn session x c dad dc server unexpected error closing socket connection and attempting reconnect java io io exception broken pipe at sun nio ch file dispatcher impl write method na at sun nio ch socket dispatcher write socket dispatcher java na at sun nio ch io util write from buffer io util java na at sun nio ch io util write io util java na at sun nio ch socket channel impl write socket channel impl java na at org apache zookeeper client cnxn socket nio io client cnxn socket nio java zookeeper jar at org apache zookeeper client cnxn socket nio transport client cnxn socket nio java zookeeper jar at org apache zookeeper client cnxn send thread run client cnxn java zookeeper jar canal server canal client canal server canal client server agapple cluster client pool code canal connector connector canal connectors cluster connector connection path destination connector connect connector subscribe canal client exception runtime exception connect disconnect connector connect connector subscribe throwable t logger error failed to connect to canal server t connector disconnect t xuliangyong alexandnpu tcp close wait disconnect
317,配置 文件 移动 目录 需要 修改 哪些 内容 你好 请问 想 目录 配置 文件 移动 其它 目录 需要 修改 哪些 内容 呢 谢谢 关注 conf instance properties
316,连接 失败 具体 版本 my sql exception in thread main com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x ac c a exception java lang null pointer exception at com alibaba otter canal store memory memory event store with buffer calculate size memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java at com alibaba otter canal store memory memory event store with buffer get memory event store with buffer java at com alibaba otter canal server embedded canal server with embedded get events canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server embedded canal server with embedded get without ack canal server with embedded java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel simple channel handler message received simple channel handler java at org jboss netty channel simple channel handler handle upstream simple channel handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline channel handler context send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel simple channel upstream handler handle upstream simple channel upstream handler java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channel pipeline send upstream channel pipeline java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at org jboss netty util thread renaming runnable run thread renaming runnable java at org jboss netty util internal dead lock proof worker run dead lock proof worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java
315,可以 做 集群 负载 均衡 方式 吗 请 问 可以 做 集群 负载 均衡 方式 吗 是否 能 例子 简单 说明 一下 谢谢 说 应该 方式 但是 想 实现 比如 节点 负载 太 多 然后 就 会 自动 分配 节点 运行 可以 吗 谢谢 不支持 其实 模式 关于 高 用的 问题 谢谢 canal client canal client client running monitor server running monitors maybe useful ha lb standby see canal https github com alibaba canal issues
314,服务器 运行着 运行 就 发现 抛出 提示 连接 异常 请 问 这个 部分 出 问题 环境 问题 自行 排查 client running monitor connect exception cent os connect exception error zk client event thread c a o c client impl running client running monitor there is an error when execute init running method with destination db com alibaba otter canal protocol exception canal client exception java net connect exception connection timed out at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector access simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector process active enter simple canal connector java canal client jar na at com alibaba otter canal client impl running client running monitor process active enter client running monitor java canal client jar na at com alibaba otter canal client impl running client running monitor init running client running monitor java canal client jar na
313,可以 列表 进行 连接 吗 服务器 可以 配置 多个 实例 列表 连接 时 支持 单个 实例 为什么 支持 多个 参数 为什么 能 配置 参数 一样 支持 多个 比如 好像 文档 说 支持 单 这样 话 假设 需要 部署 至少 介绍 主要 针对 需要 进行 多 库 合并 时 可以 将 多个 物理 合并 逻辑 提供 客户端 访问 场景 分库 业务 比如 产品 数据 拆分 库 库 会 如果 不用 业务 要 消费 数据 时 需要 启动 客户端 分别 链接 实例 使用 可以 合并 逻辑 需要 启动 客户端 链接 这个 逻辑 即可 instance canal destinations example example string destination example connector canal connectors cluster connector addresses destination username password connector canal connectors single connector inet socket address ip port destination username password destination destination example example client instance liyong instance client group instance xml instance instance instance group instance group canal server instance instance
312,对 支持 吗 版本 版本 对 以上 版本 支持 目前 已知 对 类型 转义 字符 一些 其余 暂 没 反馈 问题 这边 版本 里面 但是 对 数据表 做 更新 一直 收 数据 检查 配置 是否 正确 检查 是否 开启 如果 都 没有 问题 无法 监控 数据表 变化 遇到 过 这样 情况 载 干净 版本 然后 进行 配置 配置 地址 端口 以及 不要 使用 就 可以 谢谢 回复 现在 问题 上面 做 测试 启动 用作 测试 环境 担心 做 注册 时候 使用 虚拟机 这个 发送 找 这个 不用 担心 因为 服务 端口 一定 即使 借用 虚拟机 同样 问题 版本 版本 请问 支持 吗 可以 如果 不行 配置 自己 要 样本 删除 日志 数据 记录 安装 目录 canal my sql canal my sql mysql json bug mysql ver distrib osx x using edit line wrapper log subscribe successfully client identity destination task client id filter with first position null mysql canal alexandnpu canal my sql binlong canal my sql destination example kervin mac vagrant canal mysql slave ip mysql ip binglog alexandnpu canal ip canal my sql canal shijiebei destination canal
311,怎么 监听 数据库 假如 中 多 数据库 监听 数据库 怎么 配置 假如 可以 的话 怎么 库下 配置 张 表 怎么 使用 配置 文件 里 设置 里 配置 选项 这个 白 名单 监听 数据库 监控 库里 表 多 的话 逗号 隔开 但是 注意 这个 配置 无效 必须 客户端 方法 里 配置 因为 会 覆盖 这个 黑名单 排除 库 表 配置 同上 这个 配置 有效 具体 配置 示例 参照 源码 目录 里 部分 这个 配置 项 无效 配 不配 没有 关系 canal mysql test canal instance database name conf example instance properties canal instance filter regex test test test test test test subscribe canal instance filter black regex filter canal instance database name
310,同步 时候 有些 没有 同步 过来 使用 集群 模式 同步 数据库 数据 更新 同志 同步 过来 但是 自己 修改 数据库 数据 确 没有 同步 过来 知道 情况 关注 一下 操作 是否 生成 嗯 问题 同步 位点 太 前 一直 以为 没有 同步 过来 非常 感谢 canal binlog binlog binlog
309,error parse event has an error last position mysql bin java lang null pointer exception null destination example address event parser info c a otter canal parse inbound mysql mysql connection com binlog dump with position binlog dump command packet binlog position slave server id binlog file name mysql bin command destination example address event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position mysql bin java lang null pointer exception null at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java lang null pointer exception caused by java lang null pointer exception null at com alibaba otter canal parse inbound event parser sink event parser java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java lang null pointer exception caused by java lang null pointer exception at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to destination example address event parser info c alibaba otter canal pars show binlog events mysql bin xid commit xid
308,配置 文件 中 怎么 没有 配置 文件 中 怎么 没有 canal properties canal properties
307,例子 中 取到 语句 为什么 乱码 看了 底层 实现 先 回转 成 编码 但是 取 出来 还是 乱码 客户端 编码 造成 这个 问题 解决 吗 什么 原因 现在 遇到 类似 问题 client ddl sql utf mysql utf https github com alibaba canal issues
306,怎么 解析 类型 怎么 解析 类型 都 能 自己 转 时间 类型 范围 会 对象 定义 要 大 所以 用了 泛类型 提供 多 种 类型 通用 转换 函数 没有 化 可以 看看 项目 里 date date client string java type mysql java date string canal jdbc jdbc otter com alibaba otter node etl common db utils sql utils java
305,报错 目标 数据库 正式 业务 环境 数据库 之前 测试 环境 源 目的 都 时 成功 换 正式 业务 环境 时报 错 清空 一下 位点 或者 设置 存在 位点 canal mysql can t find start position pid nid exception canal ctsdb canal master com alibaba otter canal parse exception canal parse exception can t find start position ctsdb canal master mysql community server mysql mysql community server mysql canal deployer node deployer manager deployer zookeeper aria can t find start position ctsdb canal master
304,支持 两 里 支持 吗 调用 两 次 就 支持 两 canal destinations canal connectors cluster connector destinations rt canal connectors cluster connector
303,段 时间 没有 拉 直 报错 疑问 收到 最后 请求 日志 就 日志 两 疑问 中间 两 小时 为什么 没有 拉 报错 像是 找不到 文件 这个 错误 什么 经验 能 分享 吗 下面 昨晚 日志 会 会 段 时间 数据库 连接 异常 中间 没有 日志 代表 没有 拉取 啊 binlog binlog binlog binlog i o server worker info c a otter canal server embedded canal server with embedded ack successfully client id batch id position position range start log position identity log identity source address x y slave id postion entry position included false journal name mysql bin position server id timestamp ack log position identity log identity source address x slave id postion entry position included false journal name mysql bin position server id timestamp end log position identity log identity source address x slave id postion entry position included false journal name mysql bin position server id timestamp destination db address x y event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception connection timed out at sun nio ch file dispatcher impl read method na at sun nio ch socket dispatcher read socket dispatcher java na at sun nio ch io util read into buffer io util java na at sun nio ch io util read io util java na at sun nio ch socket channel impl read socket channel impl java na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination db address x y event parser error c a otter canal parse inbound mysql mysql event parser dump address x y has an error retrying caused by java io io exception connection timed out at sun nio ch file dispatcher impl read method na at sun nio ch socket dispatcher read socket dispatcher java na at sun nio ch io util read into buffer io util java na at sun nio ch io util read io util java na at sun nio ch socket channel impl read socket channel impl java na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na destination db address mangoerpdb mysql rds aliyuncs com event parser error c a otter canal parse inbound mysql mysql event parser dump address mangoerpdb mysql rds aliyuncs com has an error retrying caused by java io io exception connection timed out binlog
302,从库 中 同步 数据 怎么 解析 手上 两 台 台 作为 台 作为 想 接到 但是 机器 为了 机器 同步 产生 命名 种 情况 如何 机器 对接 呢 官方 文档 中 只有 对接 种 命名 方式 配置 地方 可以 自己 调整 看看 下面 段 话 对 没 帮助 配置 类似 同样 需要 重启 如下 必须 而且 唯一 没有 必要 开启 二进制 日志 但是 一些 情况 必须 设置 例如 如果 其它 必须 设置 这里 我们 开启 二进制 日志 而且 显示 命名 默认 名称 但是 如果 改变 会 出现 问题 配置 中继 日志 表示 将 复制 事件 写进 自己 二进制 日志 后面 会 看到 用处 有些 开启 二进制 日志 没有 设置 然后 查看 数据 是否 改变 种 错误 配置 所以 尽量 使用 防止 改变 数据 除了 特殊 线程 但是 实用 特别是 那些 需要 创建 表 应用 模拟 主从 中 同步 相对于 来说 就是 解析 中 二进制 文件 多谢 大家 搞定 请问 怎么 搞 定的 mysql mysql master slave canal slave slave master hostname relay bin log canal slave mysql bin slave master slave my sql log bin mysql bin server id relay log mysql relay bin log slave updates read only server id slave slave slave master bin log hostname hostname relay log log slave updates slave slave log slave updates slave read only read only slave canal my sql slave slave canal master slave
301,无法 使用 问题 吗 参考 应该 类似 stop sh distributor id ubuntu description ubuntu lts release codename xenial stop sh unexpected operator e xiaojie virtual box stopping canal stop sh unexpected operator stop sh stop sh let not found stop sh unexpected operator stop sh stop sh let not found stop sh unexpected operator stop sh stop sh let not found https github com alibaba canal issues
299,日志 异常 求 解决 办法 日志 错误 信息 题库 网络 断开 了吧 重试 一下 就好 data type db batch pid nid exception setl load miss data with keys memory pipe key identity identity channel id pipeline id process id time data type db batch pid nid exception canal canal java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java connection reset by peer mysql
298,脚本 错误 环境 中 执行 启动 命令 时报 下面 错误 可以 推测 脚本 错误 环境 不同 尝试 调整 脚本 可以 提交 startup sh linux startup sh root localhost bin sh startup sh command not found tartup sh line syntax error near unexpected token in tartup sh line uname in root localhost bin shell pr set ff unix
297,发生 网络 抖动 会 卡住 能 自动 恢复 问题 描述 发生 网络 抖动 时 会 卡住 网络 恢复 正常 能 自动 恢复 正常 需要 手动 重 启 才 能 恢复 心跳 检查 开启 异常 栈 如下 除此之外 没有 其它 异常 信息 遇到 种 情况 要么 链接 异常 断开 没有 感知 代码 中 异常 应该 能 捕捉 捕捉 异常 会 重 连 重试 但是 这里 没有 重试 说 没有 感知 是指 异常 没有 捕捉 吗 应该 一直 阻塞 在读 操作 没有 感知 异常 今天 遇到 种 情况 而且 默认 秒 网络 不稳定 情况 更 拖 慢 消费 知道 这里 秒 什么 讲究 我的栈 好像 太 样 这个 栈我 遇到 过 那个 没 什么 因为 这个 设置 对于 没有 作用 产生 这个 问题 应该 网络 出现 故障 解析 线程 一直 没有 感知 故障 我们 可能 需要 类似 超时 重 连 功能 当前 版本 已经 提供 可以 关注 相关 吗 别人 提交 主要 基于 改造 增加 超时 读取 可以 关注 一下 代码 里 回头 找找 只是 觉得 能 提供 号 或者 会 更 容易 一些 canalserver canalserver canalserver instance destination xxxx address xxxx heart beat time task warn c a otter canal parse inbound mysql mysql event parser connect failed by java io io exception connection reset by peer at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java at com alibaba otter canal parse driver mysql utils packet manager read bytes as buffer packet manager java at com alibaba otter canal parse driver mysql utils packet manager read header packet manager java at com alibaba otter canal parse driver mysql mysql query executor read next packet mysql query executor java at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser mysql detecting time task run mysql event parser java at java util timer thread main loop timer java at java util timer thread run timer java agapple mysql binlogdump tcp canal canal socket lan sotimeout binlog agapple canal destination xxxxx address xxxxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception connection reset by peer at sun nio ch file dispatcher impl read method na at sun nio ch socket dispatcher read socket dispatcher java na at sun nio ch io util read into buffer io util java na at sun nio ch io util read io util java na at sun nio ch socket channel impl read socket channel impl java na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na sotimeout s nio canal read sotimeout alexandnpu master agapple pr mr netty socket channel pr commit id https github com alibaba canal pull thanks
296,单 情况 断开 重连 时 导致 无法 执行 问题 方法 举例 连接 断开 网络 原因 停止 时 抛出 异常 进入 方法 调用 方法 依然 连接 失败 时 会 将 置 超过 重试 次数 抛出 此时 再次 尝试 调用 方法 时 抛出 然后 住 打印 日志 时候 使用 会 抛出 从而 导致 方法 无法 执行 恢复 由于 相同 原因 客户端 依然 无法 连接 版本 并没有 对 这个 问题 做 修改 请问 出于 什么 考虑 估计 遗漏 server cluster canal connector server null point exception restart get without ack java times retry times message msg current connector get without ack batch size msg throwable t logger warn something goes wrong when get without ack data from server n current connector get address exception utils get full stack trace t times restart logger info restart the connector next round retry server server current connector get without ack restart connect current connector null exception get without ack current connector null current connector get without ack null potion exception logger warn current connector null potion exception restart server server snapshot get without ack
295,客户端 服务 端 基于 跑 段 时间 挂 直接 重启 无效 必须 要 里 相关 节点 都 删除 重 启 服务 端 客户端 才 可以 正常 运行 还有 开启 模式 为了 测试 运行 服务 端 看下 内存 情况 canal zookeeper zookeeper canal canal ha canal
294,运行 提示 环境 机器侠 监听 远程 机器 机器 使用 报错 版本 冲突 exception in thread main java lang unsupported operation exception is supposed to be overridden by subclasses client sample is supposed to be overridden by subclasses canal server linux linux mysql binlog win client sample protobuf
293,fix bug of repeat log manager cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr yinxiu seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
292,怎么 中 启动 怎么 中 启动 问题 解决 docker canal server docker canal server
291,重构 适配 配置 修改 内容 主要 使用 组合 方式 代替 原先 继承 方式 核心 逻辑 保持 不变 修改 只是 使用 组合 代替 继承 逻辑 更加 清晰 log position manager xml mixed log position manager memory log position manager cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr yinxiu seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
290,生产 配置 咨询 线上 环境 通过 嵌入式 方式 使用 现在 想 将 配置 模式 配置 是否 存在 重复 消费 问题 比如 客户端 消费 条 数据 未 更新 中 任务 进行 重启 客户端 将 按照 中 进行 重复 消费 为了 追求 一致性 是否 将 配置 更为 合适 重复 消费 块 无法 避免 位点 重复 只是 一方面 就是 批 数据 处理 如果 进程 挂 次 还是 会 整个 进行 处理 这样 改造 没有 太 多 意义 canal canal log position manager failback log position manager canal meta manager period mixed meta manager period mixed meta manager cursor zookeeper zookeeper cursor canal meta manager zoo keeper meta manager batch batch so
289,网络 重置 客户端 增加 一下 重 连 机制 服务 端的 出错 异常 客户端 没有 异常 没有 断连 服务 端 开启 就 出现 种 情况 这里 多 客户端 连接 服务器 报的 错 多 地 监听 会 这个 问题 启 就 谢谢 大牛们 问题 解决 问题 重 安 新手 学习 多多 包涵 出现 种 情况 客户端 怎么 增 加重 连 机制 呢 一下 代码 something goes wrong with channel error c a otter canal server netty handler session handler something goes wrong with channel id x ed exception java io io exception connection reset by peer ha instance xml zookeeper agapple example client
288,兼容 问题 方法 过时 考虑 提交 目前 内部 还没 用上 自己 实现 解决 怎么 实现 能 实现 原理 发布 一下 吗 遇到 同样 问题 guava guava map maker make computing map exception in thread main java lang no such method error com google common collect map maker make computing map lcom google common base function ljava util concurrent concurrent map at com google common collect migrate map make computing map migrate map java at com alibaba otter canal common zookeeper zk clientx clinit zk clientx java at com alibaba otter canal client canal connectors cluster connector canal connectors java pr guava canal node access strategy luckywb luckywb
287,类型 字段 数据库 版本 数据库 结构 商户 顾客 标准 属性 顾客 扩展 属性 就是 行 给出 问题 字符串 性别 男 手机号 微 信 昵称 json bug bug com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception illegal json data at com taobao tddl dbsync binlog json conversion parse scalar json conversion java at com taobao tddl dbsync binlog json conversion parse value json conversion java mysql winx create table customer data id bigint unsigned not null auto increment supplier id bigint unsigned not null comment id customer id bigint unsigned not null customer data json null comment customer ext data json null comment primary key id unique key uk cust customer id engine inno db auto increment charset utf mb debug str len agapple json card number peter
286,重构 模块 没有 改变 核心 逻辑 采用 组合 模式 代码 逻辑 更加 清晰 refactoring log position manager module log position cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr yinxiu seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub
285,报 找 版本 版本 主库 状态 完整 日志 附件 中 异常 指定 时间戳 现在 任何 文件 都 早 调整 一下 位点 canal binlog file destination qbo address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination qbo address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position qbo destination qbo address event parser error com alibaba otter canal common alarm log alarm handler destination qbo com alibaba otter canal parse exception canal parse exception can t find start position qbo canal mysql mysql show master status file position binlog db binlog ignore db executed gtid set mysql bin row in set sec qbo log txt https github com alibaba canal files qbo log txt binlog
284,看一下 可能 因为 这个 很多 用户 反馈 链接 异常 断开 问题 可以 参考 源码 实现 建立 线程 时候 会 设置 一下 源码 应该 兼容 如果 没有 设置 默认 会 基于 进行 判断 增加 之后 可以 避免 对于 不同 强 依赖 here comes an my sql bug between my sql my sql my sql have not compatible with my sql so it will no kill zombie thread without the slave uuid mysql https cloud githubusercontent com assets a b e ee png mysql https cloud githubusercontent com assets efc b e png fix bug using set slave uuid uuid command before dump my sql io master uuid set user variables after connecting to the master param mysql mysql to request uuid from master param mi master info to set master uuid success fatal error network error io thread init commands mysql mysql master info mi query ret sprintf query set slave uuid s server uuid mysql real query mysql query strlen query check io slave killed mi info thd mi null err mysql mysql client server id dump slave uuid server id slave uuid slave id
283,upgrade fastjson security cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr fengyong seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub tks
282,修复 升级 报错 问题 里面 版本 号 要 改 一下 update json utils java fastjson json utils cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub pom tks
281,高危 漏洞 知道 没 影响 关注 一下 fastjson https github com alibaba fastjson wiki security update see
280,连接 断了 功能 无效 源代码 尝试 做 次 操作 重新 可以 看到 捕获 会 自动 重 连 次 然后 获取 表 结构 问题 在于 如果 主动 关闭 连接 根本 会 抛出 这个 相反 抛出 相应 异常 抛出 代码 行 服务器 关闭 连接 会 走 这个 逻辑 抛出 异常 如上所述 重 连 逻辑 没有 生效 复现 方法 设置 成 秒 启动 等 秒 做 一些 操作 得到 这个 解析 如果 本地 没有 标 结构 信息 就 会 通过 非 连接 获取 表 结构 信息 秒 关闭 连接 时候 就 抛出 然后 这个 事件 就 解析 失败 解决 方法 改成 抛出 不知道 会 会 什么 别的 问题 当然 自己 测试 遇到 同样 问题 根据 楼 主 方法 可以 重现 还有 另外 信息 理论 遇到 异常 之后 会 重试 如下 日志 来看 确实 重试 并且 恢复 正常 但是 后面 过 段 时间 链接 再次 断掉 之后 没有 重试 成功 日 志 然后 手动 停止 会报 以下 错误 期待 完美 解决 方案 bug table meta cache reconnect master table meta cache mysql connection con connection con table meta cache migrate map make computing map function string table meta table meta apply string name get table meta name io exception e retry connection reconnect system out println cclehui connect master get table meta name io exception e canal parse exception fetch failed by table meta name e io exception mysql master io exception runtime exception mysql query executor mysql query executor mysql connector connector io exception connector is connected runtime exception should execute connector connect first channel connector get channel bug master mysql wait timeout canal master insert update canal slave binlog slave master master runtime exception binlog runtime exception io exception ok mysql query executor mysql connector connector io exception connector is connected runtime exception should execute connector connect first io exception should execute connector connect first channel connector get channel canal server retry https cloud githubusercontent com assets cf ba c e a e a ee png retry log https cloud githubusercontent com assets f c e c bd f b a png db retry log https cloud githubusercontent com assets b fb c e a e f b cf png canal server retry log https cloud githubusercontent com assets d f a c e e ed a caf png
279,运行 客户端 偶尔 出现 冲突 问题 下面 代码 获取 指定 数量 数据 提交 确认 同样 碰到 这个 问题 请 问 这个 最后 怎么 解决 对应 消费 端 多 消费 端 同时 消费 就 会报 存在 或不是位点 batch id batch id is not the firstly at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com yagou yggx provider datasync start canal start process canal start java batch size running mdc put destination destination connector connect connector subscribe running message message connector get without ack batch size batch id message get id size message get entries size list entry entrys message get entries batch id size thread sleep interrupted exception e data source listener information come out entry entrys connector ack batch id destination destination batch id
278,版本 最新 天 前 点 开始 同步 发现 同步 速度 之前 相比 慢 很多 发现 一直 经过 定位 找到 如下 栈 内存 当时 块 新 同学 提交 实现 可能 存在 一些 问题 可以 尝试 最新 版本 优化 canal server cpu agapple master binlog pos top canal server cpu cpu https cloud githubusercontent com assets adf ef c e fc c e d e png total used free shared buffers cached mem buffers cache swap netty
277,配置 自动 更新 功能 不稳定 重启 就 可以 完整 异常 贴 清楚 scan reload found local but reload failed
276,服务 端 显示 某个 配置 成功 端 异常 日志 显示 这个 成功 报 异常 服务 端 可能 发生 重 启 多 重试 canal client canal instance scan info c a o canal deployer monitor spring instance config monitor auto notify reload local successful local instance client com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x f fa exception com alibaba otter canal server exception canal server exception destination local should start first at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal example rocky demo main rocky demo java at sun reflect method accessor impl invoke method at sun reflect method accessor impl invoke method accessor impl java at sun reflect delegating method accessor impl invoke delegating method accessor impl java at java lang reflect method invoke method java at com intellij rt execution application app main main app main java client
275,参数 作用 这样 设置 端 还是 会 接受 接收 非 表 日志 信息 使用 版本 试试 中 貌似 记录 初始 值 修改 配置 文件 重启 服务 貌似 中 值 没有 修改 过来 导致 参数 作用 个人 猜测 canal instance filter regex canal instance filter regex demodbname user client user binlog zk localhost connected get otter canal destinations example filter c zxid x e ctime fri mar cst zk localhost connected set otter canal destinations example filter demodbname user zk zk
274,解析 日志 失败 运行 解析 日志 时候 出现 错误 提示 部分 源码 貌似 设置 不对 里 定义 位 所以 但是 实际 导致 越界 没 看出 数据库 数据 有啥 问题 版本 日志 见 附件 实例 日志 版本 没 测试 过 可能 协议 变更 改 代码 帮我 验证 一下 环境 是否 可以 正常 解析 谢谢 验证 之后 回复 一下 信息 binlog canal binlog read q sql mode code error limit excceed canal sql mode sql mode canal get ps mysql mysqlbinlog binlog https cloud githubusercontent com assets ef f a e f c f a c png binlog txt https github com alibaba canal files binlog txt canal destination gene cachenotice play address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp destination gene cachenotice play address event parser warn com taobao tddl dbsync binlog log decoder decoding query failed from mysql bin java io io exception read q sql mode code error limit excceed at com taobao tddl dbsync binlog event query log event unpack variables query log event java canal parse dbsync jar na at com taobao tddl dbsync binlog event query log event init query log event java canal parse dbsync jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event query log event unpack variables query log event java canal parse dbsync jar na common frames omitted destination gene cachenotice play address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception read q sql mode code error limit excceed at com taobao tddl dbsync binlog event query log event unpack variables query log event java canal parse dbsync jar na at com taobao tddl dbsync binlog event query log event init query log event java canal parse dbsync jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync jar na at com taobao tddl dbsync binlog log decoder decode log decoder java canal parse dbsync jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event query log event unpack variables query log event java canal parse dbsync jar na common frames omitted destination gene cachenotice play address event parser error com alibaba otter canal common alarm log alarm handler destination gene cachenotice play java io io exception read q sql mode code error limit excceed at com taobao tddl dbsync binlog event query log event unpack variables query log event java at com taobao tddl dbsync binlog event query log event init query log event java at com taobao tddl dbsync binlog log decoder decode log decoder java at com taobao tddl dbsync binlog log decoder decode log decoder java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get log buffer java at com taobao tddl dbsync binlog event query log event unpack variables query log event java more mysql mysql ok
273,报错 转换 异常 新 代码 已经 修复 java lang cast exception com alibaba otter canal parse inbound event parser cannot be cast to com alibaba otter canal parse inbound mysql mysql event parser mysql detecting time task at com alibaba otter canal parse inbound mysql mysql event parser stop heart beat mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser stop event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser stop mysql event parser java canal parse jar na at com alibaba otter canal instance core canal instance stop canal instance java canal instance core jar na at com alibaba otter canal server embedded canal server with embedded stop canal server with embedded java canal server jar na at com alibaba otter canal server netty canal server with netty stop canal server with netty java canal server jar na at com alibaba otter canal deployer canal controller stop canal controller java canal deployer jar na at com alibaba otter canal deployer canal launcher run canal launcher java canal deployer jar na master
272,启动 一会 就 莫名 断开 连接 没有 任何 拉 取的 分支 编译 版本 启动 服务 正常 启动 失败 启动 连接 然后 莫名 奇妙 做 断开 链接 没有 然后 就 没有 任何 服务 还是 运行 但该 没有 起来 链接 没有 建立 起来 而且 奇怪 连接 两 次 启动 如下 连接 情况 刚 启动 时候 过 一会 两 连接 都 断 这个 问题 已经 找到 原因 自己 测试 服务器 配置 分别 过 秒 主动 关闭 活跃 连接 server example instance master log master mysql main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server my ip main info com alibaba otter canal deployer canal launcher the canal server is running now example instance instance mysql dis connect log instance mysql mysql instance log main info o s context support path xml application context refreshing org springframework context support path xml application context bbe display name org springframework context support path xml application context bbe startup date thu mar cst root of context hierarchy main info o s beans factory xml xml bean definition reader loading xml bean definitions from path resource spring file instance xml main info o s context support path xml application context bean factory application context org springframework context support path xml application context bbe org springframework beans factory support listable bean factory a main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main info o s beans factory support listable bean factory pre instantiating singletons in org springframework beans factory support listable bean factory a defining beans com alibaba otter canal instance spring support property placeholder configurer socket address editor org springframework beans factory config custom editor configurer instance alarm handler meta manager event store event sink event parser root of factory hierarchy main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful main info c a otter canal server embedded canal server with embedded start canal instances example successfully destination example address event parser info c a otter canal parse inbound mysql mysql event parser start heart beat destination example address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to destination example address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination example address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination example address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to destination example address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination example address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination example address event parser info c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name mysql bin position server id null timestamp null destination example address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to mysql tcp tcp established mysqld tcp established java tcp established mysqld tcp established java mysql interactive timeout wait timeout mysql
271,昨晚上 之前 都 正常 之后 突然 出现 问题 看起来 权限 相关 线上 测试 线 自己 机器 没有 异常 使用 监听 库 时候 删除 表 之后 包 类似 错误 这个 问题 解决 吗 之前 监听 所有 库 文档 可以 配置 监听 指定 库 过滤 一下 表 最新 版本 已经 支持 fetch failed by table meta mysql user rds canal destination example address xxx event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position serve r id timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql user caused by com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql user at com google common collect map maker computing map adapter get map maker java guava jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java canal parse snapshot jar na at java lang thread run thread java na caused by com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql user caused by java io io exception connect xxx failure java io io exception error when doing client authentication error packet error number field count message authentication failed rds backend sql state rds sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java caused by com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql user caused by java io io exception error packet error number field count message select command denied to user app prod crawler table user sql state sql state marker with command desc mysql user at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver snapshot jar na canal canal instance filter regex mysql user
270,接收 全部 事件 所在 公司 会 不定时 发放 优惠券 次 几百 张 几万 张 不等 都 批量 优惠券 数据 插入 数据库 中 但是 能 接收 部分 事件 举例 如下 数据库 中 插入 条 记录 但是 接收 条 事件 知道 什么 原因 以前 以为 内存 原因 各个 指标 都 调大 还是 行 版本 版本 配置 这里 开始 改 为了 服务 端 客户端 都 启动 正常 可以 正常 连接 就是 没有 任何 事件 产生 报错 恢复 正常 同步 别的 表 时候 没有 这个 问题 那些 表 没有 同时 批量 插入 很多 数据 情况 事件 可能 包含 多条 变更 记录 最近 专门 跟踪 这个 问题 原因 返回 包含 多条 记录 处理 最后 条 记录 严重 鄙视 这样 写的 那个 insert client insert client insert mysql canal canal common argument canal id canal ip canal port canal zk servers flush data to zk canal zookeeper flush period flush meta cursor parse position to file canal file data dir canal conf dir canal file flush period memory store ring buffer size should be math pow n canal instance memory buffer size memory store ring buffer used memory unit size kb canal instance memory buffer memunit meory store gets mode used memsize or itemsize canal instance memory batch mode memsize detecing config canal instance detecting enable false canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting sql select canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable false support maximum transaction size more than the size of the transaction will be cut into multiple transactions delivery canal instance transaction size mysql fallback connected to master should fallback times canal instance fallback interval in seconds network config canal instance network receive buffer size canal instance network send buffer size canal instance network so timeout binlog filter config canal instance filter query dcl false canal instance filter query dml false canal instance filter query ddl false canal instance filter table error false binlog format image check canal instance binlog format row statement mixed canal instance binlog image full minimal noblob binlog ddl isolation canal instance get ddl isolation false destinations canal destinations conf root dir canal conf dir conf auto scan instance dir add remove and start stop instance canal auto scan true canal auto scan interval canal instance global mode spring canal instance global lazy false canal instance global manager address canal instance global spring xml classpath spring memory instance xml canal instance global spring xml classpath spring file instance xml canal instance global spring xml classpath spring instance xml event row change list
269,服务 端 运行 段 时间 就 报 如下 错误 重启 估计 多 做 一下 重试 即可 canal destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common collect computation exception java lang runtime exception should execute connector connect first caused by com google common collect computation exception java lang runtime exception should execute connector connect first at com google common collect map maker computing map adapter get map maker java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync log event convert get table meta log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java lang runtime exception should execute connector connect first at com alibaba otter canal parse driver mysql mysql query executor init mysql query executor java at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java at com google common collect computing concurrent hash map computing value reference compute computing concurrent hash map java at com google common collect computing concurrent hash map computing segment compute computing concurrent hash map java at com google common collect computing concurrent hash map computing segment get or compute computing concurrent hash map java at com google common collect computing concurrent hash map get or compute computing concurrent hash map java at com google common collect map maker computing map adapter get map maker java more canal server client
268,可以 同步 特定 类型 日志 吗 比如 新增 数据 同步 新增 数据 其它 不要 可以 做到 吗 先 了解 一下 基本 概念 rt mysql binlog
267,收集 条 语句 更新 多 行 产生 速度 慢 什么 原因 呢 我们 场景 条 语句 更新 行 然后 提交 发现 收集 速度 明显 慢于 正常 情况 中 查看 发现 事务 里 分成 因此 包含 行 变化 我们 消费 场景 中消 费时 发现 中 正好 对应 行 变化 做 一些 测试 发现 更新 行 大小 比较 时候 条 语句 更新 多 行时 会 种 情况 收集 速度 慢 但是 行 比较 大 时候 更新 行 原始 文件 中 这个 时候 收集 速度 就 正常 现在 想 了解 是否 因为 更新 多 行 产生 内容 包含 多个 行 变化 信息 导致 后续 解析 速度慢 从而 收集 速度 变慢 具体 什么 情况 会 包含 多个 行 变化 针对 条 语句 更新 多 行 场景 没 办法 提高 处理 性能 这个 之前 没有 刻意 关注 过 关注 慢 一些 具体 数据 比如 评估 大概 多少 相同 配置 情况 条 语句 影响 行 情况 大概 秒 能 收集 原始 文件 种 条 语句 影响 多 行 会 特别 慢 当时 测 条 语句 更新 行 大概 秒 能 收集 文件 测试 时候 发现 只有 原先 单条 记录 比较 时候 这样 批量 更 新会 出现 种 情况 对于 批量 更新 单条 记录 比较 大 操作 尝试 字段 加 起来 超过 收集 速度 正常 情况 差不多 那个 问题 解决 吗 我们 遇到 类似 问题 没 解决 配置 如下 参数 提交 事务 时候 是否 提交 缓冲 值 会 主动 触发 日志 缓冲 写入 磁盘 默认 次 提交 事务 时候 同时 会 日志 缓冲 刷新 磁盘 次 提交 事务 时候 会 日志 缓冲 刷新 磁盘 但是 不是 同时 进行 而是 每秒钟 刷新 次 建议 配置 成 对 性能 影响 较大 可以 试试 这个 提 这个 参数 解决 批量 写入 慢 问题 但是 这里 提到 解析 慢 问题 预写 入 完毕 才 测试 解析 性能 请问 解决 吗 倒 可以 先 执行 大 事务 然后 回溯 事务 执行 之前 进行 验证 这边 测试 来看 基本 都 可以 满足 基本 性能 问题 原因 找到 没 兄弟 参考 文档 canal update binlog update update tablename set x xxx where id and id canal mysql binlog update row event update row event entry row datas binlog row mysql mysql binlog update row event binlog entry update row event sql tps sql mb binlog sql sql m bbinlog mysql mysql kb lan pan mysql innodb flush log at trx commit wufengbin mysql canal mysql lan canal lan https github com alibaba canal wiki performance
266,批量 刷 数据库 数据 出现 错误 批量 刷 数据库 数据 出现 错误 请 问 这个 版本 什么 需要 具体 错误 内容 描述 清楚 版本 变更 关注 一下 canal canal bug release note
265,启动 报 这样 异常 但是 数据库 客户端 账号 密码 可以 正常 登录 从库 部署 台 服务器 请问 什么 原因 碰到 相似 问题 吗 日志 最后 行 使用 查询 启动 起来 但是 没有 事件 发生 日志 一直 增加 请问 这个 怎么 解决 啊 errot code caused by packet type clientauthentication is not supported canal msyql mysql canal i o server worker error com alibaba otter canal server netty netty utils errot code caused by packet type clientauthentication is not supported thread info com alibaba otter canal deployer canal launcher stop the canal server thread info com alibaba otter canal deployer canal controller stop the canal server thread info com alibaba otter canal deployer canal launcher canal server is down open jdk bit server vm warning ignoring option perm size m support was removed in open jdk bit server vm warning ignoring option max perm size m support was removed in open jdk bit server vm warning use cms compact at full collection is deprecated and will likely be removed in a future release main info com alibaba otter canal deployer canal launcher start the canal server main info com alibaba otter canal deployer canal controller start the canal server main info com alibaba otter canal deployer canal launcher the canal server is running now ps canal binlog
264,解析 问题 解析 日志 有时候 获取 不到 主键 什么 原因 版本 没 遇到 过 用户 反馈 最好 能 明确 一下 复现 场景 比如 表 版本 等 一些 信息 binlog canal binlog mysql mysql mysql canal
263,解析 疑问 能够 解析 现在 中 分支 吗 如果 能 支持 计划 吗 支持 不过 种 问题 试 一下 就 知道 问 一下 至少 等 天才 会 答复 何必 呢 表述 够 清楚 这样 源库 同步 主 分支 目的 库 需 同步 源表 同步 目的 表均 源 表中 均 等 大 字段 类型 同步 时 发生 解析 错误 更 详细 错误 堆栈 没有 打印 配置 没有 修改 使用 默认 配置 支持 求 解答 支持 模式 updated binlog canal mysql percona percona mysql innodb tokudb innodb blob pid nid exception canal test canal com alibaba otter canal parse exception canal parse exception unsupported binlog image noblob binlog image full minimal noblob agapple otter image noblob
262,关于 碰撞 问题 会 认为 拥有 都 来自 库 因而 两 具有 相同 对 同一 发起 请求 时 必 定会 会 失败 反复 重试 这个 错误 中报 出来 但是 并不 能 通过 查找 异常 解决 种 情况 能 重新 生成 新 例如 这样 代表 可能 冲突 这里 作 预先 补救 重新 生成 可能 能够 减少 一点 手工 改 配置 工作 能 提交 最新 版本 已经 设置 slave id mysql slave id connection slave id canal instance mysql master dump instance mysql binlog slave id canal parse mysql event parser java override process dump error throwable e e io exception string message e get message string utils contains message errno error code er master fatal error reading binlog slave id string utils contains message errmsg a slave with the same server uuid server id as slave has connected to the master slave id slave id random next logger warn slave id conflict is detected old slave id slave id slave id slave id slave id slave id dump error count process dump error e pull request slave uuid
261,客户端 使用 以下 第二 种 正则 过滤 无效 使用 为什么 第三 四 种 有效 第二 种 正则 无效 过滤 全部 呢 没有 配置 所有 表 所有 表 打头 表 张 表 多 规则 组合 使用 逗号 分隔 朋友 这个 后来 什么 结论 java canal connector subscribe canal java api ps canal server conf example instance properties canal instance filter regex or canal schema canal canal canal canal canal canal schema canal test canal mysql test mysql test issue
260,生产 环境 版本 考量 我们 准备 生产 环境 使用 之前 测试 环境 同事 搭建 版本 测试 使用 过程 中 发现 一些 问题 目前 基本上 都 修复 后来 注意 官方 推荐 版本 请 问 基于 稳定性 言 推荐 使用 版本 吗 估计 没有 及时 更新 文档 可以 使用 最新 版本 多谢 多谢 我们 选 最新 版本 天 正在 测试 文档 更新 及时 一些 就 更 好啦 canal bug kill connection wiki agapple
259,修改 未 生效 这个 能 加 配置 修改 生效 因为 文件 位点 会 不停 更新 会 导致 频繁 没有 呀 比较 对应 目录 文件 自动 生成 文件 fix bug canal instance filter regex meta reload meta instance properties subscribe meta
258,修改 未 生效 之前 提 修改 未 生效 打的 不好意思 才 看到 回复 玉 麒麟 fix bug canal instance filter regex issue canal instance filter regex patch cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user
257,里 发现 版 里 方法 里 没有 判断 类型 就 直接 做 强制 转换 导致 下面 大 神 这个 会 导致 线程 释放 意味 其实 好多 事情 都 没 能 做到 啥时候 能上 版本 仓库 呢 坐等 谢谢 大神 mysql event parser bug mysql event parser stop heart beat heart beat timer task java lang cast exception com alibaba otter canal parse inbound event parser cannot be cast to com alibaba otter canal parse inbound mysql mysql event parser mysql detecting time task at com alibaba otter canal parse inbound mysql mysql event parser stop heart beat mysql event parser java at com alibaba otter canal parse inbound event parser stop event parser java at com alibaba otter canal parse inbound mysql mysql event parser stop mysql event parser java at com alibaba otter canal instance core canal instance stop canal instance java at com alibaba otter canal server embedded canal server with embedded stop canal server with embedded java agapple bug eventparser canalserver stop stop mvn
256,使用 重构 内置 修改 实现 以及 其他 相关 引用 类 用户 反馈 比较 多 网络 问题 暂时 先 回 滚 去掉 代码 后面 优化 验证 稳定性 之后 更新 netty socket channel jdk packet manager cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you all sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br out of committers have signed the cla br br white check mark agapple br x luoyaogui hr luoyaogui seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user tks luoyaogui
255,版本 报错 日志 原因 程序 缺少 判断 改为 缺少 判断 症状 消除 请 更新 当前 版本 感觉 这个 问题 比较 严重 啊 建议 发 比较 对于 低 版本 直接 无法 正常 启动 bug mysql destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang null pointer exception null at com alibaba otter canal parse inbound mysql mysql connection load binlog checksum mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run unknown source na bug null column values null column values size column values get to upper equals crc column values null column values size column values get null column values get to upper equals crc master release mysql canal
254,ll
253,部署 两 台 机器 机器 机器 机器 先 启动 成功 然后 日志 一直 处 之后 机器 关闭 然后 观察 机器 然后 迅速 获取 问题 难道 次 都 要 关闭 台 机器 吗 遇到 类似 问题 部署 节点 一直 卡 定位 步 单机 的话 就 用用 就 可以 用了 怀疑 问题 日志 上面 显示 一直 怀疑 过 后台 做 过 次 重试 先 停 上面 数据 删 种 不行 设置 文件 位点 时间戳 行 根据 打印 日志 对照 配置 项 源码 里面 走到 分支 对 试 没 效果 怀疑 设置 有关 换 其他 有的 快 恨 定位 就 卡 死了 但是 具体 不知道 哪些 配置 项 会 影响 按照 这样 逻辑 应该 数据库 问题 咯 但是 关闭 然后 单机 模式 就 可以 数据库 没有 变化 啊 这个 代表 最后 位点 已经 启动 成功 意思 可是 启动 成功 过后 一直 就 停在 那里 然后 客户端 消费 时候 会 一直 卡 哪里 prepare to find start position just last position a b a prepare to find start position just last position a b postion canal bobo china zk zk ping zk canal zk binlog zk mysql mysql zk prepare to find start position just last position
252,相关 客户端 启动 抛出 异常 推测 版本 问题 com alibaba otter canal common utils json utils fast json img width alt src https cloud githubusercontent com assets e c d d e af e a af b png
251,请 问 支持 版本 吗 使用 版本 启动 解析 就 会 报 以上 错误 试 版本 都 行 这个 估计 要 看看 改动 哪些 可以 试试 组件 组件 只是 解决 远程 下载 具体 解析 工作 自己 做 试 过 无法 解析 版本 maria db error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception bad format x exceed mysql maria db canal binlog canal mariadb minotaursu maxscale binlogserver zhongjimax binlog server binlog mariadb
250,做主 备库 切换 时 出现 乱码 修复 多次 测试 发现 问题 出现 方法 相较于 缺少 导致 搜索 位点 时 拿到 多 四 字节 bugfix my sql filename seek dump checksum binlog filename cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr jianhao dai seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user tks
249,主备 切换 问题 主备 切换 过程 中 出现 错误 如下 注意 以及 感觉 名字 出现 乱码 试试 当前 主干 这个 问题 版本 还是 存在 知道 什么 原因 吗 遇到 同样 问题 版本 版本 切换 时候 发现 文件 名字 乱码 提供 一下 对应 文件 遇到 同样 问题 主备 切换 时 老是 报 找 中 日志 存在 断点 调试 如下 感觉 后缀 乱码 能 看看 这个 乱码 位点 哪里 获取 log mysql bin could not find first log file name in binary log index destination xiaopang address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination xiaopang address event parser info c a otter canal parse inbound mysql mysql connection com binlog dump with position binlog dump command packet binlog position slave server id binlog file name mysql bin command destination xiaopang address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination xiaopang address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination xiaopang address event parser error com alibaba otter canal common binlog agapple canal v alpha mariadb binlog lijie binlog binlog mysql binlog image https user images githubusercontent com d ff e fa bd png debug zhi xing he yi apple
248,修复 以下 报 修复 以下 报 mysql java lang null pointer exception mysql java lang null pointer exception cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br tks
247,无法 链接 报 定位 代码 版本 前面 查询 升级 最新 版本 代码 前面 加 判断 当前 主干 已经 提了 修复 解决 吗 碰到 同样 问题 已经 最新 版本 吗 这个 问题 已经 修复 提交 里面 应该 没有 重新 打包 最新 源码 下下 编译 替换 掉 就 行 example mysql java lang null pointer exception destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang null pointer exception null at com alibaba otter canal parse inbound mysql mysql connection load binlog checksum mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run unknown source na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java lang null pointer exception at com alibaba otter canal parse inbound mysql mysql connection load binlog checksum mysql connection java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run unknown source mysql connection java column values null column values size column values get to upper equals crc my sql select master binlog checksum null pr conanlmn release mysql connection
246,事件 如何 直接 获取 事件 如何 直接 获取 当前 都 获取 更新 字段 值 能 自己 拼 update sql update sql sql
245,issues cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br tks
244,能 正常 关闭 心跳 连接 mysql mysql event parser stop heart beat screenshot https cloud githubusercontent com assets da ce e cdb e de png event parser stop heart beat screenshot https cloud githubusercontent com assets bae b ce e de aac da png tks
243,原来 内 脚本 直接 运行 时报 语法 错误 example startup bat cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks
242,完整 报错 信息 这个 异常 应该 非正常 关闭 产生 请问 怎么 处理 估计 位点 错误 清除 中 内容 或者 清楚 中 报错 信息 重 启 端 就 可以 client requested master to start replication from impossible position destination ixtrade address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position destination ixtrade address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg client requested master to start replication from impossible position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination ixtrade address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg client requested master to start replication from impossible position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination ixtrade address event parser error com alibaba otter canal common alarm log alarm handler destination ixtrade java io io exception received error packet errno sqlstate hy errmsg client requested master to start replication from impossible position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination ixtrade address event parser error c a otter canal parse inbound mysql mysql event parser disconnect address has an error retrying caused by java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na mysql sqlstate hy errmsg client requested master to start replication from impossible position the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at meta dat zk postion server
241,运行 端 频繁 刷 日志 最新 项目 能 正常 获取 但是 端 疯狂 刷 日志 虽然 但是 感觉 正常 那边 开启 这个 开启 这个 日志 只是 打印 一下 日志 哦 哦 知道 里面 长 连接 端 一直 长 轮询 在拉 消息 所以 频繁 调用 cluster canal client test server i o server worker info c a otter canal server netty handler session handler message receives in session handler clone canal cluster canal client test db binlog server info logback appender ref ref stdout appender i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler i o server worker info c a otter canal server netty handler session handler message receives in session handler stdout appender info netty server session handler
240,切换 成 时 消费 不到 数据 要 学会 日志 关注 最新版 关注 最新版 group instance xml main info com alibaba otter canal deployer canal launcher start the canal server log j warn no appenders could be found logger org i itec zkclient zk event thread log j warn please initialize the log j system properly main info com alibaba otter canal deployer canal controller start the canal server main error c a o c common zookeeper running server running monitor process active enter failed java lang null pointer exception null at com alibaba otter canal parse inbound event parser start event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser start mysql event parser java canal parse jar na at com alibaba otter canal parse inbound group group event parser start group event parser java canal parse jar na at com alibaba otter canal instance core canal instance start canal instance java canal instance core jar na at com alibaba otter canal instance spring canal instance with spring start canal instance with spring java canal instance spring jar na at com alibaba otter canal server embedded canal server with embedded start canal server with embedded java canal server jar na at com alibaba otter canal deployer canal controller process active enter canal controller java canal deployer jar na at com alibaba otter canal common zookeeper running server running monitor process active enter server running monitor java canal common jar na at com alibaba otter canal common zookeeper running server running monitor init running server running monitor java canal common jar na at com alibaba otter canal common zookeeper running server running monitor start server running monitor java canal common jar na at com alibaba otter canal deployer canal controller start canal controller java canal deployer jar na at com alibaba otter canal deployer canal launcher main canal launcher java canal deployer jar na java lang null pointer exception null at com alibaba otter canal parse inbound event parser start event parser java
239,使用 报错 使用 获取 连接 报错 语句 报错 信息 解决 依赖 更 新到 最新 就 老 版本 参数 一致 canal connectors cluster connector zk canal canal connector simple canal connector canal connectors cluster connector example exception in thread main java lang illegal access error tried to access method com google common collect map maker make computing map lcom google common base function ljava util concurrent concurrent map from com alibaba otter canal common zookeeper zk clientx at com alibaba otter canal common zookeeper zk clientx clinit zk clientx java at com alibaba otter canal client canal connectors cluster connector canal connectors java at com foundation test canal client cluster main client cluster java ok dependency group id com alibaba otter group id artifact id canal client artifact id version version dependency
238,异常 前 两 天 正常 今天 突然 报 这个 异常 随后 就 连 一直 报错 自己 问题 什么 原因 遇到 什么 问题 遇到 突然 就 这个 问题 java io io exception end of stream when reading header im message error mysql binlog canal client process error com alibaba otter canal protocol exception canal client exception java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na at cn ishow db mysql binlog canal client process canal client java subscriber jar na at cn ishow db mysql binlog canal client access canal client java subscriber jar na at cn ishow db mysql binlog canal client run canal client java subscriber jar na at java lang thread run thread java na caused by java io io exception end of stream when reading header at com alibaba otter canal client impl simple canal connector read simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java canal client jar na common frames omitted im message info mysql binlog canal client disconnect canal com alibaba otter canal protocol exception canal client exception java net connect exception connection refused connect at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na at cn ishow db mysql binlog canal client process canal client java subscriber jar na at cn ishow db mysql binlog canal client access canal client java subscriber jar na at cn ishow db mysql binlog canal client run canal client java subscriber jar na at java lang thread run thread java na caused by java net connect exception connection refused connect at sun nio ch net connect method na at sun nio ch net connect net java na at sun nio ch net connect net java na at sun nio ch socket channel impl connect socket channel impl java na at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na common frames omitted sorry anakin sky w
237,关于 嵌入式 模式 重启 数据 丢失 问题 大 神好 本人 使用 版本 参照 写 数据 订阅 平台 由于 目前 只有 模式 中 数据 没有 来得及 消费 时 进行 重启 会 上次 解析 位置 进行 数据 重新 装载 消费 于是 导致 重 启 前 未 消费 数据 丢失 请问 针对 这个 问题 目前 没 好的 处理 思路 或者 新 版本 规划 会 丢失 数据 次 重启 前 会 最后 消费 位点 进行 重 拉 包括 之前 内存 里 没 消费 数据 一下 代码 只是 清空 中 数据 没有 看到 写 次 重启 读取 节点 位置 导致 数据 丢失 要 选择 模式 就 可以 保证 刷到 可以 先 看下 大概 发现 问题 初始化 时 使用 模式 导致 并不 会 解析 另外 刚好 模式 并不 写 多谢 canal canal otter canal event store memory eventstore canal eventstore ack binlog ack store zookeeper zookeeper parse binlog instance xml zookeeper admin guide wiki canal log position manager zookeeper meta log position meta manager memory meta log position
236,为什么 运行 好好 突然 报错 双向 同步 中 出现 而且 影响 单向 同步 指定 位点 同步 看起来 正常 但是 始终 处于 定位 中 数据 不同 步 这边 运行着 突然 报 这个 记得 已经 支持 主备 切换 时 自动 切换 问题 但是 还是 会 这个 问题 会 删除 操作 如果 消费 延迟 就 容易 出现 位点 情况 请问 这个 要 怎么 处理 could not find first log file name in binary log index file canal rds canal rds myql binlog error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na rds binlog
235,多 表 进行 数据 聚合 出现 源库表 会 覆盖 目的 表库 导致 多条 条 记录 什么 解决 方案 源 目标 设置 不同 段 这样 就 不合理 设置 不同 段 源 目标 吗 设置 过 映射 然后 就 会 多出 记录 值 相同 地方 进行 覆盖 聚合 方面 能 整合 吗 源 目标 设置 不同 段 分布式 场景 不同 分区 都 要求 唯一 否则 落到 库 怎么 判断 是否 条 记录 id id id id id mid gmt agapple notifications github com id you are receiving because you authored the thread reply to email directly view it on git hub https github com alibaba canal issues issuecomment or mute the thread https github com notifications unsubscribe auth ai ld h spa a a ll s x sm s dpc ya ks r j obga jp zm lg to y id
234,主要 变更 没 看懂 提交 内容 老 版本 上游 做 次 合并 生成 节点 其实 里面 内容 都 没有 关掉 merge pull request from alibaba master full pull cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br sub you have signed the cla already but the status is still pending let us recheck https cla assistant io check alibaba canal pull request it sub agapple git no ff
233,基于 位点 回抽 报错 版本 测试 时 基于 位点 信息 配置 数据 重 抽 发现 日志 里 不断 报错 请问 什么 原因 如何 解决 报错 信息 如下 版本 里 代码 发现 异常 记录 日志 修改 使用 当前 包 试试 重新 基于 做 编译 替换 类 影响 抽取 流程 canal timestamp canal timestamp destination oms orders address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position destination oms orders address event parser error c a otter canal parse inbound mysql mysql event parser error find as per timestamp in specific log file has an error java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser find as per timestamp in specific log file mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find by start time stamp mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find as per timestamp in specific log file mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find by start time stamp mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na image https cloud githubusercontent com assets b a bb e fa a ab e png master master driver mysqlconnector
232,版本 版本 阿里 云 报 如下 异常 出现 之后 发送 之后 然后 接收 重 连 就 出现 想问 一下 那个 造成 这个 主因 error packet error number field count message unknown thread id sql state hy sql state marker canal mysql rds mysql log destination example address xxx mysql rds aliyuncs com xxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx mysql rds aliyuncs com xxx event parser error c a otter canal parse inbound mysql mysql event parser dump address xxx mysql rds aliyuncs com xxx has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx mysql rds aliyuncs com xxx event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address xxx mysql rds aliyuncs com xxx event parser error c a otter canal parse inbound mysql mysql event parser disconnect address xxx mysql rds aliyuncs com xxx has an error retrying caused by java io io exception kill dump failure java io io exception with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java error packet error number field count message unknown thread id sql state hy sql state marker at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx mysql rds aliyuncs com xxx event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position destination example address xxx mysql rds aliyuncs com xxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx mysql rds aliyuncs com xxx event parser error c a otter canal parse inbound mysql mysql event parser dump address xxx mysql rds aliyuncs com xxx has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx mysql rds aliyuncs com xxx event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file java io io exception unexpected end stream kill dump error number field count message unknown thread id sql state hy sql state marker could not find first log file name in binary log index file java io io exception unexpected end stream could not find first log file name in binary log index file
231,版本 中 返回 会 触发 fixed issue fixed mysql null pointer exception select master binlog checksum mysql null null pointer exception cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br tks
230,监听 问题 服务 设置 监听 数据库 表 但是 程序 连接 到此 能 印出 别的 数据库 表 数据 变化 两 数据库 机器 中 配置 信息 程序 里 连接 这个 打印 信息 居然 监听 到了 别的 数据库 日 志 不清楚 为什么 这样 这个 属性 用来 指定 监听 数据库 想 一下 针对 实例 针对 数据库 嗯 嗯 知道 原理 谢谢 想想 通过 别的 方式 进行 解决 一下 canal canal tjxt busi cs canal tjxt busi ln mysql canal instance canal instance mysql slave id canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp canal instance db username canal canal instance db password canal canal instance database name tjxt busi cs canal instance connection charset utf canal instance filter regex canal instance filter black regex caanl binlog binlog c f s c listener busi ansc watcher thread binlog mysqld bin name tjxt busi ln busi wife b value event type insert canal instance database name tjxt busi cs canal binlog db allen ray
229,异常 版本 偶发性 报 如下 异常 伴 随着 丢失 偶发 时间 没有 规律性 没 遇到 过 这个 问题 建议 升级 版本 最新版 开启 心跳 定时 产生 心跳 事件 保证 链接 一致 包 传递 遇到 这个 问题 具体 场景 张 多万 记录 表 批量 更新 操作 语句 没有 条件 这样 基于 模式 就 特别 多 次 执行 数据 时 就 报 这个 错误 现在 使用 最新 版本 并且 加上 心跳 还是 出现 同样 问题 没 其他 解决 方案 附 异常 日志 测试 一下 貌似 客户端 处理 时间 过长 导致 如果 客户端 处理 很快 就 没有 这个 问题 所以 目前 解决 方案 客户端 中将 接收 处理 通过 文件 队列 异步 处理 这样 带来 麻烦 就 失败 逻辑 客户端 实现 次 各位 前辈 这个 问题 时不时 出现 实用 解决 方案 吗 谢谢 知道 解决 吗 一样 问题 数据 堆积 就 报错 java io io exception unexpected end stream canal destination example address xxx event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxx event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java binlog canal sql tcp update where row binlog w sql destination shuangshi address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination shuangshi address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination shuangshi address event parser error com alibaba otter canal common alarm log alarm handler destination shuangshi java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java message master tutulvlv
228,启动 报错 下载 版本 根据 中 启动 报错 如下 估计 环境 所有 环境 兼容 导致 可以 本地 测试 修复 一下 提交 遇到 同样 问题 不过 最后 排查 下来 换行符 导致 下载 转换 一下 就 搞定 这个 原因 环境 兼容 导致 版本 这个 版本 自带 估计 官方 一样 命令 改为 就 没有 问题 startup sh master snapshot quick start sh bin startup sh not found startup sh startup sh startup sh syntax error word unexpected expecting in shell pr dos unix keyganker shell linux ubuntu generic sh bash stop sh set ff unix
227,仓库 代码 编译 之后 支持 问题 开发 团队 使用 仓库 中 分支 代码 编译 错误 信息 篇 答案 说 变量 才 开始 支持 参考 如果 这样 的话 时候 意味 以后 会 支持 以下 版本 可以 增加 机制 忽略 异常 设置 情况 抛出 遇到 同样 问题 老 版本 楼上 最终 解决 方案 使用 当前 主干 试试 canal mysql hi canal canal master mysql server version error destination example address test event parser warn c a otter canal parse inbound mysql mysql connection java io io exception error packet error number field count message unknown system variable binlog checksum sql state hy sql state marker with command set master binlog checksum global binlog checksum changed file https github com alibaba canal commit c eecd a cba f a f d e f c dee image https cloud githubusercontent com assets bffa b e b dd c c png binlog checksum mysql http dba stackexchange com questions mysql slave database wont start canal mysql thx lock mysql server version mysql connection java l https github com alibaba canal blob f ad f e d bcf faca df e c parse src main java com alibaba otter canal parse inbound mysql mysql connection java l null pointer exception
226,清理 一下 主 主 日志 然后 重启 服务 端 启动 报错 清理 一下 主 主 日志 然后 重启 服务 端 启动 报错 大概 什么 原因 导致 呢 主要 主 日志 清理 从头 开始 里面 记录 所以 启动 报错 清理 文件 就 可以 mysql binlog canal canal mysql binlog canal canal destination tj address event parser error c a otter canal parse inbound mysql mysql event parser disconnect address has an error retrying caused by java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na mysql binlog binlog meta dat canal instance meta dat
225,服务 端 运行 段 时间 会报 如下 错 知道 如何 解决 程序 启动 连接 报错 怎么 解决 服务 端 重 启 运行 一下 过 阵 程序 启动 还是 继续 会 报错 下面 代码 获取 指定 数量 数据 逻辑 先 判断 插入 更新 如果 状态 完成 获取 数据 进行 保存 存 提交 确认 同步 错误 需要 回 滚 同步 错误 需要 回 滚 次 同步 时间 出现 这个 问题 怀疑 端 发生 重启 导致 内存 里 丢失 检查 一下 服务 端 日志 真是 这个 问题 端 开启 扫描 遇到 这个 问题 请问 怎么 解决 啊 客户端 增加 重试 或者 服务 端 关闭 两 种 思路 确认 一下 是否 进行 重 启 再就是 确认 是否 进行 清理 是否 进行 清理 同时 如果 进行 优化 的话 可以 说 那样 端 增加 重试 机制 并且 关闭 设置 成 一样 错 求解 这边 切换 版本 修改 地址 之后 就 一直 报 这个 错误 请教 怎么 处理 样 错 关闭 行 canal canal something goes wrong with reason something goes wrong with channel com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check canal true message message connector get without ack batch id message get id size message get entries size batch id size thread sleep interrupted exception e begin time date utils now date to timestamp mongdb handle message get entries connector ack batch id exception e system out println e get message logger error e connector rollback batch id end time date utils now date to timestamp logger info end time begin time ms server instance batch id agapple server scan true scan false sh ulibee canal server mysql binlog canal meta data agepple client canal server scan false kakfa kafka zookeeper thread warn c alibaba otter canal client impl cluster canal connector something goes wrong when rollbacking data from server null com alibaba otter canal protocol exception canal client exception java io io exception broken pipe at com alibaba otter canal client impl simple canal connector rollback simple canal connector java at com alibaba otter canal client impl cluster canal connector rollback cluster canal connector java at com xiaomatech dbevent canal dbkafka canal client process canal client java at com xiaomatech dbevent canal dbkafka canal client run canal client java at java lang thread run thread java caused by java io io exception broken pipe at sun nio ch file dispatcher impl write method at sun nio ch socket dispatcher write socket dispatcher java at sun nio ch io util write from buffer io util java at sun nio ch io util write io util java at sun nio ch socket channel impl write socket channel impl java at com alibaba otter canal client impl simple canal connector write with header simple canal connector java at com alibaba otter canal client impl simple canal connector rollback simple canal connector java more thread info c alibaba otter canal client impl cluster canal connector restart the connector next round retry thread warn c alibaba otter canal client impl cluster canal connector something goes wrong when get without ack data from server null com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x ca d exception com alibaba otter canal server exception canal server exception rollback error client id batch id is not exist please check at com alibaba otter canal client impl simple canal connector receive messages simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at com xiaomatech dbevent canal dbkafka canal client process canal client java at com xiaomatech dbevent canal dbkafka canal client run canal client java at java lang thread run thread java agapple scan false
224,获取 不到 更新 事件 操作 对应 如下 能 获取 如图 配置 如下 自定义 参数 添加 行 就 选择 模式 配置 需要 定义 能 重复 开启 慢 查询 值 表示 开启 关闭 设置 慢 查询 日志 放在 哪里 设置 执行 时间 多 长 慢 查询 表示 没有 使用 索引 查询 会 记录 下来 支持 经过 验证 部署 台 机器 时 可以 获取 事件 使用 或者 机器 真实 地址 都 可以 如果 使用 阿里云 怎么办 没 回 事 需要 部署 台 检查 过滤 条件 会 提交 为准 截 图 红色 框 住 状况 奇怪 检查 过 两 环境 配置 样 测试 方式 就 通过 同一 切换 地址 看看 端 过滤 条件 可以 试试 使用 情况 过滤 条件 两 环境 一样 这个 之前 换成 这个 远程 可以 工作 本机 部署 会 受到 影响 这样 格式 过滤 条件 删除 空白 远程 部署 就 可以 获取 正常 同机 受 这个 影响 进一步 对比 测试 发现 问题 总结 如下 没有 命中 操作 不管 部署 能 获取 为什么 没有 命中 会 获取 两 事件 不解 部署 本机 远程 对于 解析 不同 同机 部署 都 能 获取 远程 部署 种 方式 获取 可以 正常 工作 以上 现象 都 一样 配置 时 过滤 表达式 那里 填 种 格式 同步 数据 好像 没 问题 节点 都 台 机器 这个 表达式 还要 一下 调用 里 指定 参数 client update binlog image https cloud githubusercontent com assets ab af ae e c c ea a b png connector get without ack batch size transactionbegin transactionend image https cloud githubusercontent com assets c f ae e a e bfee png db mysqld pid file var run mysqld mysqld pid socket var run mysqld mysqld sock datadir data mysql log error var log mysql error log by we only accept connections from localhost bind address disabling symbolic links is recommended to prevent assorted security risks symbolic links explicit defaults timestamp lower table names max connections recommended in standard my sql setup sql mode no engine substitution strict trans tables innodb open files max connect errors max connections max user connections open files limit connect timeout interactive timeout wait timeout log bin mysql bin ok binlog format row row server id mysql replaction canal slave id skip name resolve innodb log file size m innodb buffer pool size g innodb log buffer size m innodb sync array size thread cache size max binlog size m binlog cache size m key buffer size m slow query log on off slow query log on slow query log file mysql slow sql query time sql log queries not using indexes emoji character set server utf mb collation server utf mb unicode ci canal mysql rowdata canal instance master address rds mysql client canal client client canal debug server rds canal instance filter regex test canal instance filter regex canal canal table black regex canal instance filter black regex canal event mysql canal canal instance filter regex canal instance filter regex sql canal client transactionbegin transactionend db canal regex db canal regx test test row event db cancal regx test row event regx test rds mysql otter canal test otter node db client subscribe
223,配置 未生效 请问 一下 配置 一下 参数 里 操作 没有 生效 啊 例如 配置 这个 时间戳 之前 之后 都 会 得到 不知道 什么 原因 啊 时间戳 定位 默认 会 回溯 秒 canal instance master conf example instance properties canal instance master journal name canal instance master position canal instance master timestamp bin stop sh bin start sh timestamp update update message
222,表 找 启动 时报 表 找 这个 错 查看 确实 张 表 记录 然而 通过 等 语句 查 不到 张 表 估计 表 权限 问题 启动 时报 表 找 这个 错 查看 确实 张 表 记录 然而 通过 等 语句 查 不到 张 表 特别 支持 阿里 云的 这个 过滤 就 可以 吗 现在 默认 识别 增加 过滤 机制 嗯 加了 过滤 过 滤掉 rds mysql mysql ha health check canal mysql mysql ha health check binlog events ha health check show tables sql gmt iadmirezhe notifications github com canal mysql mysql ha health check binlog events ha health check show tables sql you are receiving because you are subscribed to thread reply to email directly view it on git hub https github com alibaba canal issues or mute the thread https github com notifications unsubscribe auth a ay txbj g zt l sby es ua s qe xkxc omks q juga jp zm kw d https github com alibaba canal commit dca b e b dcc fc d f d a df rds rds mysql
221,获取 字段 值为 空字符 串 本身 应为 使用 过程 中 发现 问题 机器 插入 条 数据 比如说 获取 解析 结果 值 空字符 串 采用 方法 这个 框架 问题 本身 获取 字段 值 方法 对 中 对象 对象 使用 这个 进行 判断 是否 canal client null canal master insert into test values null canal column string column value column get value canal column get value column com alibaba otter canal protocol canal entry column column is null null
220,中 未 包括 操作 用户 问题 想 请教 一下 中 未 包括 操作 用户 这个 原因 因为 里面 本身 就 没有 还是 没 封装 解析 包含 具体 内容 相关 资料 吗 网上 都 说 不全 如果 想 尝试 增加 个人 觉得 部分 信息 应该 放在 里 对于 备份 完全 多余 应该 权限 管理 相关 处理 操作 日志 等等 没有 里 canal client entry canal client entry binlog operator user canal qe mysql binlog binlog mysql binlog
219,如何 支持 阿里云 订阅 目前 使用 订阅 阿里 增量 变化 数据 出现 如下 报错 已经 解决 阿里云 账号 缺少 读取 权限 应该 阿里 用来 监控 心跳 表 将 账号 升级 为高 权限 账号 赋予 账号 权限 报错 问题 解决 由此 衍生 问题 似乎 解析 一行 失败 抛出 异常 会 影响 后续 其他 正常 行 解析 导致 客户端 无法 接收 数据 点 猜测 并没有 细读 源码 如果 作者 看见 条 可以 适当 关注 一下 猜测 对 不过 不用 获取 那么 多 权限 那个 表 过 滤掉 就 可以 可以 设置 白 名单 表 针 对 黑名单 表 协议 只看 头 判断 命中 直接 丢弃 特别 支持 阿里 云的 canal rds canal rds com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql ha health check caused by com google common collect computation exception com alibaba otter canal parse exception canal parse exception fetch failed by table meta mysql ha health check rds mysql ha health check canal select mysql ha health check canal issue binlog header https github com alibaba canal commit dca b e b dcc fc d f d a df rds
218,次 更新 两 次 消费 问题 如下 复现 步骤 现有 两 库 需要 订阅 两 库 中 表 配置 文件 其他 配置 默认 其他 配置 保持 不变 其他 配置 保持 不变 其他 配置 保持 不变 配置 对 应于 对 应于 其他 配置 默认 测试 代码 其他 代码 里 执行 次 更新 操作 里 会 两 次 连续 一样 订阅 消息 请 问 什么 配置 问题 吗 还是 其他 问题 谢谢 测试 发现 只有 客户端 设置 表达式 才 能 过滤 设置 能 生效 明白 里 时 设置 users users users dml canal properties canal id canal ip canal port canal zk servers localhost canal destinations users building canal instance global spring xml classpath spring group instance xml group instance xml bean id event parser com alibaba otter canal parse inbound mysql mysql event parser property name event filter bean com alibaba otter canal filter aviater aviater regex filter constructor arg index value canal instance master filter regex bean property bean bean id event parser com alibaba otter canal parse inbound mysql mysql event parser property name event filter bean com alibaba otter canal filter aviater aviater regex filter constructor arg index value canal instance master filter regex bean property bean users building instance properties canal instance mysql slave id canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance master filter regex users users group instance xml event parser canal instance master filter regex canal instance master filter regex users users group instance xml event parser canal instance master filter regex connector canal connectors cluster connector users building cluster canal client test mysql terminal update users set sex where id console users update https cloud githubusercontent com assets b e fc f f e f c de d png filter deployer demo client subcribe filter
217,客户端 接收 字段 解析 成 协议 失败 数据库 表中 存 协议 然而 接收 解析 报错 想问 一下 支 支持 非 基本 类型 解析 类型 处理 字符串 可以 通过 还原 出来 谢谢 已经 解决 canal blob google protocol buffer google protocol buffer canal canal blob string iso string get bytes iso
216,如何 支持 目前 我们 项目 通过 监听 变化 更新 索引 上线 前 发现 有的 客户 数据库 目前 不支持 知道 作者 没 思路 支持 网上 找了 模式 开启 这个 模式 就 能 变更 记录 对于 没啥 研究 抱歉 canal sql server binlog sql server canal sql server sql server sql server cdc https msdn microsoft com en us library cc aspx track sql server
215,基于 测试 功能 测试 描述 基于 功能 不好用 部署 两 台 其中 台 挂掉 已经 切换 到新 新 获取 不正确 导致 读取 错误 中 名字 获取 中 后半段 乱码 解决 方法 修改 源码 中 对 获取 进行 过滤 添加 如下 代码 开始 过滤 过滤 修改 代码 重新 打包 测试 验证 功能 可以 自动 切换 但是 存在 切换 时 消费 端 重复 消费 问题 但是 中 测试 未 出现 问题 现在 测试 验证 版本 吗 源码 好像 读取 时候 就 存在 问题 对 协议 格式 了解 这个 定义 协议 格式 问题 吗 实际 代码 分析 出现 中 代码 获取 包 长度 一致 造成 获取 长度 多 获取 字节 导致 后续 处理 读取 多 字节 好问 作者 什么 情况 导致 获取 不一致 最后 位 可能 试着 找 关闭 一下 机制 看看 之前 支持 过 可能 协议 有点 不一样 没 完全 兼容 先 帮忙 验证 一下 是否 问题 之前 代码 限制 版本 号 才 会 开启 检查 以前 机制 估计 不一 样 行为 已经 确定 问题 但是 测试 稳定 版 查 源码 也是 稳定 版 代码 后来 看到 快照 版 代码 已经 修复 这个 问题 验证 通过 多谢 指教 发 件 发送 时间 收件人 抄送 主题 基于 测试 功能 最后 位 可能 试着 找 关闭 一下 机制 看看 之前 支持 过 可能 协议 有点 不一样 没 完全 兼容 先 帮忙 验证 一下 是否 问题 canal server mariadb ha bug canalserver mariadb ha canaserver server zookeeper canalserver canalserver binlogname mariadb binlog mariadb binlog canal canal test show binary logs log name file size mysql bin mysql bin mysql bin mysql bin canalserver binlogname binlog mysql bin nk u canalserver com alibaba otter canal protocol canal entry binlogname string filter log file name string logfile name system out println logfile name logfile name pattern p pattern compile mysql bin matcher m p matcher logfile name m find m group count system out println logfile name m group m group logfile name string get logfile name java lang object ref logfile name ref string filter log file name string ref com google protobuf string bs com google protobuf string ref string s bs to string utf com google protobuf internal is valid utf bs logfile name s filter log file name s ha canalserver client mysql mariadb protocolbuffer binglogname binlog protocolbuffer com alibaba otter canal parse inbound mysql dbsync netlen get uint packet len offset maraidb mysql mariadb logfilename netlen checksum mariadb mariadb binlog checksum ps mysql checksum mariadb checksum format description log event version product version split format description log event checksum version product canal checksum mysql mariadb checksum canal mariadb ps xiaolinziemail com agapple alibaba canal linwenxue author re alibaba canal canal server mariadb ha bug checksum mariadb mariadb binlog checksum ps mysql checksum mariadb checksum you are receiving because you authored the thread reply to email directly view it on git hub or mute the thread
214,怎么 能 监听 数据库 不同 表 怎么 能 监听 数据库 不同 表 复制 多 份 文件夹 然后 配置 文件 里面 分别 配置 不同 连接 表 信息 麻烦 作者 看看 没 好的 解决 方案 配置 里 写 多 张 表 匹配 正则 canal server canal server example
213,修复 方法 中 对 文件 名 进行 更 严格 验证 必须 数字 结尾 类 中 解决 如下 第二 方法 中 增加 代码 解决 语句 出现 乱码 问题 后面 多 字节 出现 乱码 会 进入 语句 导致 找到 位点 不准确 第一 方法 中 注释 代码 才 正确 不同 此处 需要 构造 子 循环 进行 遍历 第一 方法 中 将 首 设置 否则 会 导致 所有 都 默认 这么 改完 之后 行为 相 契合 后者 首 就 中 增加 元 数据 处理 相关 代码 不加 的话 所有 都 带 列名 基本上 没法儿 使用 补充 修复 对应 类 文件 关于 后来 没有 见到 回复 肯定 问题 我们 线上 已经 复现 两 三 次 导致 问题 主要 原因 在于 某个 时间 点 没有 节点 时候 客户端 通过 方法 拿到 可能 未来 如果 这样 的话 可能 会 出现 备 机上 成功 失败 场景 然后 客户端 最终 切换 主机 但是 如果 某个 时刻 切换 备机 就 问题 因为 备机 已经 初始化 过 并且 缓存 以前 没有 修复 我们 内部 直接 功能 全部 禁 所以 代码 没有 提交 issue bin log file queue list binlog files binlog local bin log connection bug dump decoder handle log event format description event query log event event get query begin binlog dump decode direct log fetcher dump binlog file event rotate log event event binlog file name mysql bin direct log fetcher binlogfile event rotate log event local binlog event parser event cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr lubiao seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user session handler canal server with embedded mysql event parser running cluster node access strategy next node standby ip subscribe get without ack instance meta manger position lazy tks
212,关于 离线 消费 设计 离线 消费 初衷 什么 阿里 内部 没 大批量 使用 过 这个 功能 我们 尝试 使用 过程 中 发现 很多 问题 离线 消费 时 构造 出来 带 元 数据 这样 应该 没法儿 事件 解析 存在 比如 中的 方法 注释 代码 才 正确 代码 中 第二 方法 应该 增加 语句 否则 返回 字符串 带 乱码 模式 获取 不到 类型 事件 导致 构造 始终 都 主要 用来 做 日志 重发 解析 内部 少 提交 解决 binlog bug binlog local binlog event parser table meta cache null event event bug local bin log connection dump local bin log connection dump decoder handle log event format description event query log event event get query local rotate event event binlog file name mysql bin local binlog event parser pr
211,客户端 认为 语句 如题 今天 做 测试 连接 本机 测试 等 语句 客户端 执行 将 等 语句 看成 语句 但是 连接 开发 服务器 就 正常 请 问这 什么 呢 估计 会 转换 具体 信息 canal insert update delete ddl mysql insert example insert update delete ddl mysql mysql rows query log canal sql reopen
210,设计 抽象 类 实现 怎么 可以 父类 中 显示 依赖 类 呢 可以 使用 锁 另外 太 清楚 抽象 类 类锁 是否 可以 mysql event parser event parser object cla assistant check https cla assistant io pull badge signed https cla assistant io alibaba canal pull request br all committers have signed the cla tks
209,说 一下 大致 场景 用户 使用 增量 同步 之前 会 先 进行 全 量 初始化 初始化 过程 中 可以 随时 中断 重新 初始化 我们 会 将 原来 文件夹 删除 重新 生成 文件夹 配置 文件 内容 一致 时候 启动 成功 次 扫描 间隔 会 次 因为 初始化 比较 大 所以 会 同步 一些 日志 如下 所以 成功 以后 应该 里 掉 不对的 地方 请 指教 谢谢 你们 重复 删除 增加 文件 的确 会 问题 fix a minor fault canal instance reload again after startup instance config instance s reload transaction client duplicate binlog canal instance scan info c a o canal deployer monitor spring instance config monitor auto notify start example successful canal instance scan info c a o canal deployer monitor spring instance config monitor auto notify reload example successful stop last files remove tks
208,带单 引号 导致 退出 优化 判断 带单 引号 导致 退出 优化 判断 mysql global binlog checksum master binlog format mysql global binlog checksum master binlog format assertion failed ret binlog checksum alg crc function get binlog checksum value at connect cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br tks
207,日志 疑问 首先 日志 通过 分析 代码 这样 异常 信息 时候 会 触发 可是 日志 文件 里 出现 这样 日志 分析 天 代码 让我 百思不得其解 请 问 作者 能 提供 点儿 什么 思路 吗 异常 一般 端 出现 重 启 导致 比如 开启 扫描 文件 变化 自动 重载 客户端 增加 重试 机制 就 这个 异常 产生 原因 清楚 感到 奇怪 通过 查看 堆栈 信息 方法 中 触发 这个 异常 查看 客户端 端 代码 时候 没有 判断 也就是说 这个 异常 应该 在此 出现 客户端 第一 次 会 触发 服务 端 进行 操作 com alibaba otter canal client impl cluster canal connector subscribe cluster canal connector java something goes wrong when subscribing from server null com alibaba otter canal protocol exception canal client exception failed to subscribe with reason something goes wrong with channel id x fe e exceptio n com alibaba otter canal server exception canal server exception destination ucarobd should start first at com alibaba otter canal client impl simple canal connector subscribe simple canal connector java at com alibaba otter canal client impl cluster canal connector subscribe cluster canal connector java at com alibaba otter canal client impl cluster canal connector subscribe cluster canal connector java at com ucar dep exchange binlog canal client process thread process canal client java at com ucar dep exchange binlog canal client process thread run canal client java should start first subscribing server scan true subscribe server subscribe check start should start first subscribe start
206,存在 直接 代码段 尝试 启动 如果 已经 启动 忽略 设置 状态 数据 问题 代码 没有 启动 就 可以 执行 个人 认为 正确 逻辑 应该 先 启动 判断 是否 启动 最后 执行 按 目前 代码 逻辑 会 产生 如下 问题 两 台 两 台 正在 运行 其中 名称 将 置 会 掉 然后 触发 重新 抢占 抢占 过程 中 节点 节点 注册 时间 间隔 因为 时间 间隔 所以 按照 逻辑 进行 时 拿到 一定 以后 抢 占到 节点 那个 即使 问题 仍然 可以 进行 操作 时候 会 报错 然后 重 连 虽然 重 连 但是 时 产生 脏数 信息 缓存 过了 天 处于 状态 台 关了 此时 接管 会 启动 但是 已经 启动 过 定位 天 前 悲剧 备注 此处 判断 目的 想 触发 但是 模式 不成立 请 参见 强烈 建议 改造 一下 模式 取 时候 认 节点 就 甭 支持 按 现在 设计 为了 支持 徒增 复杂度 导致 客户端 高 可用 切换 时间 有时 非常 长 看了 代码 订阅 时会 提前 启动 记录 订阅 信息 启动 数据 时候 才 会 校验 是否 拿到 锁 启动 服务 恩 即使 模式 置 时候 或者 重启 时候 会 出现 只有 节点 没有 节点 情况 此时 客户端 会 随机 取 节点 进行 重 连 这个 可能 本次 抢占 那么 就 会 触发 需要 改 两 处 代码 中 变更 启动 调用 顺序 中 方法 中 第一 行 增加 方法 方法 增加 会 风险 失败 即使 调用 方法 走到 方法 时 可能 没 初始化 完成 记得 以前 特意 去掉 不知道 这个 没有 校验 对于 你们 影响 subscription bug session handler subscription sub sub sub parse from packet get body string utils is not empty sub get destination string utils is not empty sub get client id client identity client identity sub get destination value of sub get client id sub get filter mdc put destination client identity get destination embedded server subscribe client identity embedded server is start client identity get destination server running monitor running monitor server running monitors get running monitor client identity get destination running monitor is start running monitor start ctx set attachment client identity netty utils ack ctx get channel null netty utils error message formatter format destination or client id is null sub to string get message ctx get channel null embedded server subscribe client identity instance subscribe running monitor instance subscribe canalserver canalclient instance xxx xxx active false xxx release zk xxx cluster xxx running cluster node access strategy canalclient connect ip running canalserver ip ip connect subscribe get subscribe position meta manager xxx running canal slave canal instance meta manager postion running monitor lazy start lazy start ha https github com alibaba canal issues cluster node access strategy ha address running lazy lazy embedded server subscribe client identity meta manager canal instance lazy active false instance autoscan cluster running cluster ip ip slave subscribe bug session hander runningmonitor subscribe canal server with embedded subscribe check start check start session hander start subscribe checkstart
205,启动 模式 成立 模式 启动 成立 首先 代码 创建 工作 节点 机制 启动 模式 会 启动 那么 节点 会 数据 节点 会 数据 代码 如果 服务 已经 启动 直接 选择 当前 正在 工作 节点 如果 存在 已经 启动 服务 可能 服务 种 启动 随机 选择 台 触发 服务器 进行 启动 默认 返回 第一 节点 之前 已经 做 过 由于 节点 都 存在 此处 会 进入 分支 客户端 会 一直 报错 没 办法 触发 启动 个人 认为 启动 比较 鸡肋 功能 增加 代码 复杂度 性价比 高 我们 内部 使用 时 完全 屏蔽 种 模式 类 中 段 代码 直接 注释 掉了 如果 存在 已经 启动 服务 可能 服务 种 启动 随机 选择 台 触发 服务器 进行 启动 默认 返回 第一 节点 之前 已经 做 过 找 节点 就 直接 抛错 免去 无谓 网络 交互 高 场景 切换 时间 尽可能 端 改造 的话 想到 思路 方法 增加 参数 只是 检测 节点 变化 不管 是否 模式 都 会 每个 创建 节点 这里 应该 这个 代码 目前 节点 注册 依赖 方法 逻辑 这里 的确 会 一点 问题 改进 办法 可以 增加 方法 方法 调用 创建 方法 受 模式 控制 恩 这个 可行 生命 周期 并不 条 线 中 负责 启动 这个 问题 倒是 没 那么 严重 估计 极少 那个 问题 建议 还是 及时 处理 我们 生产 环境 已经 遇见 过 两 次 问题 维护 时候 停掉 台 另外 台 接管 然后 重置 天 前 为啥 会 天 前 第一 次 拿到 历史 数据 更新 掉了 新 信息 instance lazy ha ha instance lazy canal controller map entry string instance config entry instance configs entry set string destination entry get key instance config config entry get value destination config get lazy embeded canal server is start destination ha server running monitor running monitor server running monitors get running monitor destination running monitor is start running monitor start auto scan instance config monitors get config get mode register destination action lazy server running monitor zookeeper otter canal destinations destination cluster running cluster node access strategy socket address next node running address null running address current address is empty lazy current address get shuffle canal client exception no alive canal server cluster running laze lazy cluster node access strategy current address is empty lazy current address get shuffle running server server running monitor start lazy server running monitor running lazy instance cid current address list cid server running monitor start server running monitor init init cid init lazy monitor instance init monitor lazy subscribe canal server instance position position subscrite store reopen issue
204,操作 语句 无效 订阅 这个 表 客户端 能 收到 消息 语句 没有 严格 按 表 进行 过滤 replace into filter replace into table query
203,fixed issue cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr zikaifeng seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user tks
202,修改 未 生效 我们 这边 通过 程序 实现 自动 添加 新 同步 表 修改 配置 项 发现 有时 修改 未 生效 对应 并为 查看 发现 逻辑 存在 漏洞 第一 次 启动 时 并未 记录 配置 文件 信息 所以 下次 扫描 前 默认 秒 配置 文件 发生 变更 将 无法 识别 自然 无法 进行 操作 下面 打的 存在 合法 并且 第一 次 添加 时 进行 启动 操作 历史 已经 启动 过 如果 存在 合法 历史 启动 过 所以 配置 文件 信息 必然 存在 通知 变化 启动 成功 记录 配置 文件 信息 能 提交 给我 合并 怎么 感觉 配置 没有 生效 呢 所有 库 任何 表 更新 都会 消费 呢 表 数据 过滤 针对 模式 会 有效 针对 以下 问题 修改 发现 同时 启动 两 数据 修改 会 两 实例 都 会 得到 更新 通知 或者说 嵌入式 支持 模式 那样 会 实例 监听 呢 使用 嵌入式 对于 配置 多库 配置 设置 时 比较 麻烦 相对于 生产 环境 模式 具体 一些 案例 测试 参考 吗 机制 实现 迁入 式时 需要 自行 解决 模式 可以 选择 创建 方式 可以 看下 结合 部分 大概 性能 左右 不同 用户 机器 环境 网络 都 一些 略微 变化 检查 是否 调用 方法 的话 需要 一致 否则 会 覆盖 配置 如果 那么 相当于 消费 所有 更新 数据 canal instance filter regex instance properties canal instance filter regex canal instance filter regex destination reload com alibaba otter canal deployer monitor spring instance config monitor reload reload patch index deployer src main java com alibaba otter canal deployer monitor spring instance config monitor java idea additional info subsystem com intellij openapi diff impl patch charset ep utf deployer src main java com alibaba otter canal deployer monitor spring instance config monitor java revision f cf a bd afc bf c fa aaccfd e deployer src main java com alibaba otter canal deployer monitor spring instance config monitor java revision scheduled executor service executor executors scheduled thread pool named thread factory canal instance scan is first true start start not null root conf root conf dir is null run scan is first is first false throwable e logger error scan failed e actions contains key destination instance configs length instance properties notify start instance dir destination notify start instance dir destination instance configs actions contains key destination instance configs length instance properties notify stop destination instance config files last file last files get destination todo is first collection utils is empty last file get instance files logger error is started but not found instance file info destination has changed judge file changed instance configs last file get instance files has changed notify start file instance dir string destination notify start file instance dir string destination file instance configs action start destination actions put destination action todo instance config files last file last files get destination list file info file info array list file info file instance config instance configs file info add file info instance config get name instance config last modified last file set instance files file info logger info auto notify start successful destination throwable e logger error scan add found but start failed destination exception utils get full stack trace e patch pr master canal instance filter regex row canal server with embedded standalone test canal server with embedded standby test meta mode meta mode zookeeper server instance server group xml server benchmark ha deployer ha group api otter canal canal tps w ihaolin canal connector subscribe filter filter instance properties canal instance filter regex subscribe filter instance subscribe filter
201,方法 方法 会报 方法 方法 都 初始化 但是 时候 会报 建议 分别 添加 能 更 详细 异常 堆栈 运行 方法 mysql connection seek dump null pointer exception seek dump log context java log context context log context decode null pointer exception java context set log position log position binlogfilename mysql event parser test test timestamp java destination null address event parser info c a o c p i mysql mysql connection com binlog dump with position binlog dump command packet binlog position slave server id binlog file name mysql bin command destination null address event parser warn c a o c p i mysql mysql event parser the binlogfile mysql bin doesn t exist to to search the next binlogfile caused by java lang null pointer exception at com taobao tddl dbsync binlog log decoder decode log decoder java at com taobao tddl dbsync binlog log decoder decode log decoder java at com alibaba otter canal parse inbound mysql mysql connection seek mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser find as per timestamp in specific log file mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find by start time stamp mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java https github com alibaba canal pull
200,项目 使用 发生 冲突 默认 依赖 可以 排除 启用 你自己 选择 谢谢 解决 log j canal logback slf j path contains multiple slf j bindings slf j found binding in jar file users raoshaoquan m repository org slf j slf j log j slf j log j jar org slf j impl logger binder slf j found binding in jar file users raoshaoquan m repository ch qos logback logback classic logback classic jar org slf j impl logger binder slf j see http www slf j org codes html multiple bindings an explanation slf j actual binding is of type org slf j impl log j logger factory log j warn no appenders could be found logger cn mwee search job misc my application context log j warn please initialize the log j system properly log j warn see http logging apache org log j faq html noconfig more info canal slf j logback logger
199,版本 太 老 依赖 做 二 次 开发 时候 其他 开源 项目 依赖 版本 冲突 提升 版本 upgrade protobuf version canal canal protobuf cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr yinxiu seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user tks
198,解析 问题 配置 如下 添加 行 就 选择 模式 配置 需要 定义 能 重复 日志 正常 能帮 看下 问题 吗 找 指定 时间戳 更 早 之前 时间 请教 具体 如何 解决 这个 问题 感谢 发现 删掉 就 可以 发生 上面 错误 原因 时间戳 问题 可能 导致 原因 文件 记录 时间戳 删掉 尝试 此外 可能 之前 名 中 已经 时间戳 记录 之后 修改 数据库 连接 但是 名 相同 因此 会 导致 这个 问题 修改 名 之后 就 可以 mysql canal bin log mysql my cnf mysqld log bin mysql bin ok binlog format row row server id mysql replaction canal slave id canal destination example address localhost event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination example address localhost event parser error c a otter canal parse inbound mysql mysql event parser dump address localhost has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position example destination example address localhost event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception can t find start position example mysql can t find start position example updated canal deployer conf example meta dat canal parse exception can t find start position example conf instance meta dat instance zookeeper binlog instance instance instance
197,数据库 阿里云 版本 最近 隔 天 就 会报 下面 错误 导致 接收 能 看出 问题 吗 建议 使用 主干 打包 试试 最近 发现 这个 问题 说得 主干 打包 什么 意思 没 明白 这个 问题 相同 里 提出 解决 方案 打开 心跳 具体 可行 方案 吗 刚 接触 不久 谢谢 使用 新版 试试 用的 偶尔 报 这个 错误 大概 小时 就 会 重现 不知道 客户端 引起 客户端 拉 次 消费 确认 循环 如果 数据 堆积 会 问题 吗 unexpected end stream exception rds canal binlog destination prodb address x y event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination prodb address x y event parser error c a otter canal parse inbound mysql mysql event parser dump address x y has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination prodb address x y event parser error com alibaba otter canal common alarm log alarm handler destination prodb java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination prodb address x y event parser error c a otter canal parse inbound mysql mysql event parser disconnect address x y has an error retrying caused by java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection disconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java kill connection agapple issue sql tutulvlv destination action log address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination action log address event parser error com alibaba otter canal common alarm log alarm handler destination action log java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination action log address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp destination action log address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination action log address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination action log address event parser error com alibaba otter canal common alarm log alarm handler destination action log java io io exception unexpected end stream at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination action log address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position identity slave id source address address port postion included false journal name mysql bin position server id timestamp master agapple
196,导入 项目 编译 报错 问题 描述 代码 版本 版本 版本 根目录 执行 命令 将 项目 导入 大面积 报错 大概 原因 项目 依赖 但是 中 导入 项目 项目 名 项目 名 匹配 大家 碰到 类似 问题 吗 工程 依赖 树 定义 都 全名 其他 工程 定义 看了 其他 工程 定义 依赖 都 全名 依赖 但是 依赖 项目 导入 就 全名 可以 见 问题 中 截 图 项目 对 版本 要求 还是 执行 命令 缺少 参数 自己 中 将 项目 名 手工 改 现在 编译 已经 没 问题 eclipse maven jdk mvn eclipse eclipse eclipse driver canal common eclipse common common qq https cloud githubusercontent com assets e d a e f b a e png canal xxx pom xml agapple pom xml eclipse common maven mvn eclipse eclipse eclipse
195,对 内存 竞争 导致 定位 错误 问题 前提 使用 作为 问题 描述 方法 中 存在 这样 段 代码 获取 一下 中 第一 条 更新 一下 根据 上下文 内存 中 时 段 代码 会 先取 出 中 根据 更新 中 位置 但是 中 更新 方法 代码 如下 添加 任务 队列 中 进行 触发 方法 会 先 将 调度 任务 加入 任务 队列 然后 更新 内存 中 调度 线程 会 先 去取 内存 中 更新 中 两 线程 处于 并发 竞争态 可能 会 发生 读 写 情况 问题 解决 办法 建议 如果 认可 这里 的确 可能 风险 里 两 句 话 调换 一下 位置 问题 背景 切换 时 发生 定位 错误 开始 情况 抱 问题 心态 找 问题 初步 将 问题 定位 这里 如果 存在 风险 更 大 地方 请 作者 指点一二 添加 任务 队列 中 进行 触发 这个 只是 标致 位 而已 具体 更新 时候 还是 获取 以下 当前 内存 中 值 进行 写出 会 出现 读到 旧版 本 数据 问题 一般 建议 单 客户端 调用 避免 并发 说 多 客户端 调用 问题 单次 执行 时 可能 会 发生 问题 定时 将 内存 位点 推到 更新 位点 内存 两 并行 过程 定时 推送 任务 启动 可能 早于 更新 位点 内存 操作 完成 因此 有可能 读到 旧 数据 先 完全 取决于 调度 情况 对于 代码 细致 要求 修改 风险 可控 position period mixed meta manager java meta manager canal server with embedded java subscribe position position canal instance get meta manager get cursor client identity position null position canal instance get event store get first position store position null canal instance get meta manager update cursor client identity position cursor logger info subscribe successfully with first position client identity position position null event store position position zk cursor period mixed meta manager update cursor client identity client identity position position canal meta manager exception update cursor tasks add client identity update cursor client identity position position position zookeeper cursor update cursor canal cursor update cursor tasks add client identity subscribe subscribe subscribe zk
194,部署 同机 高 可用性 问题 问题 情景 部署 同机 高 可用性 问题 版本 版本 问题 描述 现有 两 台 机器 分别 部 名 正常 运行 作为 备份 现将 进行 可以 切换 正常 运行 态 会 卡 方法 问题 分析 在内部 实现 时 会 一直 等待 获取 锁 未 采用 超时 返回 方法 只有 发生 切换 时候 原有 会 更新 位点 时 抛出 异常 从而 跳出 收发 循环 重新 订阅 节点 同时 发生 切换 时 由于 备份 一直 处于 等待 锁 状态 中 所以 未 能 更新 获取 参数 或者 重新 调用 方法 问题 修改 一些 源码 使其 暴露 带有 方法 从而 重试 方法 尚 以下 点 问题 由于 底层 加入 超时 机制 方法 会 抛出 超时 异常 从而 能 保证 正确 开启 关闭 连接 未 验证 只是 觉得 风险 其它 潜在 风险 才 刚刚 接手 块 源码 读 不够 深 望 得到 作者 指点一二 敬谢 看下 如果 卡 方法 检查 方法 是否 执行 成功 成功 之后 会 触发 回调 更新 方法 如果 调用 成功 会 修改 方法 会 返回 重试 但是 根据 日志 情况 分钟 前 过 日志 记录 可能 因为 机器 时 端 保有 原 黑洞 状态 连接 客户端 单切 造成 堵塞 情况 不太 一样 建议 作者 尝试 一下 基本 都 可以 重现 这边 说 甚 清楚 server client server client canal server client pc pc server client s c s c s c pc s c pc hanging pc reboot pc s c connector subscribe subscribe simple canal connector java mutex get timeout exception mutex get timeout time unit unit server client server binlog server server client client node subscribe hack timeout exception subscribe hack bug connect disconnect https github com alibaba canal issues subscribe init running mutex init running mutex subscribe init running reboot reboot client server
193,版本 配置 起始 时间 信息 启动 中 记录 配置 起始 位置 报 相同 错误 谢谢 大神们 帮忙 遇到 这样 问题 后来 删掉 重启 就 这个 方法 试 没用 知道 还有 其他 地方 没 设置 对 跑 配置 没 问题 配置 就 报 上面 错 跑 中 配置 方式 都 报错 配置 文件 三 参数 都 空 没 问题 配上 前 两 没 问题 跑 什么 版本 用户 执行 看看 没 开启 异常 已经 处理 请问 这个 问题 怎么 解决 怎么 没有 找到 文件 这个 异常 日志 信息 问题 怎么 解决 能分享 下么 好像 时间 不和 位置 较劲 canal kill dump position info canal instance master address xx xx xx xx canal instance master journal name canal instance master position canal instance master timestamp main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance core canal instance start successful destination example address xxxxxxxxx event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position destination example address xxxxxxxxxxx event parser error c a otter canal parse inbound mysql mysql event parser dump address xxxxxxxxxx has an error retrying caused by java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address xxxxxxxx event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address xxxxxxxx event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position client logs example example log kill dump conf example meta dat whlgh windows canal instance master timestamp canal instance master journal name canal instance master position linux mysql server id canal instance mysql slave id position info canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username root canal instance db password root canal instance database name test canal instance connection charset utf table regex canal instance filter regex table black regex canal instance filter black regex canal instance master journal name canal instance master position canal instance master timestamp linux whlgh root show variables like log bin mysql binlog kill connection meta dat destination inventory address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position destination inventory address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na
191,主备 同步 问题 现在 两 台 数据库 主 备 现在 情况 部署 两 相同 数据库 张 表 条件 均 正常 运行 未 启动 同步 中 条 数据 此时 由于 未 启动 同步 会 出现 条 数据 启动 同步 修改 中 刚才 插入 数据 中 会 出现 数据 种 情况 应该 如何 解决 谢谢 各位 转 可以 开启 行同步 模式 测试 时候 基于 数据库 反 查 就 能 就 会 出现 不同 步 今天 使用 基于 当前 日志 变更 时候 能够 成功 同步 过来 就 想问 数据库 反 查 日志 变更 使用 分别 用途 年 月 日 星期四 写道 看到 文档 就 麻烦 哈 谢谢 年 月 日 星期四 刘欢 写道 测试 时候 基于 数据库 反 查 就 能 就 会 出现 不同 步 今天 使用 基于 当前 日志 变更 时候 能够 成功 同步 过来 就 想问 数据库 反 查 日志 变更 使用 分别 用途 年 月 日 星期四 写道 my sql m m otter m m m otter m insert m otter m m update insert otter agapple notifications github com closed https github com alibaba canal issues you are receiving because you authored the thread reply to email directly view it on git hub https github com alibaba canal issues event or mute the thread https github com notifications unsubscribe auth abg ywge n s xm a kef u p ks rl ck o zyl pdks qc uu xga jp zm jbt q askingneil gmail com agapple notifications github com javascript e b d cvml notifications github com closed https github com alibaba canal issues you are receiving because you authored the thread reply to email directly view it on git hub https github com alibaba canal issues event or mute the thread https github com notifications unsubscribe auth abg ywge n s xm a kef u p ks rl ck o zyl pdks qc uu xga jp zm jbt q
190,群 拒绝 加入 怎么 才 能 加入 群 呢 群 还有 空闲 名额 重新 尝试 群 可以 加人 吗 没 其它 群 群 还有 空闲 名额 重新 尝试 群 可以 加入 吗 qq qq qq qq qq qq
189,数据库 连接 信息 会 内 自动 解析 问题 数据库 连接 信息 会 内 自动 解析 我们 服务 域名 会 不定期 更新 会 导致 连接 服务 请问 如何 配置 中 保持 域名 解析 研究 一下 提交 这个 问题 我们 遇到 我们 通过 配置 解决 能说 配置 如何 解决 域名 解析 成 问题 吗 canal otter manager ip canal otter manager ip ip canal mysql ip pr vpn vpn otter manager ip https github com alibaba otter issues fix
188,长时间 没 数据 可能 导致 连接 读 操作 永远 阻塞 读 事件 时 建 连接 设置 读 超时 时间 读 事件 时 方法 对 这个 方法 无效 永远 会 超时 参考 如果 段 时间 没 数据 比如 小时 这个 连接 失效 可能 因为 防火墙 问题 参考 虽然 设置 但是 系统 默认 配置 时间 太 长 作用 永远 阻塞 所以 这个 比较 如果 内 没 读到 数据 就 超时 强制 重新 建立 连接 目前 设计 时 依赖于 数据库 空闲 链接 超时 机制 默认 小时 会 断开 链接 链接 失效 指 半开 链接么 这个 客户端 能 获取 这个 问题 自己 测试 环境 中 容易 重现 版本 设为 小时 版本 如果 半 小时 无数 更新 就 无法 读取 新 重 启 就 正常 难道 数据库 配置 有关系 还是 其他 原因 期望 能 得到 指导 没有 任何 错误 日志 不好 分析 问题 暂时性 解决 方案 可以 开启 心跳 问题 真 没 遇到 过 连接 读 数据 默认 超时 时间 时间 太 长 超时 重建 连接 参考 好像 引入 之间 没 空闲 段 时间 超过 就 发送 事件 参考 里 默认 配置 默认 时间 都 太 长 可以 测试 这些 参数 试试 程序 想要 支持 默认 配置 不出 问题 最好 还是 像 开头 说 那样 自己 控制 超时 时间 连接 空闲 段 时间 比如 多 重新 建 连接 连接 闪 断 并不 知情 导致 后续 无法 通知 这个 怎么 破 建议 开启 心跳 设置 会 定时 更新 数据库 产生 心跳 如果 指定 时间 没收 心跳 信息 可以 尝试 重建 链接 连接 异常 比如 宕机 种 情况 被动 接收 数据 自然 会 知道 任何 链路 是否 正常 状态 关键 是否 实现 空闲 无重 连 机制 或者 异常 重 连 如若 实现 配置 哪个 参数 基于 被动 监听 式 没法 感知 断开 重要 还是 开启 心跳 或者 升级 针对 空闲 链接 会 定时 发送 心跳 事件 维持 链接 宕机 重启 这种 情况 面的 开启 心跳 没 什么 用吧 我们 需要 中 实现 这个 参数 需要 实现 功能 数据库 断开 时间 改成 分钟 并且 开启 心跳 检查 长时间 分钟 以上 没有 数据 新 插入 数据 会 获取 不到 过 不定 时间 能 获取 数据 分钟 不等 心跳 数据 都 能 正常 收发 日志 里 没有 任何 异常 输出 连接 闪 断 并不 知情 导致 后续 无法 通知 这个 怎么 破 这个 问题 怎么 解决 现在 遇到 这个 问题 刚刚 踩到 坑 设置 过小 导致 主库 执行 大事 务时 堵住 建议 设置 确实 这个 问题 知道 楼主 解决 这个 问题 改为 可以 生效 但是 长时间 没有 数据 阻塞 那里 时 会 响应 那里 需要 做 一些 改动 先 调用 但是 总 感觉 这个 方法 设计 有些 矛盾 但是 问题 现实 存在 虽然 但是 读 时候 阻塞 模式 能 解决 这个 问题 解决 方案 就是 读取 变更 地方 加 超时 就好 不然 就 能 依赖 机制 太 懂 已经 没用 套 自己 开发 套 方法 的确 会 报 超时 异常 目前 本人 使用 版本 暂时 将 使用 转为 生效 抛出 基于 原生 操作 参数 验证 可以 生效 暂时 使用 体验 感觉 更 稳 等 正式 发布 再试 试看 推荐 版本 基于 原生 操作 增加 超时 重 连 机制 mysql canal mysql canal mysql binlog channel socket set so timeout so timeout so timeout s binlog socket channel read buffer so timeout socket channel read http bugs java com bugdatabase view bug bug id mysql http www tldp org howto tcp keepalive howto overview html channel socket set keep alive true linux keepalive canal read sock socket get input stream read so timeout my sql eof exception mysql wait timeout canal mysql canal bin log canal server ps canal server sql mysql slave master slave net timeout s http dev mysql com doc refman en replication options slave html sysvar slave net timeout mysql master slave heartbeat binlog event master binlog event master heartbeat period slave heartbeat https www percona com blog actively monitoring replication connectivity with mysqls heartbeat http dev mysql com doc refman en change master to html master heartbeat period master heartbeat period slave net timeout s tianshazzq canal min mysql canl server tcp canl server binlog canal server canal binlog mysql canal mysql canal canal mysql canal socket server binlog mysql mysql binlog tcp mysql canal mysql slave net timeout agapple canal server canal server debug detecing config canal instance detecting enable true canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting sql select canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable false mysql canl server tcp canl server binlog canal server githubcjh canal instance memory buffer size canal buffer size inputstream sotimeout inputstream read thread interrupt event parser close socket thread interrupt canal nio nio buffer size mysql binlog tcp keeplive java socket channel read buffer https stackoverflow com questions timeout socketchannel doesnt work answer https stackoverflow com questions timeout socketchannel doesnt work answer direct log fetcher socket channel readable channel socket timeout socket timeout exception vamdt bio socket channel pool java https github com alibaba canal blob master driver src main java com alibaba otter canal parse driver mysql socket bio socket channel pool java socket so timeout agapple ok bio v socket bio
187,支持 类型 解析 支持 测试 数据 格式 数据库 版本 数据库 结构 商户 顾客 标准 属性 顾客 扩展 属性 就是 行 给出 测试 字符串 mysql json rt mysql uid data mail jiangchengyao gmail com name david address shangahai mail test bool true e mail true e bool true mail true e e time time time time time time time time n v ne n v ne n v n v v bug com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception illegal json data at com taobao tddl dbsync binlog json conversion parse scalar json conversion java at com taobao tddl dbsync binlog json conversion parse value json conversion java mysql winx create table customer data id bigint unsigned not null auto increment supplier id bigint unsigned not null comment id customer id bigint unsigned not null customer data json null comment customer ext data json null comment primary key id unique key uk cust customer id engine inno db auto increment charset utf mb debug str len agapple json
186,错误 遇到 过 这个 问题 多 消费 都 消费 时报 错 那边 情况 产生 检查 一下 端 是否 发生 重启 ack i o server worker error com alibaba otter canal server netty netty utils errot code caused by something goes wrong with channel id x d e exception com alibaba otter canal server exception canal server exception ack error client id batch id is not exist please check i o server worker error c a otter canal server netty handler session handler something goes wrong with channel id x d e exception java nio channels closed channel exception at org jboss netty channel socket nio nio worker clean up write buffer nio worker java at org jboss netty channel socket nio nio worker write from user code nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels write channels java at org jboss netty channel channels write channels java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder cleanup replaying decoder java at org jboss netty handler codec replay replaying decoder channel disconnected replaying decoder java at org jboss netty channel channels fire channel disconnected channels java at org jboss netty channel socket nio nio worker close nio worker java at org jboss netty channel socket nio nio server socket pipeline sink handle accepted socket nio server socket pipeline sink java at org jboss netty channel socket nio nio server socket pipeline sink event sunk nio server socket pipeline sink java at org jboss netty channel channels close channels java at org jboss netty channel channel close channel java at org jboss netty channel channel future listener operation complete channel future listener java at org jboss netty channel channel future notify listener channel future java at org jboss netty channel channel future add listener channel future java at com alibaba otter canal server netty netty utils write netty utils java at com alibaba otter canal server netty netty utils error netty utils java at com alibaba otter canal server netty handler session handler message received session handler java at org jboss netty handler timeout idle state aware channel handler handle upstream idle state aware channel handler java at org jboss netty handler timeout idle state handler message received idle state handler java at org jboss netty channel channels fire message received channels java at org jboss netty handler codec replay replaying decoder unfold and fire message received replaying decoder java at org jboss netty handler codec replay replaying decoder call decode replaying decoder java at org jboss netty handler codec replay replaying decoder message received replaying decoder java at org jboss netty channel channels fire message received channels java at org jboss netty channel channels fire message received channels java at org jboss netty channel socket nio nio worker read nio worker java at org jboss netty channel socket nio nio worker process selected keys nio worker java at org jboss netty channel socket nio nio worker run nio worker java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java canal server instance
185,无法 过滤 canal instance filter regex db
184,删除 表 问题 遇到 表 删除 会 种 情况 翻 一下 历史 建议 做 删除 性质 操作 包括 删表 删 字段 等 已知 问题 里 明确 建议 caused by java io io exception error packet error number field count message table secoo order writer db t increment sequence bak doesn t exist sql state s sql state marker with command desc order db t increment sequence bak at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache get table meta table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache access table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync table meta cache apply table meta cache java canal parse jar na issue ddl faq
183,关于 对于 格式 日志 解析 请 问 可以 解析 格式 日志 方法 类 吗 类似 对 日志 解析 可以 解析 出 数据库 名称 表 名 操作 类型 条 单纯 语句 可以 自行 依赖 解析 器 对于 输出 内容 进行 解析 得到 想要 结果 canal statement canal statement row sql sql
182,关于 日志 格式 数据 获取 mixed
181,连接 问题 方法 调用 值 这个 数 怎么 读出 这么 大 然后 就 内存 溢出 应该 异常 数据 流 建议 先 增加 客户端 重试 或者 机制 保证 如有 新的 信息 client simple canal connector java connect read next packet body len read header get body len ha reopen issue
180,问题 时候 报 这个 错误 时候 没有 这个 方法 报错 服务 端 没 启动 canal connectors cluster connector zk failover canal connectors cluster connector zk cluster node access strategy cluster path create zk client get children exception in thread main org i itec zkclient exception zk no node exception org apache zookeeper keeper exception no node exception keeper error code no node otter canal destinations cluster at org i itec zkclient exception zk exception create zk exception java at org i itec zkclient zk client retry until connected zk client java at org i itec zkclient zk client get children zk client java at org i itec zkclient zk client get children zk client java at com alibaba otter canal client impl cluster node access strategy init cluster node access strategy java at com alibaba otter canal client canal connectors cluster connector canal connectors java at com alibaba otter canal example cluster canal client test main cluster canal client test java
179,请 问 目前 版本 支持 吗 请问 目前 版本 支持 吗 没 做 过 测试 群里 做 过 类似 测试 询问 测试 一下 没 遇到 什么 特别 问题 mysql mysql
178,关于 持久化 文件 时间 间隔 问题 这边 测试 发现 如果 将 或者 两 时间 间隔 设 久 一点 由于 信息 还在 内存 中 没有 持久化 文件 或者 那么 重 启 或者 切换 节点 会 收到 重复 数据 想 问 直 连 是否 客户端 要 自己 做 消息 去重 逻辑 目前 想到 根据 是的 会 重复 去重 思路 基本 正确 zk canal zookeeper flush period canal file flush period client cursor zk canal ha canal binlog position
177,主从 库 切换 时候 异常 处理 修改 方案 出现 时 指定 次数 超过 次数 时 获取 当前 新 位点 重新 连接 错误 日志 输出 报警 输出 建议 以后 可以 实现 邮件 预警 先 合并 需要 做 一些 微调 比如 精确 识别 位点 存在 异常 rds io exception retry cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br hr yishun chen seems not to be a git hub user you need a git hub account to be able to sign the cla you have already a git hub account please add the email address used commit to your account https help github com articles why are my commits linked to the wrong user commits are not linked to any user tks pr binlog
176,客户端 高 可用 主动 干预 会 导致 链接 未 关闭 手工 登陆 当前 节点 会 触发 次 客户端 高 次 运行 节点 会 优先 选择权 次 运行 节点 没有 及时 关闭 次 打开 链接 触发 条件 非 正常 节点 干预 如果 出现 网络 抖动 引起 节点 消失 理论 网络 应该 整体 都 问题 会 断开 链接 解决 发现 节点 消失 先 执行 以下 本地 关闭 链接 操作 网络 抖动 时 引起 避免 泄漏 zookeeper running zookeeper delete client running socket running zookeeper running client canal server running socket socket
175,配置 模式 设置 过滤 作用 中 配置 调试 发现 变量 确实 设置 进 实例 里面 创建 进行 数据 请求 修改 数据库 下面 表 可以 收到 对应 修改 数据库 下面 表 同样 可以 收到 对应 注 两 数据库 都 创建 本地 确 认 设置 模式 条件 针对 数据 有效 其余 查询 会 进行 过滤 对 项目 本身 进行 过程 中 发现 问题 启动 附属 服务 时 关于 过滤 表达式 还是 正确 但是 处理 过滤 业务 线程 中会 发现 表达式 改变 下面 调试 过程 麻烦 请 一下 初始 启动 构造 连接 之前 构造 连接 之后 传入 过滤 条件 优先 级 最高 会 忽略 掉 服务 端的 设置 但是 想 服务器 端 设置 如果 写 程序 中 就 报错 写 就 端 覆盖 如何是好 啊 就是 想 中 内容 就 传 空值 就好 file instance xml table example instance table regex canal instance filter regex canal ad debug instance event parser event filter client canal advice client message test advice client message row filter row query deployer canal luncher debug canal server event parser table pattern event parser qq https cloud githubusercontent com assets aa d f e b efec baf png erosa qq https cloud githubusercontent com assets ce a c f e a ce c png erosa qq https cloud githubusercontent com assets dbd f e b dea f f png client subscribe agapple subscribe server regex instance client subscribe
174,选用 模式 的话 怎么 配置 呢 怎么 配置 逻辑 多 融合 总得 吗 一下 配置 示例 项目 中 配置 做 示例 麻烦 可以 配置 示例 地址 吗 canal group instance destination name instance destination name group instance xml example file instance xml group instance xml https raw githubusercontent com alibaba canal master deployer src main resources spring group instance xml
173,客户端 高 修复 原因 请 参见 后面 调整 部分 代码 主要 canal bug request issue https github com alibaba canal issues cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br thank you your submission we really appreciate it like many open source projects we ask that you sign our contributor license agreement https cla assistant io alibaba canal pull request before we can accept your contribution br https github com alibaba canal issues tks simple canal connector
172,配置 主从 库 主 库 切换 时候 出现 异常 异常 报错 如下 主从 库 切换 库上 没有 找到 时 报错 监听 可以 配置 主从 库 地址 这个 方法 可以 解决 问题 吗 像 种 问题 没 好的 解决 方案 错误 位点 需要 按照 时间戳 进行 订阅 大哥 错误 位点 时候 文件 丢失 重 启 错误 依旧 能 跳过 丢失 应该 主从 库 切换 引起 你们 没 遇到 过 种 问题 问题 错误 位点 没错 但是 一直 运行 运行 中 异常 设置 时间戳 可以 跳过 段 会 引起 数据 丢失 想 知道 种 错误 应该 怎么样 避免 配置 可以 避免 种 问题 发生 吗 或者 什么 解决 方案 模式 无法 感知 主备 切换 操作 之前 主库 位点 备库 新 主库 找 当然 会 找 目前 能 做好 监控 发现 主备 切换 及时 删除 前 做到 按时 间 重置 后续 版本 会 考虑 可以 提供 思路 如果 同学 兴趣 可以 按照 实现 订阅 之后 获取 一下 事件 作为 部分 记录 位点 中 节点 发生 位点 用时 通过 新建 链接 判断 一下 是否 有所 不同 如果 不同 自动 按照 时间戳 进行 订阅 查询 办法 这个 修改 建议 非常 不过 按此 修改 还是 会 出现 一些 问题 有些 时候 会 清除 规格 升级 等 总结 一些 规律 出现 时候 错误 基本 恢复 企业 应用 很多 情况 希望 跳过 错误 继续 后面 操作 并且 告知 相关 维护 人员 现在 修改 方案 出现 时 指定 次数 超过 次数 时 获取 当前 新 位点 重新 连接 错误 日志 输出 报警 输出 建议 以后 可以 实现 邮件 预警 配置 文件 配置 配置 的话 按 以前 方式 处理 相关 代码 已经 修改 并且 已经 测试 通过 应用 生产 环境 如果 版主 觉得 思路 正确 可以 提交 相关 代码 建议 提交 代码 一起 看下 代码 希望 未来 能 更 支持 类 模式 主备 集群 两 方法 可以 结合 处理 现在 遇到 这个 问题 我们 亚马逊 对 权限 做 限制 尝试 清空 里面 信息 并重 启 尝试 里面 设置 当前 时间戳 都 不行 请问 还有 什么 方式 手动 修复 吗 哎 知道 问题 默认 保留 分钟 如果 中断 分钟 以上 就 希望 能 提供 简单 命令 或者 配置 文件 重置 最新 位点 次 手工 操作 麻烦 修改 一些 代码 出现 种 错误 一定 次数 自动 重置 最新 位点 代码 提交 看看 阿里 哥们 会 会 采用 代码 合并 会 适当 精确 识别 一下 异常 内容 判断 需要 进行 主备 切换 尽可能 保证 丢 数据 貌似 这个 功能 rds destination crm csc address rdst y m pdn th mysql rds aliyuncs com event parser error com alibaba otter canal common alarm log alarm handler destination crm csc java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java binlog fetch canal could not find first log file name in binary log index file fetch bingo bingo canal instance properties standby rds vip canal binlog binlog binlog binlog mysql server id position binlog mysql server id mysql server id show variables like server id rds binlog rds io exception io exception retry exception retry count canal vip rds mysql flush logs zookeeper canal instance properties rds binlog canal pr mysql gtid
171,客户端 高 可用 存在 问题 场景 两 台 服务器 处于 激活 状态 客户端 使用 进行 消费 两 台 服务器 处于 激活 状态 发生 宕机 此时 会 执行 方法 中 三 步 第一 步 会 释放 节点 第二 步 线程 休眠 秒钟 第三 步 尝试 重 连 重 连 时候 会 执行 方法 释放 节点 会 立即 触发 执行 方法 中 两 大 步 第一 步 抢占 节点 第二 步 执行 方法 方法 肯定 会 报错 因为 此时 连接 执行 线程 会 异常 退出 此时 变量 仍然 并且 没有 释放 节点 后续 重连 都 没 意义 因为 没有 释放 节点 所以 变成 最终 结果 都 阻塞 此时 关闭 方法 会 触发 方法 仍然 会 报错 仍然 无法 恢复 消费 确认 一下 版本 第 步 启动 链接 因为 时效性 问题 未 能 及时 发现 已经 主 如果 可以 明确 重现 是否 修复 代码 版本 容易 重现 出现 上述 现象 原因 在于 方法 没有 对 抛出 异常 做 处理 节点 占住 没有 释放 导致 两 客户端 都 都 没有 机会 执行 修复 代码 正在 写 涉及 高 可用 代码 比较 绕 还没 写好 可以 看看 没 简便 修改 方法 还有 就是 类 中 方法 此处 应该 即时 取 次 否则 永远 没 机会 拿到 最新 第 步 启动 链接 因为 时效性 问题 未 能 及时 发现 已经 主 是的 没能 发现 原因 就 在于 段 代码 此处 应该 即时 取 次 否则 永远 没 机会 拿到 最新 代码 如果 第 步 启动 链接 时 拿到 会 执行 时 执行 失败 原本 期望 通过 客户端 发起 操作 处理 因为 热备 可能 异步 回调 时 报错 无法 触发 端 导致 长时间 挂起 想 种 比较 简单 改法 针对 执行 异常 时 主动 释放 节点 通过 异步 回 调来 进行 重试 方法 动态 获取 地址 就是 这么 改 机器 没 装 客户端 改造 代码 发 邮箱 抽 时间 看下 bug canal c c c cluster canal connector d d d c d cluster canal connector restart restart disconnect running init running d running d init running init running running process active enter d canal c init running zk d mutex false running d d running d mutext false d d d d init running d process active enter d canal d canal c d c canal client running monitor init running process active enter zk running mutex false simple canal connector connect inet socket address connect canal client exception channel socket channel open channel socket set so timeout so timeout channel connect address channel connect address address d canal server ip d canal c d c channel connect address address d canal server ip d c init running connect restart d init running client restart init running running simple canal connector connect address git jianghang gmail com
170,怎么 集成 因为 要 实现 多 客户端 订阅 效果 貌似 本身 支持 所以 考虑 结合 使用 能否 需要 直接 中 消息 直接 推到 中 要 定制 才 可以 定制 工作量 大 吗 使用 获取 消息 写入 现在 就是 写了 中间 应用 使用 订阅 然后 里面 多 次 消费 canal rocket mq canal rocket mq canal client canal server mq canal server canal client rocketmq redis instance redis
169,能否 对 多 关系 启动 两 结果 只有 第一 启动 可以 收到 消息 什么 原因 能 工作 热备 canal server client canal server client client
168,出现 寻找 问题 通过 日志 发现 依然 请求 原始 请问 这个 问题 是否 处理 机制 谢谢 请问 如何 处理 呢 删除 所有 二进制 日志 重新 创建 新 二进制 日志 原始 删除 就 无法 消费 所以 会 报错 解决 办法 重设 消费点 位 点位 之前 数据 丢失 reset master binlog pid nid exception canal shanghai canal java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java mysql canal binlog ch lgs reset master binlog canal
167,如何 适应 数据库 当主 挂 切换 备机 这个 时候 能 自动 连接 备机 获取 吗 怎么 设置 呢 多 看下 canal server ha db canal server binlog offset wiki
166,启动 服务 成功 监控 不到 数据库 改变 执行 时候 权限 不足 低级 问题 见 楼 回复 查看 过 权限 都 这个 问题 账号 权限 文件 权限 都 大 权限 缓存 节点 没有 清空 导致 destination image address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just show master status destination image address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception command show master status has an error caused by java io io exception error packet error number field count message access denied you need at least one of the replication client privilege s operation sql state sql state marker with command show master status at com alibaba otter canal parse driver mysql mysql query executor query mysql query executor java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection query mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find end position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na show master status zookeeper
165,能 正确 找到 点位 启动 正常 配置 使用 除 以外 都 能 正常 捕捉 数据库 改动 一旦 换成 就 能 正常 获取 通过 时间戳 找 对应 日志 文件 现在 已经 解决 压缩 包 传到 损坏 canal zookeeper zookeeper canal canal instance global spring xml classpath spring instance xml example instance properties canal instance master address canal instance master journal name canal instance master position canal instance master timestamp classpath spring instance xml classpath spring instance xml thread info c a otter canal instance spring canal instance with spring stop cannal instance example thread info c a otter canal instance spring canal instance with spring stop successful root note canal tailf n usr local canal deployer logs example example log main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance spring canal instance with spring subscribe filter change to main info c a otter canal instance spring canal instance with spring start successful destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination example address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position example destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception can t find start position example binlog linux
164,监听 实例 正则 过滤 问题 这样 特殊 数据库 同样 分布 多 里 分库 想 监听 所有 开头 划线 加数 字 结尾 库名 等等 因为 自动 扩容 这个 数字 累加 同时 存在 多个 无关 没法 一一 列举 试着 写了 如下 正则 过滤 配置 启动 未 生效 没有 抛错 像 类似 配置 怎么 写 不知道 这样 需求 正则 能否 满足 感谢 通过 反复 调试 这样 就 可以 table schema order order order order schema server canal instance filter regex order d order d
163,是否 存在 性能 瓶颈 部署 实例 消费 所有 实例 部署 台 服务器 并且 服务器 其他 服务 实现 初始化 连接 根据 直接 创建 链接 功能 获取 数据 毫秒 单位 问题 发现 部分 实例 执行 方法 耗时 大于 设置 值 大概 数据 量大 时 耗时 随之 放大 下面 次 请求 分析 发送 请求 收到 请求 完成 返回 数据 收到 数据 根据 日志 知 耗时 因此 可以 推断 出 因此 是否 可以 说明 之间 通信 存在 耗时 但是 这个 耗时 一般 情况 忽略不计 如果 性能 瓶颈 能否 优化 服务器 核 内存 优先 看下 内存 状态 一次性 取 数据 种 明智 做法 部署 过多 解析 队列 明智 需要 平衡 内存 业务 一般 我们 内部 使用 队列 获取 部署 实例 集群 版 本身 就 消费 队列 canal server canal client canal client ip ha canal connector connector canal connectors single connector inet socket address host ip port destination generate destination t system current time millis message message connector get without ack l time unit milliseconds t system current time millis batch id message get id logger info read batch id time ms batch id t t get without ack ms ms client client t server t embedded server get without ack client t client t t t ms t t ms get without ack ms t t ms client canal server canal server g canal server jvm gc a mb b server binlog jvm m ms canal server instance
162,支持 启动 主要 解决 目录 文件 查找 规避 掉 扫描 失败 触发 机制 ide canal launcher rt conf scan stop
161,按照 步骤 使用 一下 启动 观察 停 地 会 如下 报错 版本 版本 报告 一下 版本 就 最新 可以 下载 本地 然后 使用 进行 本地 解析 测试 好的 试试看 多谢 估计 这个 问题 使用 当前 分支 试试 这个 问题 怎么 解决 呀 版本 类似 问题 修复 过 次 使用 当前 分支 本地 打包 版本 测试 一下 问题 请 反馈 parse row data failed quick start startup sh example log destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception bad format x exceed at com taobao tddl dbsync binlog log buffer get decimal log buffer java at com taobao tddl dbsync binlog log buffer get decimal log buffer java at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java at com alibaba otter canal parse inbound mysql dbsync log event convert parse one row log event convert java canal mysql mysql home rong mysql bin mysql ver distrib linux x using edit line wrapper canal mysql binlog file log fetcher test https github com alibaba canal issues master build my sql master
160,取 数据 应用 日志 上看 取 数据 没有 取得 请问 一下 什么 原因 版本 版本 架构 自己 回答 一下 数据库 端口 配置 问题 数据库 两 实例 奇怪 连接 错误 端口 没有 任何 报错 确定 配置 中 吗 发自 年 月 日 写道 应用 日志 上看 取 数据 没有 取得 请问 一下 什么 原因 版本 版本 架构 默认 没有 改过 原因 已经 查 出来 见上面 回答 主要 奇怪 没有 任何 报错 日志 都 正常 会 默认 解析 所有 这里 开启 所有 日志 格式 当然 会 报错 对应 也会 出现 这个 问题 端口 没 改 配置 也是 采用 默认 支持 所有 格式 默认 解析 所有 会 导致 解析 数据库 采用 经过 验证 过 滤掉 库 表 信息 信息 收 但是 对应 还是 有的 同样 问题 想 订阅 所有 打头 接 数字 表 结果 没有 正则 错 还是 哪里 错 现在 本地 跑 一下 rowdata entry type transactionbegin transactionend rowdata canal mysq pxc pxc mysql binlog format row i phone song chang notifications github com entry type transactionbegin transactionend rowdata canal mysq pxc you are receiving because you are subscribed to thread reply to email directly or view it on git hub canal instance binlog format row statement mixed canal canal binlog canal snapshot my sql canal instance binlog format row statement mixed binlog rowdata row filter rowdata transaction begin transaction end connector subscribe actionlog d actionlog rowdata canal patten utils testcase
159,能 实现 对 中 某个 提交 吗 方法 中 参数 设置 成 时 假如 处理 某些 出错 然后 调用 就 会 导致 次 所有 回滚 吗 是否 会 导致 接下来 出现 重复 处理 相同 问题 想 问 提供 提交 某个 方案 吗 现在 思路 记录 库 名 表 名 主键 做 唯一 判断 防止 重复 处理 没有 单条 功能 时候 设置 点 主要 性能 考虑 怎么 处理 重复 呢 需要 业务 设计 幂等 执行 软件 层面 没法 避免 重复 ack message entry com alibaba otter canal client canal connector get batch size entry connector rollback batch id entry entry canal ack message entry rollback ack get batch size ps batch size
158,为什么 中 运行 报错 打包 运行 会 呢 奇怪 代码 你自己 环境 太 多 相关性 遇到 同样 问题 知道 怎么 解决 没有 应该 线程 模型 问题 canal launcher java io io exception connect failure java nio channels closed channel exception startup sh debug shuhuiguo
157,枚举 类型 字段 值 怎么 字符串 形式 读取 字段 类型 时 返回 值 想 问 能否 方便 地 获取 中 一样 字符串 值 呢 协议 里 数据包 就 类型 可以 拿到 数据库表 结构 定义 将 转为 对应 值 提供 获取 数据库表 结构 定义 方法 吗 查 没有 找到 协议 里 属性 mysql column get value mysql binlog agapple canal wiki entry mysql type
156,报错 信息 首先 配置 文件 权限 都 检查 过了 没啥 问题 这个 因为 目录 常规 目录 引起 吗 估计 手工 清理 过 日志 没 重置 信息 大 问题 解决 方案 不行 另外 如果 指定 位置 会 一直 卡 会 自行 做 重试 清理 记录 历史 位点 信息 如何 清理 记录 历史 位点 信息 删除 什么 文件 还是 重 启 删除 节点 或者 然后 重 启 里 节点 删除 链接 文字 删除 要 怎样 步骤 才 能 删除 呢 同步 进度 里 状态 删除 恢复 次 将 解析 过 存储 上面 第二 次 数据 时候 会 次 如果 找 找 如果 数据库 管理员 手动 清理 过 日志 或者 磁盘 过 满 自动 清理 日志 都 会 出现 这样 问题 解决 办法 就是 删除 对应 节点 一般 建议 使用 命令行 进行 删除 就 会 同步 修改 文件 删除 重 启 还是 爆 这个 错 请问 还有 别的 解决 办法 吗 could not find first log file name in binary log index file destination mysql address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position data mysql data data mysql bin destination mysql address event parser error c a o canal parse inbound mysql dbsync direct log fetcher i o error reading from client socket java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination mysql address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination mysql address event parser error com alibaba otter canal common alarm log alarm handler destination mysql java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java my sql canal instance properties canal instance mysql slave id canal instance master address canal instance master journal name data mysql data data mysql bin canal instance master position my sql bin log could not find first log file name in binary log index file at binlog mysql binlog index google reset master binlog instance thread show master status canal canal canal zookeeper zk meta dat instance otter manager node position canal journalname zk parse zk journalname master first index file name mysql index agapple instance meta dat canal
155,版本 兼容 问题 吗 使用 最新版 仓库 取的 依赖 出现 莫名 超时 问题 其他 应用 支持 使用 调度 出现 超时 现象 一直 联 通 方式 就 没有 问题 超时 抛 错误 如下 这个 类 这个 没法 同步 导致 超时 具体 原因 没有 找到 后来 换成 还是 行 里 保留 版本 兼容 信息 能 配合 吗 谢谢 这个 错误 怎么 解读 连 或者 链接 超时 异常 因为 引起 先 解决 问题 谢谢 因为 网络 环境 下有 两 地址 如果 设置 默认 无法 连接 导致 指定 端 还是 抛 类似 错误 端 两 没有 找到 配置 不知道 是否 可以 指定 端的 段 不通 都 默认 段 局域网 没有 指定 说 返回 信息 建立 一致 先 简单 弄 单 客户端 机器 time out hi server v client v jar zookeeper zk server cdh cdh cdh zookeeper clinet simple error zk client event thread cdh cdh cdh zk event thread error handling event zk event data of otter canal destinations user running changed sent to com alibaba otter canal client impl running client running monitor b com alibaba otter canal protocol exception canal client exception java net connect exception operation timed out at com alibaba otter canal client impl simple canal connector connect simple canal connector java at com alibaba otter canal client impl simple canal connector access simple canal connector java at com alibaba otter canal client impl simple canal connector process active enter simple canal connector java at com alibaba otter canal client impl running client running monitor process active enter client running monitor java at com alibaba otter canal client impl running client running monitor init running client running monitor java at com alibaba otter canal client impl running client running monitor handle data deleted client running monitor java at org i itec zkclient zk client run zk client java at org i itec zkclient zk event thread run zk event thread java caused by java net connect exception operation timed out at sun nio ch net connect method at sun nio ch net connect net java at sun nio ch net connect net java at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal client impl simple canal connector connect simple canal connector java more debug mutex get get interrupted exception sync inner get server v zk client server error zk event thread error handling event zk event data of otter canal destinations user running changed sent to com alibaba otter canal client impl running client running monitor b d zk node otter canal destinations user running active true address client id java net connect exception operation timed out at server error handling event timeout server ip ip client server ip client client running monitor canal is running in but not in client ip client ip ip ip client ip address utils get host ip socket ip ip
154,解析 报错 报错 日志 是否 可以 重现 比如 什么样 可以 造成 这样 问题 是否 可以 提供 文件 全 车 抛光 洗车 去污 抛光 日志 修改 商品 全 车 抛光 洗车 去污 抛光 全 车 抛光 操作 成功 改为 正常 印象 中 才 支持 模式 提供 原始 二进制 文件 解析 文本 都 试过 不行 自己 做 代码 或者 提供 复现 办法 或者 提供 原始 二 进制 文件 不然 帮 自己 做 代码 或者 提供 复现 办法 或者 提供 原始 二 进制 文件 不然 帮 canal binlog caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get full string log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java canal parse dbsync jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse one row log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na mysql sql binlog root mysql mysqlbinlog no defaults base output decode rows v start position data logs mysql mysql bin more set session pseudo slave mode set session max insert delayed threads set old completion type completion type completion type delimiter at at server id end log pos table map crm t product mapped to number at server id end log pos update rows table id flags stmt end f update crm t product where set at at server id end log pos table map crm t sys log mapped to number at server id end log pos write rows table id flags stmt end f insert into crm t sys log set dml modify clear amt data flag first category market amt myself false page num page size product s vo car type name product desc product id p roduct name product status sale amt second category store id sys log list update user entry position included false journal name mysql bin position timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get full string log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java canal parse dbsync jar na canal my cnf binlog row image minimal full canal minimal binlog canal canal sanpshot debug binlog debug binlog destination example address event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position timestamp com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception limit excceed at com taobao tddl dbsync binlog log buffer get full string log buffer java
153,无法 关闭 问题 开启 功能 并且 实际 执行 过 动态 增减 操作 执行 无法 关闭 服务器 一直 处 卡 死 等待 状态 能 通过 结束 进程 执行 之后 执行 一下 获取 一下 线程 堆栈 基于 当前 新版 暂 发现 失败 问题 canal canal auto scan instance sh stop sh canal kill stop jstack stop
152,是否 消息 一样 能 保证 最少 次 能 保证 次 数据 库主 备 切换 崩溃 重启 等 情况 是否 会 重复 发送 消息 出现 相同 语句 涉及 太 多 网络 因素 没法 保证 目前 所谓 高 性能 保证 重复 顶多 基于 一些 存储 做了 一些 去重 处理 要 理解 网络 不可 确定性 除了 网络 因素 是否 情况 一定 会 出现 重复 消息 例如 然后 重启 如果 必然 出现 重复 情况 可以 方便 进行 一些 测试 就 种 网络 确定 因素 数据 发给 没 返回 能 下次 发给 canal mq canal canal insert mq kill canal pid kill ack
151,版本 使用 什么 版本 我们 之前 都 添加 数据表 时候 如何 匹配 全 库 所有 表 先 视频 都 一遍 jdk jdk otter wiki
150,merge pull request from alibaba master merge pull request cla assistant check https cla assistant io pull badge not signed https cla assistant io alibaba canal pull request br you should sign our contributor license agreement in order to get your pull request merged br
149,关于 官方 文档 中 基于 协议 请求 中 看到 种 请问 代表 什么 意思 官方 文档 哪里 可以 找到 相关 说明 搜索 binlog send annotate rows event mysql com binlog dump dump flags binlog dump non block binlog send annotate rows event mysql binlog protocol
148,目前 支持 吗 目前 支持 吗 刚 一下 代码 貌似 支持 意味 支持 读 写 都 可以 看下 都 明确 描述 目前 不支持 对于 需求 可以 参考 项目 支持 反过来 支持 吗 开源 支持 请 问 版 就 还是 基于 实现 版本 基于 物化 视图 做 canal oracle canal oracle https github com alibaba canal blob master instance manager src main java com alibaba otter canal instance manager canal instance with manager java l https github com alibaba canal blob master instance manager src main java com alibaba otter canal instance manager canal instance with manager java l otter mysql wiki oracle oracle https github com alibaba yugong yugong oracle mysql mysql oracle yugong mysql oracle oracle canal yugong ogg https github com alibaba yugong yugong oracle
146,启动 成功 但是 查看 发现 错误 系统 配置 配置 信息 信息 用户 权限 查看 自己 链接 这个 问题 今天 解决 这样 因为 不同 版本 问题 导致 创建 用户 赋予 权限 密码 出现 不同 设置 成 时候 会 导致 无法 登录 需要 命令 单独 运行 次 版本 遇到 这样 问题 搜索 资料 通过 如下 方式 解决 增加 普通 用户 执行 不知道 哪里 匿名 用户 好囧 改 权限 重 启 必须 重启 啊 按照 方法 解决 用户 添加 权限 然后 服务 端 数据库 变动 就 报 这个 错误 请 同仁 帮忙 一下 下载 最新 版本 解决 canal instance cent os etc my cnf mysqld datadir var lib mysql socket var lib mysql mysql sock log bin mysql bin binlog format row server id disabling symbolic links is recommended to prevent assorted security risks symbolic links mysqld safe log error var log mysqld log pid file var run mysqld mysqld pid instance properties cat conf example instance properties mysql server id canal instance mysql slave id position info canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username canal canal instance db password canal canal instance database name canal instance connection charset utf table regex canal instance filter regex table black regex canal instance filter black regex canal log java hot spot tm bit server vm warning ignoring option perm size m support was removed in java hot spot tm bit server vm warning ignoring option max perm size m support was removed in java hot spot tm bit server vm warning use cms compact at full collection is deprecated and will likely be removed in a future release main info com alibaba otter canal deployer canal launcher start the canal server main warn com alibaba otter canal common utils address utils failed to retriving local host ip address scan network card ip address cause scidb work scidb work unknown error main info com alibaba otter canal deployer canal controller start the canal server main info com alibaba otter canal deployer canal launcher the canal server is running now example log main info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties main info c a o c i spring support property placeholder configurer loading properties file from path resource example instance properties main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance spring canal instance with spring start successful destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception java io io exception connect failure java io io exception error when doing client authentication error packet error number field count message access denied user canal localhost using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception connect failure java io io exception error when doing client authentication error packet error number field count message access denied user canal localhost using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java canal parse driver jar na at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception java io io exception connect failure java io io exception error when doing client authentication error packet error number field count message access denied user canal localhost using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java caused by java io io exception connect failure java io io exception error when doing client authentication error packet error number field count message access denied user canal localhost using password yes sql state sql state marker at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java my sql mysql select distinct concat user user host as query from mysql user query user canal user root user root user localhost user root localhost user scidb work user root scidb work rows in set sec client mysql localhost localhost mysql mysql use mysql mysql delete from user where user mysql flush privileges maoyikun mysql flush privileges destination example address localhost event parser error c a o c p inbound mysql rds rds binlog event parser proxy dump address localhost has an error retrying caused by java lang illegal argument exception null at java util concurrent thread pool executor init thread pool executor java na at java util concurrent thread pool executor init thread pool executor java na at java util concurrent executors fixed thread pool executors java na at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination example address localhost event parser error com alibaba otter canal common alarm log alarm handler destination example java lang illegal argument exception at java util concurrent thread pool executor init thread pool executor java at java util concurrent thread pool executor init thread pool executor java at java util concurrent executors fixed thread pool executors java at com alibaba otter canal parse inbound mysql mysql multi stage coprocessor start mysql multi stage coprocessor java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination example address localhost event parser warn c a o c p inbound mysql rds rds binlog event parser proxy prepare to find start position just show master status shiyuan he
145,添加 过滤 方法 添加 过滤 可以 过滤 掉 数据 用于 仅 订阅 除 以外 数据 麻烦 审核 一下 多谢 rowdata parse rows event rowdata rowdata rowdata tks
144,注销 父类 已经 有的 属性 避免 调用 没有 子类 初始化 同名 属性 分支 代码 使用 时报 start fix issue master otter null pointer exception tks
143,分支 代码 使用 时报 原因 声明 相同 名字 属性 行 调用 调用 父 类 没有 初始化 属性 导致 初始化 行 master otter null pointer exception pid nid exception setl java lang null pointer exception at com alibaba otter canal instance core canal instance start canal instance java at com alibaba otter canal instance manager canal instance with manager start canal instance with manager java at com alibaba otter canal server embedded canal server with embedded start canal server with embedded java at com alibaba otter node etl select selector canal canal embed selector start canal embed selector java at com alibaba otter node etl select select task startup select task java at com alibaba otter node etl select select task run select task java canal instance with manager canal instance canal instance with manager java start start meta manager logger info start cannal instance with parameters canal id destination parameters start
142,版本 中 版本 冲突 问题 块 时候 版本 中 中 版本 冲突 一样 排除 包 种 问题 什么 解决 方案 吗 多谢 啊 为什么 当时 使用 这个 稍微 大众 版本 这个 为什么 关掉 呀 今天 版本 遇到 这个 问题 这个 包 历史 有点 悠久 如果 方便 可以 提交 给我 canal zkclient kafka zkclient canal kafka canal zkclient com github sgroschupf kafka zkclient com tec zkclient artifact id com tec zkclient issue pr
141,请教 使用 问题 多谢 文档 说 多 实例 能 重复 请问 有啥 影响 试 好像 没 什么 问题 里面 正则 监听 表 多个 表 对 服务 端 性能 影响 大 吗 因为 我们 表 动态 生成 如果 影响 大 客户端 动态 订阅 就 多 客户端 连接 时 发现 条 消息 会 收到 次 请问 这个 特性 靠谱 吗 主备 集群 出现 重复 时候 会 随机 客户端 链接 正则 表达式 会 长度 限制 相比 正则 计算 网络 会 先 成为 瓶颈 建议 都 使用 模式 可以 保证 工作 并且 能 收到 全部 数据 canal canal server id instance properties canal otter canal mysql server id mysql kill i o server client server client ha client client
140,是否 支持 客户端 读取 同步 是否 支持 客户端 读取 同步 目前 提供 版本 采用 协议 进行 通讯 可以 按照 协议 需求 自行 完成 版本 开发 python binlog python binlog canal java server protobuf python client
139,关闭 之后 连接 未 释放 使用 时 发现 库 没有 任何 产生 时 关闭 部分 连接 未 释放 版本 版本 关闭 前 堆栈 信息 如下 关闭 前 连接 信息 如下 执行 发现 连接 未 释放 如下 另外 偶尔 会 出现 以下 莫名 连接 执行 是否 已经 完整 退出 进程 完整 退出 退出 照理 应该 完全 退出 确认 是否 对应 进程 之前 链接 确实 连接 经过 测试 已经 正确 关闭 不过 部分 情况 操作 系统 链接 会 一直 处 状态 可以 通过 调整 操作 系统 参数 加速 回收 类 状态 链接 服务 端 主动 推送 数据 模式 客户端 发起 之后 服务 端 一致 发送 包 导致 一致 处于 状态 采取 策略 针对 链接 完成 之后 新开 链接 发起 次 请求 彻底 关闭 链接 行 出 连接 时 如果 发生 异常 建议 抛出 记 一下 就 毕竟 非 主要 流程 今天 日志 一直 死 循环 报 这个 但是 重启 就 无法 重现 所以 这里 提 一下 看有 没 别人 遇到 过 这个 问题 最新 代码 已经 提交 记录 异常 没有 往外 抛 行 出 连接 时 如果 发生 异常 建议 抛出 记 一下 就 毕竟 是非 主 支流 程 今天 日志 一直 死 循环 报 这个 但是 重启 就 无法 重现 所以 这里 提 一下 看有 没 别人 遇到 过 这个 问题 canal mysql canal mysql binlog canal mysql mysql log canal destination address heart beat time task daemon prio tid x f b c d nid x b in object wait x f b d java lang thread state timed waiting on object monitor at java lang object wait method at java util timer thread main loop timer java locked x ffa a java util task queue at java util timer thread run timer java destination address event parser prio tid x f bd e nid x a runnable x f b d java lang thread state runnable at sun nio ch file dispatcher impl read method at sun nio ch socket dispatcher read socket dispatcher java at sun nio ch io util read into buffer io util java at sun nio ch io util read io util java at sun nio ch socket channel impl read socket channel impl java locked x a efb a java lang object at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java mysql mysql show processlist xxx null sleep null xxx null binlog dump master has sent all binlog to slave waiting binlog to be updated null bin stop sh log log thread info c a otter canal instance spring canal instance with spring stop cannal instance thread info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to destination address event parser info c a o canal parse inbound mysql dbsync direct log fetcher i o interrupted readi ng from client socket java nio channels closed by interrupt exception null at java nio channels spi interruptible channel end interruptible channel java na at sun nio ch socket channel impl read socket channel impl java na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java canal parse snapshot jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse snapshot jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse snapshot jar na at java lang thread run thread java na destination address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to thread info c a otter canal instance spring canal instance with spring stop successful thread info c a otter canal server embedded canal server with embedded stop canal instances successfully mysql image https cloud githubusercontent com assets bcd bab e a c cab png stop jvm agapple jvm jvm tcp canal tcp canal debug canal socket tcp close wait mysql binlogdump socket close ack close wait binlog dump socket close kill connection id binlogdump mysql connector fork kill connection log destination ucarorder to es address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination ucarorder to es address event parser error c a otter canal parse inbound mysql mysql event parser error find as per timestamp in specific log file has an error java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser find as per timestamp in specific log file mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find by start time stamp mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java gmt hechaoyi notifications github com mysql connector fork kill connection log destination ucarorder to es address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination ucarorder to es address event parser error c a otter canal parse inbound mysql mysql event parser error find as per timestamp in specific log file has an error java io io exception kill dump failure java io io exception error packet error number field count message unknown thread id sql state hy sql state marker with command kill connection at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse driver mysql mysql connector disconnect mysql connector java at com alibaba otter canal parse driver mysql mysql connector reconnect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection reconnect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser find as per timestamp in specific log file mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find by start time stamp mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position internal mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser find start position mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java you are receiving because you were assigned reply to email directly view it on git hub https github com alibaba canal issues issuecomment or mute the thread https github com notifications unsubscribe auth a ay t ras gi bbgz ee zps j g cc uks qea ga jp zm h elfj
138,理论 进程 需要 实例 管理 多个 先 将 这里 改成 单 例 后续 修改 代码 增加 移除 子类 大量 重复 代码 代码 应以 支持 未 前提 如果 部分 代码 没有 问题 打算 着手 修改 实现 赞赞哒 提交 行为 值得 肯定 鼓励 make canal server become a single instance jvm canal server canal server canal instance otter canal instance canal instance canal otter otter canal server pr
137,版本 错误 如下 位置 如下 使用 变更 字段 出现 种 情况 已经 用户 修复 新 版本 发布 后即 或者 自行 打包 当前 java lang array index out of bounds exception com alibaba otter canal parse inbound mysql dbsync simple ddl parser parse table name simple ddl parser java qq https cloud githubusercontent com assets b a a a e dba feaa a c png binlog qq https cloud githubusercontent com assets c b e a e c ef c d png pt online schema change https github com alibaba canal pull master
136,主键 时 数据 会 导致 不匹配 从而 监控 掉 问题 描述 题 以下 应该 做了 字段 删除 操作 主键 无关 未 做 过 字段 删除 而且 添加 主键 就 没有 这个 问题 个人 猜测 因为 对 无主键 表会 自动 创建 隐藏 主键 中 带有 这个 隐藏 主键 数据 中 没有 字段 两 边 无法 对应 因此 程序 报错 对于 种 情况 可否 作 适当 处理 测试 的确 默认 会 对 无主 键表 添加 隐藏 字段 需要 权限 才 见 什么 推荐 解决 方案 吗 目前 我们 需 监测 库 这样 情况 常常 会 出 问题 使用 新 自主 用户 权限 对 授权 权限 能 吗 怎么 玩 主备 切换 目前 没有 处理 会 导致 位点 报错 需要 清空 文件 重新 自动 获取 最新 点位 目前 对于 模式 支持 不好 这样 会漏 数据 因为 清空 文件 新 发现 切 段 时间 数据 就 没 记录 次 文件 里 时间戳 基于 时间戳 重新 定位 无主 键表 会 隐藏 列 会 每张 表 最后 列 类型 可以 兼容 一下 文件 位置 哪里 为什么 目录 没有 找到 文件 位置 哪里 为什么 目录 没有 找到 模式 需要 执行 里面 掉 那个 table insert column info table meta size instance hang error log destination address event parser error com alibaba otter canal common alarm log alarm handler destination crm com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception column size is not match table s t vs column size is not match table s t vs mysql binlog table meta rds rds rds rds canal rds canal librazk rds canal rds canal meta bat canal vip rds meta slava position master meta rds alibaba rds row id meta bat canal meta bat canal zookeeper zk cli delete canal path
135,值 变为 空字符串 时 属性 版本 将 类型 列 值由 改为 时 获取 里 属性 感觉 方法 旧 值 时 旧 方法 可以 判断 是否 值 中 发现 使用 方法 判断 是否 发生 变更 然后 就 有些 列 同步 错误 多谢 反馈 问题 代码 已经 修复 下个 版本 发布 客气 期待 更加 完善 null is updated false mysql varchar null canal entry column isupdated false log event converter is updated bug value null column get value column is null null otter otter canal column is updated canal otter
134,关于 问题 类 方法 中 判断 不够 应该 当前 空闲 内存量 新 加入 事件 所占 内 存量 进行 比较 才 对 望 指教 这个 出来 结果 就 当前 内存 中 未 数据 也就是 使用 中的 内存 块 因为 特性 模式 位点 之间 会 部分 内存 数据 未 及时 清理 不过 一般 数据 高速 过程 中 总的 内存量 可控 并不 非常 精确 恩 明白 max memory size hi jianghang memory event store with buffer check free slot at batch mode is mem size memsize put mem size get ack mem size get memsize buffer size buffer mem unit true false true memsize buffer size buffer mem unit buffer size buffer mem unit put mem size get ack mem size get get ringbuffer lazy set get put tks
133,关于 事务 截断 疑问 下面 实验 步骤 发现 除了 参数 可能 导致 事务 截断 外 客户端 设置 会 导致 事务 截断 请问 设计 时候 对 事务 完整性 什么样 考虑 呢 只要 保证 能把 数据 同步 客户端 能 记下 保证 最终 一致 下面 实验 创建 测试 存储 过程 过程 代码 如下 测试 将 参数 设置 默认 设置 要 足够 大 依序 启动 执行 操作 之前 必须 预先 启动 起来 否则 事务 截断 现象 显示 出来 端 执行 参数 传 观察 端 所有 会 中 拿到 端 执行 参数 传 观察 端 会 返回 两 第一 包含 条 第二 包含 条 上面 验证 参数 作用 为了 防止 事务 截断 需要 参数 值 设置 大一些 测试 场景 将 参数 设为 使用 便于 测试 将 中 设置 启动 启动 端 执行 参数 传 然后 再启动 观察 端 会 返回 包含 条 事务 截断 场景 二 将 参数 设为 使用 便于 测试 将 中 设置 启动 启动 端 连续 执行 两 次 参数 传 然后 再启动 必须 上述 操作 完成 启动 保证 真实性 观察 端 会 返回 两 第一 条 第二 条 事务 截断 由此 见 除了 需要 考虑 需要 考虑 配置 比较 的话 可能 截断 事务 但是 如果 太 大 的话 会 影响 实时 性 需要 取 折衷 注 对 进行 测试 时 要 保证 相互 隔离 测试 时候 要 保证 足够 大 测试 时候 然 目的 防止 事务 截断 但是 如果 类型 基本 每个 事件 都会 导致 次 设置 就 没 什么 意义 说 当时 考虑 思路 这个 参数 主要 控制 解析 提交 时 如果 要 保证 事务 可见 一致性 设置 最大 保证 一致性 事务 大小 举个 例子 如果 没有 一致性 保护 频繁 调用 可能 会 拿到 次 事务 头 事务 体 数据 事务 尾数 事务 一致性 写入 事务 块 读取 基础 目前 数据 获取 时 暂时 没有 考虑 事务 完整 读取 机制 主要 考虑 业务 需求 对于 事务 完整性 敏感 要 保证 完整 读取 其实 难 可以 描述 一下 你们 对 完整 事务 需求 主要 基于 什么样 业务 考虑 明白 意思 但是 最后 那个 问题 知道 试 没有 如果 类型 那么 应该 就 失效 因为 返回 收到 类型 就 次 针对 非 数据 直接 输出 进行 控制 canal instance transaction size batchsize canla ack delimiter create procedure loop insert in count begin declare lp declare idvalue set lp select max id into idvalue from test set autocommit lp count insert into test id name values idvalue test idvalue set idvalue idvalue set lp lp end commit end delimiter canal instance transaction size canal server canal instance transaction size canal client simple canal client test batchsize mysql canal server canal client mysql canal client mysql loop insert canal client event batch mysql loop insert canal client batch event event canal instance transaction size batchsize canal server itemsize itemsize canal client batchsize mysql canal server mysql loop insert canal client canal client batch batch event canal server itemsize itemsize canal client batchsize mysql canal server mysql loop insert canal client client canal client batch batch event batch event transaction size batch size batchsize transaction size batchsize batchsize canal instance transaction size mysql binlog format mixed flush canal instance transaction size canal instance transaction size parser event store get get binlog format format mixed canal instance transaction size is dml false rowdata entry flush rowdata put entry dml buffer event type event type entry get header get event type event type null is dml event type flush
132,问题 类 方法 中 对 进行 判断 代码段 如下 示 基于 一定 策略 控制 放过 空的 事务 头 尾 便于 及时 更新 数据库 位点 表明 工作 正常 请问 这里 判断 基于 什么 目的 不太 明白 大小 设置 运行 事务 进行 次 插入 那么 会 产生 按照 逻辑 达到 时候 会 次 随后 剩下 类型 会 单独 进行 但是 由于 上述 代码 缘故 忽略 应该 不尽 合理 事务 头 尾 主要 用来 区分 事务 边界 本身 数据 没啥 意义 事件 的确 可能 忽略 产品 配合 实施 中 对于 过滤 空 事务 事件 强 需求 反而 占用 过多 空间 导致 整体 业务 处理 速度 变慢 所以 当时 设计 默认值 待 考虑 优化 感谢 回复 的确 出现 事务 截断 情况 概率 事件 并且 像 例子 这样 截断 恰好 出现 空 事务 事件 更 极端 事件 说 反而 占用 过多 空间 指的 应该 等于 情况 等于 时候 次 都 攒够 事务 才 次 除非 事务 太 大 截断 否则 会 出现 空 事务 事件 情况 那么 就 没 机会 过滤 这样 并没有 减少 内存 使用 比如 等于 时 面的 代码段 会 进入 语句 基本上 每条 语句 都 会 次 这样 才 导致 很多 空 事务 事件 针对 非 数据 直接 输出 进行 控制 时 返回 会 说的 产品 配置 实施 中 对于 过滤 空 事务 事件 强 需求 这个 怎么 理解 呢 还是 那个 例子 如果 对应 事件 过滤 怎么 界定 事务 边界 呢 非 事务 敏感性 主要 利用 事务 头 尾 更新 位点 而已 事务 单元 进行 整体 提交 具体 可以 看下 数据 导入 恩 非 事务 敏感性 主要 利用 事务 头 尾 更新 位点 这个 明白 上述 关于 表述 是否 正确 如果 事务 截断 并且 出现 空 事务 事件 场景 应该 就 没有 了吧 关于 空 事务 事件 找到 另外 场景 配置 时候 如果 某个 表 过滤 张 表 会 过滤 掉 但是 并没有 过滤 掉 所以 还是 需要 通过 进行 控制 说 反而 占用 过多 空间 应该 主要 指 种 情况 理解 正确 固定 数组 大小 设计 所以 空的 事务 头 尾 会 影响 整体 吞吐量 filter emtry transaction entry entry event sink sink data filter emtry transaction entry filter emtry transaction entry collection utils is empty events current timestamp events get get entry get header get execute time math abs current timestamp last empty transaction timestamp empty transaction interval last empty transaction count increment and get empty transction thresold last empty transaction count set l last empty transaction timestamp current timestamp sink events canal instance transaction size mysql canal server event event transaction buffer flush event transactionend flush event transaction end canal otter otter canal event store ring buffer true canal event stor ring buffer mysql binlog format row binlog format row event transaction buffer flush ringbuffer binlog format mixed flush rowdata put entry dml buffer event type event type entry get header get event type event type null is dml event type flush binlog format mixed eventtyp query is dml false flush canal otter otter transactionend otter otter wiki binlog format binlog foramt row filter rowdata event transactionbegin transactionedn filter emtry transaction entry canal event stor ring buffer ring buffer
131,版本 使用 做 数据 同步 时候 会报 如下 错误 麻烦 报告 一下 版本 版本 环境 主 集群 开启 半 同步 插件 连 从库 会报 这个 错误 连 主库 没有 问题 测试 本地 版本 针对 类型 暂时 没 发现 类似 错误 如果 方便 是否 可以 提供 一下 对应 出错 位点 原始 文件 估计 这个 问题 使用 分支 包 试试 遇到 这个 问题 解析 类型 时 似乎 出现 问题 出问题 代码 类 方法 本地 改 版本 已经 修复 这个 问题 可能 需要 进一步 完善 稍后 会 提交 欢迎 提交 方便 报告 一下 测试 版本 欢迎 提交 方便 报告 一下 测试 版本 对应 测试 数据 发 一下 硬盘 应该 可以 访问 昨天 改过 代码 运行 发现 对于 怀疑 格式 处理 方面 有点 不一样 对应 测试 数据 发 一下 业务 构造 测试 数据 他们 命令 文件 里面 语句 如下 如果 想要 重现 的话 写 文件 执行 应该 可以 业务 构造 测试 数据 最好 能 构造 出 对应 语句 复现 这个 问题 查过 对应 解析 代码 保持 一致 parse row data failed mysql log otter pid nid exception canal canal mysql com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception bad format x exceed at com taobao tddl dbsync binlog log buffer get decimal log buffer java at com taobao tddl dbsync binlog log buffer get decimal log buffer java at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java at com alibaba otter canal parse inbound mysql dbsync log event convert parse one row log event convert java canal otter canal otter mysql mysql decimal binlog https github com alibaba canal issues master build canal decimal mysql type newdecimal log buffer get decimal pr pr mysql canal mysql server version maria db log columnstore canal gmt agapple notifications github com pr mysql canal you are receiving because you commented reply to email directly view it on git hub https github com alibaba canal issues issuecomment or mute the thread https github com notifications unsubscribe auth a ss s q x hnsj fi isb j i vule zax zqjks tx at ga jp zm gx gy best regards zhiyu decimal mysql bin https drive google com file d v p ha m t uh t pf hb elsq lf mi ecju r view usp drive web google mysql mysql work mysql columnstore binlog decimal gmt agapple notifications github com decimal you are receiving because you commented reply to email directly view it on git hub https github com alibaba canal issues issuecomment or mute the thread https github com notifications unsubscribe auth a ss s i t tt az zob yhs hg h xe x ezks tx c efga jp zm gx gy best regards zhiyu sql load csv load columnstore load data local infile export data key location into table export data key table character set utf columns terminated by ignore lines csv load gmt agapple notifications github com sql you are receiving because you commented reply to email directly view it on git hub https github com alibaba canal issues issuecomment or mute the thread https github com notifications unsubscribe auth a ss s q vv i kkpr eib gl bjiwb x oks tyqa ga jp zm gx gy best regards zhiyu sql binlog mysql parser
130,版本 值 时 解析 异常 问题 描述 版本 插入 数据 时 类型 字段 字段 设置 时 客户端 获取 数据 中 对应 字段 版本 中 做 同样 测试 时 客户端 获取 对应 这个 先验证 确认 增加 新 类型 增加 判断 后即 修复 mysql datetime null sqltype mysql datetime update time null canal sql type other mysql datetime null canal sql type timestamp bug bug mysql log event swtich
129,无法 读取 环境 配置 配置 启动 参数 日志 使用 可以 解析 非 都 如此 请问 什么 问题 呢 基于 时间戳 定位 位点 找 这时 间 建议 删除 历史 位点 重新 订阅 binlog fedora docker docker mysql mysql mysqld server id log bin mysql bin log error mysql bin err binlog format row canal snowwolf snowwolf dev canal cat conf example instance properties mysql server id canal instance mysql slave id position info canal instance master address canal instance master journal name canal instance master position canal instance master timestamp canal instance standby address canal instance standby journal name canal instance standby position canal instance standby timestamp username password canal instance db username canal canal instance db password canal canal instance database name dbroute canal instance connection charset utf table regex canal instance filter regex table black regex canal instance filter black regex docker run name dbrouter mysql dev p v etc mysql conf d etc mysql conf d v var lib docker mysql var lib mysql e mysql root password xxx d mysql destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination example address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception can t find start position example destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example com alibaba otter canal parse exception canal parse exception can t find start position example mysqlbinlog root snowwolf dev mysqlbinlog h p ucanal pcanal read from remote server v start position d dbroute mysql bin set session pseudo slave mode set session max insert delayed threads set old completion type completion type completion type delimiter at server id end log pos start binlog v server v log created binlog u n tu vq y q a zw aaaaaaaaaaaaqans lj q l wxv zw aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa aaaaaaaaaaaaaaaaaaaaaaaa ezg na ag a eg aebaqe eg aavaae ggg aaaaic ag caa at server id end log pos write rows table id flags stmt end f binlog gd xu v rd y q ahw aaak baaaaa is paaaaaaeagp ds pg maaa cyy o vssju vqeaaaakmt iz ndu nzg mgwr mtm mt aw md ew mdijah rlc r c vy my bl mt bh zg mz otq ym e ow fi ym u nm uw n tdm mj bm o dgz zq gyy o vaqeabg fi y qaaaaa row event unknown table at server id end log pos xid commit at server id end log pos query thread id exec time error code set timestamp set session pseudo thread id set session foreign key checks session sql auto is null session unique checks session autocommit set session sql mode set session auto increment increment session auto increment offset c utf mb set session character set client session collation connection session collation server set session lc time names set session collation database begin at at server id end log pos table map dbroute uc member mapped to number server id end log pos delete rows table id flags stmt end f binlog pdvu vrny q aaw aaah caaaaa is paaaaaaea cm ricm d g vf mdeadx vj x lb w jlcl w mdaagamh bw mp dw p dw eb bw b dw ecaq p dw p bxg a dw apa as azy alg daa dw ae aa a dw a hg dg z pdvu v rl y q ahw aaaaydaaaaa is paaaaaaeagp ds pg maaa cyy o vssju vqeaaaakmt iz ndu nzg mgwr mtm mt aw md ew mdijah rlc r c vy my bl mt bh zg mz otq ym e ow fi ym u nm uw n tdm mj bm o dgz zq gyy o vaqeabg fi y qaaaaa delete from dbroute uc member where null testuser e adc ba abbe e f f e null null null null null null null null null abcd at server id end log pos xid commit delimiter end of log file rollback added by mysqlbinlog set completion type old completion type set session pseudo slave mode docker maria db docker prepare to find start position by binlog
128,之前 正则 表达式 匹配 或者 中 打头 表名 或者库 名 时候 会 异常 匹配 空 具体 可以 测试 文件 fix rename table ddl parser tablename and schemaname error rename table tablename schemaname to bad tks
127,官方 协议 中 两 字段 这里 没有 跳过 导致 后面 数据 读错 按照 官网 说法 字段 应该 所以 最后 以为 如果 的话 会 报错 但是 利用 这个 方法 请求 发现 返回 所以 才 发现 这个 问题 为什么 返回 知道 但是 这里 最后 位 读取 肯定 读错 fix not skip filter and read the error data filter lenenc str catalog lenenc str schema lenenc str table lenenc str org table lenenc str name lenenc str org name lenenc length of fixed length fields c character set column length type flags decimals filler command was com field list lenenc length of values string len values filler string length show binary logs filter tks
126,计划 支持 基于 做 数据 同步 如果 使用 发生 主从 切换 时候 会 可能 会 报错 因为 和备 机上 对不 如果 基于 拉 应该 就 能 解决 这个 问题 基于 主备 复制 可以 解决 切换 位点 查找 问题 技术 可以 实现 具体 时间 保证 嗯 明白 感谢 同学 代码 提交 时候 关下 这个 好让 知道 试用 这个 进展 如何 呢 计划 支持 所以 就是 迄今 为止 没有 支持 是么 请问 现在 支持 暂时 没有 期待 完成 同学 贡献 很久以前 完成 这个 功能 代码 略糙 没法 基础 增加 支持 需要 帮助 改动 说明 增加 级 配置 指示 是否 启用 模式 包 增加 相关 类 表示 命令 补 全 包下 事件 解析 包下 增加 枚举 项 流 中 事件 增加 字段 这里 后面 单独 段落 详细 说明 包下 增加 根据 同步 方法 包下 内 如果 使用 模式 发送 命令 关于 增加 字段 通过 文件 位点 方式 同步 时 事件 头里 都 携带 信息 后续 存储 最新 同步 位点 只要 取 客户端 过 最后 条 事件 即可 对应 模式 需要 记录 消费 过 事务 提交 收到 如下 连串 事件 其中 只有 本次 事务 信息 现在 通过 类 记录 合并 最后 赋值 后续 事件 发现 没法 某个 发 调整 对 发 包 版 可以 提供 份 吗 二进制 包里 份 已经 合并 非常 感谢 贡献 开启 方案 canal gtid my sql vip ha mysql canal binlog position gtid binlog mysql gtid agapple issue agapple canal gtid gtid pr pr gtid review https github com alibaba canal pull instance gtidon instance gtid driver gtid gtid set uuid set gtid binlog dump gtid command packet com binlog dump gtid dbsync gtid log event protocol entry type gtidlog binlog gtidlog header gtid parse erosa connection gtid dump parse event parser start instance gtid com binlog dump gtid mysql canal entry header gtid slave binlog filename position ack filename position gtid gtid set https dev mysql com doc refman en replication gtids concepts html slave gtid log transactionbegin rowdata transactionend gtid log gtid com alibaba otter canal parse inbound mysql dbsync log event convert gtid gtid header gtid tag pr master pr agapple com alibaba fastsql preview hiwjd alpha fastsql jar gtid pr hiwjd https dev mysql com doc refman en replication mode change online enable gtids html gtid
125,使用 版本 不同 导致 连接 时 报错 目前 使用 版本 均 目前 看来 生成 无法 支持 需要 测试 使用 之后 部分 老 版本 用户 使用 版本 是否 可以 正常 使用 问题 里面 中 没有 指定 版本 默认 会 父 工程 会 显示 声明 版本 里面 更改 版本 然后 本地 重新 生成 文件 放到 里面 可以 解决 这个 问题 或者 直接 代码 已经 提交 升级 到了 canal otter canal client protobuf canal client canal java java lang unsupported operation exception is supposed to be overridden by subclasses at com google protobuf generated message get unknown fields generated message java protobuf java jar na canal otter protobuf maven repository canal protocol dependency protobuf http search maven org artifactdetails ccom alibaba otter ccanal protocol c cjar xml dependency group id com google protobuf group id artifact id protobuf java artifact id dependency https repo maven org maven com alibaba otter canal canal pom protobuf pom protobuf protocol protocol src main java com alibaba otter canal protocol clone https github com chaopengio canal https github com alibaba canal commit c fba c d c d ae pr
124,fixed a hard coded mysql host ip address tks
123,识别 表格 存储 同时 设置 情况 创建 这样 表格 这里 要 同时 指定 指定 其一 会 触发 种 情况 打印 出来 可以 发现 命令 认为 类型 同时 显示 主键 更新 列 显示 主键 变更 列 估计 版本 有关 之后 支持 模式 会 记录 变更 列 主键 至于 认为 个人 初步 判断 有关 以前 没 测试 过 建议 直接 一下 一下 对应 对象 其中 对应 语句 对应 语句 这里 出来 区别 针对 张 表 可以 看到 区分 通过 无法 区分 情况 可以 其他 方式 区分 吗 针对 不同 类型 会 严格 区分 这里 就 记录 类型 估计 选择 存储 有关 update event insert event ndbcluster pk pk ndbcluster engine create table test col id name varchar last varchar primary key id engine ndbcluster mysql insert into test col values a b mysql update test col set last c where id simple cilent log update insert binlog log bin name cudb user data test col event type create empty count empty count empty count empty count empty count empty count binlog log bin name mysql ndb apply status event type insert server id update true epoch update true log name update true start pos update true end pos update true binlog log bin name cudb user data test col event type insert id update true name a update true last b update true binlog log bin name mysql ndb apply status event type insert server id update true epoch update true log name update true start pos update true end pos update true binlog log bin name cudb user data test col event type insert id update true last c update true mysql mysql minial image update insert ndbcluster show binlog events update sql binlog mysql mysql show binlog events in log bin from limit log name pos event type server id end log pos info log bin write rows table id log bin write rows table id flags stmt end f log bin query commit log bin query begin log bin table map table id cudb user data test col log bin table map table id mysql ndb apply status log bin write rows table id log bin write rows table id flags stmt end f log bin query commit rows in set sec log bin write rows table id flags stmt end f insert log bin write rows table id flags stmt end f update insert update inno db event type write rows update rows mysql show binlog events in log bin from limit log name pos event type server id end log pos info log bin write rows table id log bin write rows table id flags stmt end f log bin query commit log bin query begin log bin table map table id cudb user data test col log bin table map table id mysql ndb apply status log bin write rows table id log bin write rows table id flags stmt end f log bin query commit log bin query begin log bin table map table id cudb user data test col log bin table map table id mysql ndb apply status log bin write rows table id log bin write rows table id flags stmt end f log bin query commit log bin query begin log bin table map table id cudb user data test col log bin table map table id mysql ndb apply status log bin write rows table id log bin write rows table id flags stmt end f log bin query commit log bin query begin log bin table map table id cudb user data test log bin write rows table id flags stmt end f log bin xid commit xid log bin query begin log bin table map table id cudb user data test log bin update rows table id flags stmt end f log bin xid commit xid binlog event type insert update write rows update rows delete rows binlog insert ndb
122,修复 命令 中 包含 多个 表 解析 失败 问题 简单 修复 命令 中 包含 多个 表 问题 中 提到 后续 完美 解决 使用 类似 语法 解析 提取 对应 表 比较 理想 解决 方案 由于 获取 存在 延迟 可能 拿到 时候 通过 命令 获取 表 结构 实际 产生 时 表 结构 差距 最好 解决 方案 语句 都 直接 触发 对应 变化 只有 会 只有 收集 中 没有 表 时 才 会 获取 表 结构 语句 都 直接 作用 这个 才 能 最大 程度 减少 错误 发生 这个 临时 修补 方案 解决 目前 遇到 命令 中 包含 多个 表 问题 rename table rename table https github com alibaba canal issues druid cobar mysql sql canal binlog binlog desc binlog ddl tablemeta cache clear tablemetacache drop table clear tablemeta cache table metacache binlog desc ddl tablemeta cache rename table
121,update readme md tks
120,增加 脚 本来 自动 获取 信息 自动 更新 配置 文件 mysql master binlog instance tks
119,支持 解析 开始 支持 属性 允许 应用 控制 记录 里 字段 内容 以前 默认 记录 所有 字段 文档 支持 解析 识别 针对 情况 返回 里 有的 字段 类型 增加 控制 允许 用户 定义 期望 支持 类型 如果 符合 类型 直接 报错 支持 模式 mysql noblob minimal binlog mysql binlog row image binlog before after http dev mysql com doc refman en replication options binary log html sysvar binlog row image change columns noblob minimal binlog mysql event parser support binlog formats images db otter row full image
118,启动 报 下面 错误 閿欒 鎵 句 笉鍒 版垨 鏃犳硶鍔犺 浇涓荤 澶勪 簬鎵撳紑鐘 舵 併 先 解决 乱码 问题 日志 正常 输出 windows node listening transport dt socket at address listening
117,现在 很多 时候 都 现在 很多 时候 都 以后 会 支持 类 型么 目前 版本 解析 支持 格式 binlog format mixed binlog format mixed canal mixed statement row
116,array index out of bounds exception see https github com alibaba otter issues
115,修正 更新 修正 部分 修正 更新 主要 主要 包 级别 目前 没有 更换 实现 更 改为 太 麻烦 只是 将 包 级别 方法 暴露 出来 还是 原来 配方 因此 可以 更换 其他 版本 没有 用到 新 特性 多谢 修正 一些 低级 错误 可能 一些 区别 合并 代码 回 统一 进行 格式化 保证 内部 代码 风格 统一 请 见谅 typo javadoc guava embeded embedded javadoc guava map maker compute make map loading cache guava pull request code style format
114,是否 可以 更新 版本 里 现在 开发 都 不可能 这么 旧 版本 所以 无法 服务 嵌入 应用 中直 接 使用 能 能 接受 新 版本 呢 如果 能 接受 可以 改好 然后 目前 分支 已经 可以 更新 版本 guava canal guava r canal pr guava dependency group id com github wenerme canal group id artifact id canal server artifact id version b version dependency repository id jitpack io id url https jitpack io url repository done at a bbab b c d afa a e c ddecbc
113,方法 修改 后没 改 读 代码 时候 造成 一些 疑惑 add missing api parameter doc com alibaba otter canal client canal connectors javadoc tks
112,时间 毫秒 精度 支持 支持 毫秒 精度 解析 测试 测试 数据 mysql mysql create table t id not null auto increment time time null time time null time time null time time null time time null time time null time time null timestamp timestamp not null timestamp timestamp not null timestamp timestamp not null timestamp timestamp not null timestamp timestamp not null timestamp timestamp not null timestamp timestamp not null datetime datetime null datetime datetime null datetime datetime null datetime datetime null datetime datetime null datetime datetime null datetime datetime null primary key id engine inno db auto increment charset utf insert into t values null insert into t values null insert into t values null
111,是否 考虑 合并 模块 目前 模块 数量 太 多 目前 模块 部分 模块 内 很少 内容 不便于 开发 阅读 经常 都 模块 之间 跳来跳去 暂时 考虑 合并 倒是 可以 考虑 打包 时出 类似 包 spring all
110,file log fetcher s fetch method should fix up position and origin even i f we weren t successful at fetching anything from the file
109,目录 看到 可是 报错 说 找 系统 知道 系统 关系 测试 没有 问题 这个 应该 关 指定 起始 位点 如果 问题 可以 通过 命令 验证 已经 解决 文件 权限 问题 请 问 哪个 文件 权限 问题 这边 碰到 相同 问题 亲 日志 权限 貌似 行 呢 删除 下面 然后 重启 一下 就 行 问题 解决 没 描述 清楚 啊 指定 位置 点 还是 行 卡 这里 端 发现 这个 用户 一直 执行 这个 怎么 能 权限 关系 呢 如果 读 本机 呢 could not find first log file name in binary log index file destination example address event parser error com alibaba otter canal common alarm log alarm handler destination example java io io exception received error packet errno sqlstate hy errmsg could not find first log file name in binary log index file at com alibaba otter canal parse inbound mysql dbsync direct log fetcher fetch direct log fetcher java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java data mysql bin index mysql bin index file ubuntu windows mysql canal mysql binlog show binlog events in mysql bin from xxx limit linux news git hub news git hub r changsong canal meta dat mysql canal binlog dump canal
108,新 版本 编译 代码 提示 内存 溢出 运行 尝试 调整 参数 parse events has an errorjava lang out of memory error java heap space at java nio heap buffer init heap buffer java na at java nio buffer allocate buffer java na at com alibaba otter canal client impl simple canal connector read next packet simple canal connector java classes na at com alibaba otter canal client impl simple canal connector connect simple canal connector java classes na at com alibaba otter canal client impl simple canal connector connect simple canal connector java classes na at com alibaba otter canal example canal client test process canal client test java classes na at com alibaba otter canal example canal client test run canal client test java classes na at java lang thread run thread java na stop the canal client canal client is down mvn mvn jvm
107,解析 异常 这个 什么 问题 引起 并且 默认 目录 下面 请 提供 一下 版本 信息 版本 信息 库 测试 报 二 测试 报 李迅 上海 工程师 饿了 原始 邮件 发件 收件人 抄送 发送 时间 年 月 日 周二 主题 解析 异常 请 提供 一下 版本 信息 版本 信息 方便 提供 一下 对应 文件 本地 测试 对应 版本 类型 解析 正常 我们 线上 库 方便 提供 我们 库 库 这个 引起 李迅 上海 工程师 饿了 原始 邮件 发件 收件人 抄送 发送 时间 年 月 日 周三 主题 解析 异常 方便 提供 一下 对应 文件 本地 测试 对应 版本 类型 解析 正常 确定 试 过 版本 正常 可以 试着 你们 测试 库 中 重现 一下 问题 到时候 发 初步 怀疑 类 问题 先 关闭 canal mysql destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed com alibaba otter canal parse exception canal parse exception parse row data failed java lang illegal argument exception bad format x exceed mysql slave binlog mysql canal mysql canal slave main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance spring canal instance with spring start successful destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination example address event parser warn c a otter canal parse inbound mysql mysql event parser error parse event has an error last position entry position included false journal name mysql bin position timestamp com alibaba otter canal parse exception canal parse exception parse row data failed java lang illegal argument exception bad format x exceed at com taobao tddl dbsync binlog log buffer get decimal log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog log buffer get decimal log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java canal parse dbsync jar na at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java canal parse dbsync jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse one row log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java canal parse jar na at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java canal parse jar na at com alibaba otter canal parse inbound event parser sink event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na master main warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory main info c a otter canal instance spring canal instance with spring start cannal instance example main info c a otter canal instance spring canal instance with spring start successful destination example address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position by destination example address event parser warn c a otter canal parse inbound mysql mysql event parser didn t find the corresponding binlog files from mysql bin to mysql bin destination example address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused bycom alibaba otter canal parse exception canal parse exception can t find start position example ruson hadoop eleme inc email xun li ele me mobile http ele me agapplenotifications github com alibaba canalcanal noreply github com rusongitxun li ele me re canal canal mysql mysql canal reply to email directly or view it on git hub mysql bin position timestamp binlog mysql decimal binlog slave ruson hadoop eleme inc email xun li ele me mobile http ele me agapplenotifications github com alibaba canalcanal noreply github com rusongitxun li ele me re canal canal mysql mysql bin position timestamp binlog mysql decimal reply to email directly or view it on git hub binlog see https github com alibaba canal issues
106,异常 处理 规范 问题 描述 工程 引入 时 读取 配置 文件 会 出 问题 能 正常 运行 但是 因为 缺少 对 异常 情况 处理 异常 吞 导致 能 输出 异常 信息 增加 排查 问题 难度 异常 信息 建议 增加 记录 异常 日志 设置 当前 正在 加载 通道 加载 查找 文件 时 会 用到 变量 修复 canal controller java xerces jar xerces impl jar canal controller java line org springframework beans factory bean definition store exception parser configuration exception parsing xml from path resource spring file instance xml nested exception is javax xml parsers parser configuration exception unable to validate using xsd your jaxp provider org apache xerces jaxp document builder factory impl e b does not support xml schema are you running on java with apache crimson upgrade to apache xerces or java full xsd support spring system set property canal constants canal destination property destination instance generator set bean factory get bean factory config get spring xml instance instance generator generate destination exception e logger is error enabled logger error generator instance failed e system set property canal constants canal destination property
105,开启 基于 时间 查找 位点 会 找到 错误 位置 问题 描述 之后 版本 中 因为 引入 机制 会 正常 末尾 加上 字节 在做 基于 时间 查找 方法 中 解析 未 识别 格式 事件 导致 没有 判断 出 开启 所以 导致 正常 事务 头 多 字节 判断 是否 事务 头 采用 严格 字符串 匹配 就 因为 多 字节 导致 类型 出错 影响 范围 基于 开启 涉及 时间 查找 比如 主备 切换 基于 时间戳 启动 修改 增加 类型 解析 基于 时间 查找 增加 事务 多重 判断 基于 时间 查找 增加 事务 多重 判断 基于 版本 做 这个 坑 没 能 找到 正确 丢了 数据 而且 日志 里 没有 异常 后来 对比 切换 才 发现 建议 低 版本 尽快 修复 上述 mysql checksum mysql checksum event checksum seek decoder format event checksum begin event mysql checksum format log decoder decoder log decoder decoder handle log event rotate event decoder handle log event format description event decoder handle log event query event decoder handle log event xid event log context context log context fetcher fetch log event event null event decoder decode fetcher context event null canal parse exception parse failed func sink event begin end bf c a a e d c f c aa fd ae begin end canal instance ha issues position time ha binlog timestamp https github com alibaba canal commit bf c a a e d c f c aa fd ae patch
104,修复 重复 订阅 没有 真正 修改 过滤器 问题 自己 里面 配置 模式 没改 instance xml group
103,解析 自动 切换 失败 原因 在于 里边 没有 赋值 问题 够 明确 麻烦 描述 更 多 重现 问题 条件 parse ha controller event parser
102,修正 插件 声明 tks
101,设置 导致 中 不到 更新 中 此处 代码 会 设置 时候 过滤 中 方法 中 可以 看到 设置 属性 根据 这个 中 是否 存在 进行 设置 如果 设置 那么 这里 返回 对应 确认 时候 服务 端 执行 方法 这里 会 发现 如果 更新 信息 一下 代码 虽然 强制 更新 但是 没 解决 出现 值 如果 值 还是 会 忽略 本 次 更新 这里 应该 返回 最后 条 数据 位点 这样 更新 还是 会 一些 问题 因为 位点 记录 可能 事务 中 第一 条 更新 下次 重启 重新 获取 会 出现 找 情况 哦 这个 选项 当初 设计 为了 什么 情形 发自 年 月 日 写道 一下 代码 虽然 强制 更新 但是 没 解决 出现 值 如果 值 还是 会 忽略 本 次 更新 这里 应该 返回 最后 条 数据 位点 这样 更新 还是 会 一些 问题 因为 位点 记录 可能 事务 中 第一 条 更新 下次 重启 重新 获取 会 出现 找 情况 这个 暂时 应该 没 用上 之前 主要 考虑 模式 多个 库 数据 合并 时 忽略 事物 后来 做了 版本 可以 整个 事务 一起 做 合并 块 代码 就 相当于 没 用上 过 可以 忽略 事务 有一定 机制 会 忽略 空的 事务 忽略 事务 需求 filter transaction entry meta manager client cursor even sink https github com alibaba canal blob master sink src main java com alibaba otter canal sink entry entry event sink java l filter transaction entry true transaction begin end event get without ack get events com alibaba otter canal store memory memory event store with buffer java get log position range ack range transaction begin end event filter transaction entry client message position range ack null client ack https github com alibaba canal blob master server src main java com alibaba otter canal server embeded canal server with embeded java l ack null meta cursor position ranges get ack null null ps binlog table id filter transaction china xing i phone agapple notifications github com cursor position ranges get ack null null ps binlog table id reply to email directly or view it on git hub group instance xml begin end begin end begin end
100,设置 导致 中 不到 更新 中 此处 代码 会 设置 时候 过滤 中 方法 中 可以 看到 设置 属性 根据 这个 中 是否 存在 进行 设置 如果 设置 那么 这里 返回 对应 确认 时候 服务 端 执行 方法 这里 会 发现 如果 更新 信息 filter transaction entry meta manager client cursor even sink https github com alibaba canal blob master sink src main java com alibaba otter canal sink entry entry event sink java l filter transaction entry true transaction begin end event get without ack get events com alibaba otter canal store memory memory event store with buffer java get log position range ack range transaction begin end event filter transaction entry client message position range ack null client ack https github com alibaba canal blob master server src main java com alibaba otter canal server embeded canal server with embeded java l ack null meta
99,重 启 某些 情况 失败 无法 继续 异常 如下 异常 会 一直 不断 重复 导致 消费 停留 往下 继续 触发 场景 停掉 启动 异常 情况 原因 推断 因为 重 启后 遇到 没有 开头 恰好 直接 出现 后续 导致 字段 未 设置 通过 查询 异常 出现 点 对应 记录 存在 字段 设置 方法 出现 主要 起始 位点 事务 开头 或者 结尾 能 重置 下位点 哦 通过 然后 找 附近 位点 出现 主要 起始 位点 事务 开头 或者 结尾 能 重置 下位 点 陈云星 是的 canal parse event destination db address event parser error com alibaba otter canal common alarm log alarm handler destination db com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by com alibaba otter canal parse exception table id not found exception not found table id binlog log position canal binlog event table map event event log context table com alibaba otter canal parse inbound mysql dbsync log event convert entry parse rows event rows log event event table map log event table event get table table null table id table id not found exception not found table id event get table id event table com taobao tddl dbsync binlog event rows log event fill table log context context table context get table table id end of statement check flags rows log event stmt end f now is safe to clear ignored map clear tables will also delete original table map events stored in the map context clear all tables com taobao tddl dbsync binlog log context put table table map log event map event map of table put value of map event get table id map event com taobao tddl dbsync binlog log decoder decode log event table map event table map log event map event table map log event header buffer description event updating position in context log position position header get log pos context put table map event map event table id not found exception binlog show bin log events gmt agapple notifications github com table id not found exception binlog reply to email directly or view it on git hub https github com alibaba canal issues issuecomment best regards tel
98,修正 探测 是否 符号 链接 文件 时 无法 识别 fix bug in test os with bit follow symbole link files os bit bug java java home bin java java
97,配置 实现 发现 两 配置 而且 下面 只有 数据库 请 问 如何 实现 多谢 找到 配置 两 库 这边 一些 疑问 中 使用 时 这样 故障 恢复 时候 会 变成 最后 位置 这样 的话 会 造成 部分 事件 丢失 基于 持久化 实现 无法 使用 中 因为 都 值 中会 取到 份 数据 关于 模式 多 数据 顺序 性 没法 保证 这个 没 什么 问题 某些 情况 模式 位点 记录 基于 每个 只有 份 然后 不同 基于 时间戳 做 重新 定位 重复 数据 相比 单库 模式 要 多 一些 group group instance xml event parser destination master standby n master standby group instance xml log position memory position binlog show master status bin log zk log position group instance xml parser parser destination zk n db group timestamp destination parser
96,表 黑名单 默认 关闭 目前 表 黑名单 定义 针对 模式 虽然 配置 空 值 针对 空值 意味 全 匹配 所以 所有 数据 全部 当作 黑名单 过滤 加 属性 特殊 处理 空值 spring aviater regex filter aviater regex filter
95,解析 将 类型 转为 类型 中 数据 表示 通过 描述 举个 例子 比如 插入 条 记录 表示 就是 转化 进制 就 注意 canal mysql set unsigned mysql set bit set a b c d a c mysql bit litten endian
94,看到 脚本 问题 应该 这样 canal example src main bin startup sh alibaba java usr alibaba java bin java taobao java opt taobao java bin java elif f alibaba java then java taobao java elif f taobao java then java taobao java elif f alibaba java then java alibaba java elif f taobao java then java taobao java
93,支持 表 黑名单 定义 版本 订阅 表 目前 支持 正向 匹配 目前 正则 表达式 对于 需要 单独 排除 张 表时 方便 希望 可以 白 名单 黑名单 定义 策略 如果 只有 白 名单 就 进行 正向 匹配 如果 只有 黑名单 就 排除 黑名单 匹配 如果 黑 白 名单 先 做 白 名单 匹配 做 黑名单 排除 配置 黑名单 情况 白 名单 工作 已经 修复 issue
92,如果 出现 解析 异常 允许 跳过 针对 出现 列 一致 表 不存在 等 情况 跳过 解析 异常 记录 对应 数据 日志 供 人肉 处理 默认为 配合 使用 错误 数据 可以 通过 方式 报告 比如 false otter alarm otter manager
91,竞争 时候 会 抛 使用 模式 支持 第一 调用 时候 成功 连接 第二 调用 时候 会 抛 第二 时候 应该 住 直 其它 推测 原因 见 下面 修改 理解 对 估计 修改 考虑 不全 代码 做 修改 多谢 谢谢 函数 里面 调用 时候 应该 传 参数 另外 你们 会 这个 修改 上么 验证 通过 会 提交 仓库 simple canal connector should connect first exception repro instance zookeeper canal server setup cluster canal client connect setup cluster canal client connect exception com alibaba otter canal protocol exception canal client exception should connect first at com alibaba otter canal client impl simple canal connector wait client running simple canal connector java at com alibaba otter canal client impl simple canal connector subscribe simple canal connector java at com alibaba otter canal client impl cluster canal connector subscribe cluster canal connector java expected cluster canal client connect block client disconnect gist https gist github com caojia revisions bug connect wait client running false push maven maven
90,挂掉 恢复 请问 如果 架构 中 如果 挂掉 新 成 新 能够 找到 原 位置 对应 新 位置么 是否 能 保证 中 谢谢 不保证 会 重复 数据 master hi jianghang canal mysql master slave promote master canal binlog master master canal change event exactly once exactly once
89,客户端 不停 重 连 服务 端 服务 端 启动 客户端 连接 线程 卡死 时候 客户端 不停 重连 服务 端 服务 端 启动 客户端 连接 线程 会 卡 死 问题 出现 方法 出现 异常 退出 未 执行 抛出 异常 会 外层 调用 函数 住 这样 导致 其他 函数 会 卡 死 这个 锁上 这个 相似 使用 版本 暂时 关闭 问题 canal server simple canal connector init client running monitor running monitor set listener client running listener inet socket address process active enter inet socket address address connect mutex set true rollback on connect rollback address process active exit mutex set false disconnnect connect mutex set true mutex https github com alibaba canal issues issue reopen
88,版本 端接 受到 都 具体 现象 这样 端 启动 段 时间 内 接受 数据 正常 但是 过 大约 分钟 之后 客户端 接受 就 全部 曾经 怀疑 写的 客户端 问题 但是 客户端 换成 示例 客户端 还是 一样 效果 已经 尝试 将 端的 日志 级别 设置 但是 没有 得到 什么 价值 调试 信息 麻烦 提供 一下 解决 问题 思路 或者 端 配置 问题 可能 哪儿 问题 谢谢 提供 端 配置 客户端 代码 这个 问题 原因 找到 中 配置 数据库 名称 小写 但是 数据库 大写 同时 配置 大小写 敏感 所以 大多数 空 但是 不解 什么 会 消费 段 时间 然后 就 不行了 如果 因为 大小写 原因 应该 条 都 没有 这样 才 合理 建议 中 增加 大小写 敏感 选项 中 表达式 编译 正则 表达式 时 开启 大小写 敏感 参数 所以 这个 问题 推论 可能 误 客户端 配置 订阅 规则 时候 配置 问题 规则 写错 导致 所有 内容 都 进 客户端 优先 中 配置 同样 问题 想 订阅 所有 打头 接 数字 表 结果 没有 正则 错 还是 哪里 错 请教 一下 想 订阅 指定 库或者表 这个 正则 要 怎么 写 canal deployer client entry transaction begin transaction end canal server entry entry type transaction begin transaction end server debug server server instance properties instance properties mysql canal properties instance properties canal perl compiler insensitive mask subscribe subscribe instance properties connector subscribe actionlog d actionlog rowdata
87,模式 开启 线程 出现 数据 阻塞 group heart beat otter issue https github com alibaba otter issues
86,中 针对 情况 支持 非 方式 支持 canal group heart beat ha otter issue https github com alibaba otter issues
85,无法 设置 可能 导致 无法 同步 默认 如果 大于 无法 同步 需要 通过 设置 变量 解决 目前 默认 读取 字节 做为 也就是 最多 能 标示 大 超过 拆分 多个 暂时 清楚 调整 端 是否 会 调整 字节数 解决 大包 传输 其实 发 出来 单个 包 代码 里面 宏写 死 最大 就是 非 压缩 包 默认 就 解析 前 三 字节 作为 长度 端 会 根据 调节 这个 东西 长度 控制 块 好几 层级 影响 内层 发包 大小 限制 读取 日志 函数 里面 会 调用 这个 函数 默认 会 组包 过程 所以 正常 可以 拼出 长度 大于 块 处理 可能 没有 做 附 多 反馈 实现 通过 多 模式 解决 大包 问题 需要 客户端 处理 时候 能 对 进行 重新 组包 目前 处理 逻辑 针对 继续 读取 max packet size binlog max packet size m mysql packet m canal binlog http dev mysql com doc refman en server system variables html sysvar max allowed packet session binlog packet length mb mb packet max allowed packet mysql server netlen pre fetching the first packet may a multi packet netlen get uint packet len offset netnum get uint packet seq offset pre m netlen mysql server max allowed packet max allowed packet mysql handle slave io read event my net read mysql m log event canal ulong my net read net net size t len complen mysql net read start ifdef have compress net compress endif len net read packet net complen len max packet length first packet of a multi packet concatenate the packets ulong save pos net where b size t total length net where b len total length len len net read packet net complen len max packet length len packet error len total length net where b save pos net read pos net buff net where b len packet error net read pos len safeguard mysql use result mysql net read done len len ifdef have compress mysql mysql packet packet canal fetching the first packet may a multi packet netlen get uint packet len offset netnum get uint packet seq offset fetch net header size netlen false netlen max packet length mb packet packet netlen get uint packet len offset netnum get uint packet seq offset fetch limit netlen false
84,支持 版本 解析 支持 版本 解析 变化 内容 mariadb binlog maraidb binlog https github com alibaba canal wiki binlog change maria db
82,会 导致 磁盘 负载 过高 测试 中 我们 发现 会 导致 负载 极高 可以 看到 持续 速度 磁盘 写入 事务 数据 因此 磁盘 负载 居高不下 我们 目前 并没有 提供 独立 服务器 运行 因此 我们 希望 能够 通过 降低 压力 从而 减少 磁盘 占用率 按 理解 应该 每次 客户端 时 都 会 将 最新 偏移量 更新 入 就 导致 事务 很多 磁盘 占用率 很大 修改 中 配置 希望 能 秒钟 更新 次 但是 配置 之后 发现 根本 作用 写 压力 仍然 巨大 之后 监视 日志 发现 绝大部分 写 操作 并非 来自 服务器 来自于 客户端 为什么 客户端 会 直接 高频率 地 服务器 写入 偏移量 偏移量 更新 写入 应该 服务器 统一 调度 吗 所在 服务器 磁盘 负载 情况 磁盘 占用 情况 找到 问题 所在 问题 客户端 同时 写入 数据 导致 过高 canal zoo keeper io canal zoo keeper io iotop zoo keeper kb s io zoo keeper zoo keeper write update io canal ack binlog zoo keeper zoo keeper io canal properties canal zookeeper flush period canal zoo keeper zoo keeper zoo keeper canal canal canal zoo keeper binlog binlog canal zoo keeper io iostat xdm device rrqm s wrqm s r s w s r mb s w mb s avgrq sz avgqu sz await svctm util sda sda sda zoo keeper io iotop p zookeeper pid be datacent b s k s java dzook oo cfg canal canal hbase zookeeper io hbase canal
81,服务 器重 启 强制 更新 运行 环境 集群 单 服务器 测试 单 客户端 测试 实例 不断 新 问题 次 关闭 时 操作 响应 无奈 之下 采用 强制 关闭 进程 下次 启动 时 抛出 节点 存在 异常 之后 再次 重启 时 异常 莫名其妙 消失 应该 因为 检测 离线 自动 删除 番 周折 之后 成功 启动 不再 读取 反而 打印 日志 此时 中 持续 存在 手动 查看 中 存储 数据 时 发现 名称 请注意 采用 默认 配置 现在 变为 真是 莫名其妙 怀疑 出现 异常 自动 更 改为 于是 手动 将 重新 改为 但是 之后 再次 启动 发现 强制 改变 由于 改变 之后 就 无法 读取 数据 以下 其中 实例 启动 日志 开启 级别 希望 大家 能 帮我 解决 这个 问题 采用 版本 解释 问题 这里 正常 当前 启动 从上 次 位点 继续 这里 理解 最后 次 消费 位点 强制 关闭 抛出 节点 存在 异常 自动 删除 这个 理解 对 时间 超过 这个 时间 才 会 自动 删除 节点 正常 退出 时 会 自己 删除 所以 会 问题 这个 目前 已知 代码 里 本身 就 没有 正确 写到 中 每次 都会 中 读取 这个 影响 非常 感谢 解释 想 借此 机会 咨询 导致 负载 过高 问题 测试 中 我们 发现 会 导致 负载 相当 高 可以 看到 持续 速度 磁盘 写入 事务 数据 导致 磁盘 负载 居高不下 我们 目前 并没有 提供 独立 服务器 运行 因此 我们 希望 能够 通过 降低 压力 从而 减少 磁盘 占用率 按 理解 应该 每次 客户端 时 都 会 将 最新 偏移量 更新 入 就 导致 事务 很多 磁盘 占用率 很大 请问 没 什么 办法 隔 段 时间 更新 次 偏移量 我们 希望 通过 种 办法 降低 写 压力 配置 中的 好像 作用 将 配置 写 压力 仍然 巨大 哈喽 麻烦 帮我 看看 楼上 问题 哈 忽略 楼上 导致 负载 过高 问题 canal slave id zookeeper canal canal my sql binlog canal stop kill pid canal canal canal canal zookeeper canal canal binlog warn prepare to find start position just last position mysql binlog zookeeper canal zookeeper get otter canal destinations cursor type com alibaba otter canal protocol position log position identity slave id source address address port postion included false journal name localhost bin position timestamp slave id canal slave id canal salve id canal slave id slaveid canal binlog canal mysql debug canal instance scan debug o s beans factory xml pluggable schema resolver found xml schema http www springframework org schema beans spring beans xsd in classpath org springframework beans factory xml spring beans xsd canal instance scan debug o s b factory xml bean definition document reader loading bean definitions canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal instance spring support property placeholder configurer canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name org springframework beans factory config custom editor configurer canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal meta zoo keeper meta manager b canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal parse ha heart beat ha controller aa canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal filter aviater aviater regex filter d a canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal parse index memory log position manager f c e canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal parse index meta log position manager de b canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal parse index failback log position manager d e a c canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal parse support authentication info ec canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal parse support authentication info canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal protocol position entry position e c canal instance scan debug o s beans factory xml bean definition parser delegate neither xml id nor name specified using generated bean name com alibaba otter canal protocol position entry position d e canal instance scan debug o s beans factory xml xml bean definition reader loaded bean definitions from location pattern classpath spring instance xml canal instance scan info o s context support path xml application context bean factory application context org springframework context support path xml application context d a org springframework beans factory support listable bean factory be cc canal instance scan debug o s context support path xml application context beans defined in org springframework context support path xml application context d a display name org springframework context support path xml application context d a startup date fri dec cst root of context hierarchy canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean com alibaba otter canal instance spring support property placeholder configurer canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal instance spring support property placeholder configurer canal instance scan debug o s beans factory support listable bean factory eagerly caching bean com alibaba otter canal instance spring support property placeholder configurer to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory invoking after properties set on bean with name com alibaba otter canal instance spring support property placeholder configurer canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal instance spring support property placeholder configurer canal instance scan info c a o c i spring support property placeholder configurer loading properties file from path resource canal properties canal instance scan info c a o c i spring support property placeholder configurer loading properties file from path resource war wist ios cn h ww instance properties canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean org springframework beans factory config custom editor configurer canal instance scan debug o s beans factory support listable bean factory creating instance of bean org springframework beans factory config custom editor configurer canal instance scan debug o s beans factory support listable bean factory eagerly caching bean org springframework beans factory config custom editor configurer to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean socket address editor canal instance scan debug o s beans factory support listable bean factory creating instance of bean socket address editor canal instance scan debug o s beans factory support listable bean factory eagerly caching bean socket address editor to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean socket address editor canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean org springframework beans factory config custom editor configurer canal instance scan debug o s context support path xml application context unable to locate message source with name message source using org springframework context support delegating message source d baf canal instance scan debug o s context support path xml application context unable to locate application event multicaster with name application event multicaster using org springframework context event simple application event multicaster ee c canal instance scan info o s beans factory support listable bean factory pre instantiating singletons in org springframework beans factory support listable bean factory be cc defining beans com alibaba otter canal instance spring support property placeholder configurer socket address editor org springframework beans factory config custom editor configurer instance alarm handler zk clientx meta manager event store event sink event parser root of factory hierarchy canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean com alibaba otter canal instance spring support property placeholder configurer canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean socket address editor canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean org springframework beans factory config custom editor configurer canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean instance canal instance scan debug o s beans factory support listable bean factory creating instance of bean instance canal instance scan debug o s beans factory support listable bean factory eagerly caching bean instance to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean event parser canal instance scan debug o s beans factory support listable bean factory creating instance of bean event parser canal instance scan debug o s beans factory support listable bean factory eagerly caching bean event parser to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean event sink canal instance scan debug o s beans factory support listable bean factory creating instance of bean event sink canal instance scan debug o s beans factory support listable bean factory eagerly caching bean event sink to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean event store canal instance scan debug o s beans factory support listable bean factory creating instance of bean event store canal instance scan debug o s beans factory support listable bean factory eagerly caching bean event store to allow resolving potential circular references canal instance scan debug org springframework beans bean utils no property editor com alibaba otter canal store model batch mode editor found type com alibaba otter canal store model batch mode according to editor suffix convention canal instance scan warn org springframework beans type converter delegate property editor com sun beans editors editor found through deprecated global property editor manager fallback consider using a more isolated form of registration e g on the bean wrapper bean factory canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean event store canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean event sink canal instance scan debug o s beans factory support listable bean factory added autowiring by name from bean name event parser via property event sink to bean named event sink canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal parse ha heart beat ha controller aa canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal parse ha heart beat ha controller aa canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean alarm handler canal instance scan debug o s beans factory support listable bean factory creating instance of bean alarm handler canal instance scan debug o s beans factory support listable bean factory eagerly caching bean alarm handler to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean alarm handler canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal filter aviater aviater regex filter d a canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal filter aviater aviater regex filter d a canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal parse index failback log position manager d e a c canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal parse index memory log position manager f c e canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal parse index memory log position manager f c e canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal parse index meta log position manager de b canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean meta manager canal instance scan debug o s beans factory support listable bean factory creating instance of bean meta manager canal instance scan debug o s beans factory support listable bean factory eagerly caching bean meta manager to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal meta zoo keeper meta manager b canal instance scan debug o s beans factory support listable bean factory creating shared instance of singleton bean zk clientx canal instance scan debug o s beans factory support listable bean factory creating instance of bean zk clientx canal instance scan debug o s beans factory support listable bean factory eagerly caching bean zk clientx to allow resolving potential circular references canal instance scan debug o s beans factory support listable bean factory invoking after properties set on bean with name zk clientx canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean zk clientx canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal meta zoo keeper meta manager b canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean meta manager canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal parse index meta log position manager de b canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal parse index failback log position manager d e a c canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal parse support authentication info ec canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal parse support authentication info ec canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal parse support authentication info canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal parse support authentication info canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal protocol position entry position e c canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal protocol position entry position e c canal instance scan debug o s beans factory support listable bean factory creating instance of bean com alibaba otter canal protocol position entry position d e canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean com alibaba otter canal protocol position entry position d e canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean event parser canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean event sink canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean event store canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean meta manager canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean alarm handler canal instance scan debug o s beans factory support listable bean factory finished creating instance of bean instance canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean alarm handler canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean zk clientx canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean meta manager canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean event store canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean event sink canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean event parser canal instance scan debug o s beans factory support listable bean factory returning cached instance of singleton bean instance canal instance scan info c a otter canal instance spring canal instance with spring start cannal instance war wist ios cn h ww destination war wist ios cn h ww address event parser info c a otter canal parse inbound mysql mysql event parser start heart beat destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to canal instance scan info c a otter canal instance spring canal instance with spring start successful canal instance scan info c a otter canal server embeded canal server with embeded start canal instances war wist ios cn h ww successfully destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination war wist ios cn h ww address event parser warn c a otter canal parse inbound mysql mysql event parser prepare to find start position just last position destination war wist ios cn h ww address event parser info c a otter canal parse inbound mysql mysql event parser find start position entry position included false journal name localhost bin position timestamp destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector connect mysql connection to destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector handshake initialization packet received prepare the client authentication packet to send destination war wist ios cn h ww address event parser info c alibaba otter canal parse driver mysql mysql connector client authentication packet is sent out destination war wist ios cn h ww address event parser debug c a otter canal parse driver mysql mysql update executor read update result destination war wist ios cn h ww address event parser debug c a otter canal parse driver mysql mysql update executor read update result destination war wist ios cn h ww address event parser debug c a otter canal parse driver mysql mysql update executor read update result destination war wist ios cn h ww address event parser debug c a otter canal parse driver mysql mysql update executor read update result destination war wist ios cn h ww address event parser debug c a otter canal parse driver mysql mysql update executor read update result destination war wist ios cn h ww address event parser info c a otter canal parse inbound mysql mysql connection com binlog dump with position binlog dump command packet binlog position slave server id binlog file name localhost bin command destination war wist ios cn h ww address event parser info com taobao tddl dbsync binlog log event common header len number of event types i o server worker info c a otter canal server embeded canal server with embeded rollback successfully client id i o server worker info c a otter canal server embeded canal server with embeded subscribe successfully use last cursor position client identity destination war wist ios cn h ww client id filter i o server worker info c a otter canal server embeded canal server with embeded rollback successfully client id i o server worker info c a otter canal server embeded canal server with embeded get without ack successfully client id batch size real size is and result is batch id position position range start log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp ack log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp end log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp i o server worker info c a otter canal server embeded canal server with embeded ack successfully client id batch id position position range start log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp ack log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp end log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp i o server worker debug c a otter canal server embeded canal server with embeded get without ack successfully client id batch size but result is null i o server worker debug c a otter canal server embeded canal server with embeded get without ack successfully client id batch size but result is null i o server worker debug c a otter canal server embeded canal server with embeded get without ack successfully client id batch size but result is null i o server worker info c a otter canal server embeded canal server with embeded get without ack successfully client id batch size real size is and result is batch id position position range start log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp ack log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp end log position identity log identity source address slave id postion entry position included false journal name localhost bin position timestamp ps canal prepare to find start position just last position last position kill canal zookeeper server session timeout canal slave id slave id zookeeper canal properties slave id agapple canal zookeeper io canal zoo keeper io iotop zoo keeper kb s io zoo keeper zoo keeper write update io canal ack binlog zoo keeper zoo keeper io canal binlog zoo keeper canal zookeeper flush period zoo keeper agapple zoo keeper io canal
80,优化 异常 比如 出现 如下 异常 大致 原因 发生 次 切换 比如 上一 节点 刚 好在 执行 切 节点 如果 继续 执行 因为 未 进行 调用 会 出现 未 初始化 调用 就 会 出现 优化 方式 缓存 次 条件 下一次 自动 切换 时 顺序 调用 保证 新 完成 初始化 调用 获取 数据 should start first pre failed to subscribe with reason something goes wrong with channel id x fc exception com alibaba otter canal server exception canal server exception destination example should start first pre canal server get without ack get without ack subscribe server get without ack should start first filter disconnnect connect subscribe filter canal server get without ack
79,多 表 解析 失败 目前 已知 两 种 会 存在 多 表 操作 目前 暂 支持 多 表 解析 后续 完美 解决 使用 类似 语法 解析 提取 对应 表 能 正常 解析 出 表名 存在 影响 能 正常 同步 语句 会 发送 因为 不满足 对应 过滤 条件 会 阻塞 整个 解析 先 临时 方案 解决 后续 统一 修改 解析 器 进行 优化 ddl sql table name pre drop temporary table exists temp bond keys temp bond key id rename table a to b c to d pre ddl druid cobar mysql sql ddl ddl ddl canal client sql
78,模式 客户端 订阅 条件 切换 会 丢失 方法 中 读取 信息 并没有 读取 对应 导致 提交 信息 次 启动 时 并没有 载入 导致 切换 客户端 提交 未生效 模式 正常 进行 排序 instance xml filter canal server filter zoo keeper meta manager list all subscribe info client id filter canal client canal server filter ps memory meta manager file meta manager pre string path zookeeper path utils get destination path destination list string childs null childs zk clientx get children path zk no node exception e ignore collection utils is empty childs array list client identity list client ids array list string child childs string utils is numeric child client ids add zookeeper path utils get client id child collections sort client ids list client identity client identities lists array list client id client ids client identities add client identity destination client id client identities pre
77,宕掉 可能 切不 备用 通过 做 集群 宕掉 如果 临时 节点 没有 消失 可能 会 一直 阻塞 不再 拦截 异常 失败 会 直接 抛出 异常 如果 模式 会 自动 调用 就 可以 得到 重试 如果 模式 需要 手工 调用 进行 存在 这个 风险 不过 因为 没有 外部 依赖 出现 异常 可能性 唯一 出错 就 之间 网络 链接 所以 一旦 临时 节点 创建 基本 都 本地 类 初始化 动作 基本 会 出错 canal server canal client server canal server zk server zk canal client caused by java net connect exception connection refused connect at sun nio ch net connect method na at sun nio ch socket channel impl connect socket channel impl java na at com alibaba otter canal client impl simple canal connector connect simple canal connector java canal client jar na common frames omitted info com alibaba otter canal client impl cluster canal connector shared pool thread restart the connector next round retry connect cluster restart simple disconnect connect server running zk
76,心跳 检查 出现 对应 心跳 检查 主要 原因 协议区 分为 两 类 对应 数据包 解析 一样 这个 问题 就是 错误 将 使用 协议 进行 解析 导致 出错 使用 协议 即可 canal array index out of bounds exception pre exception in thread destination transfer address mysql heart beat time task java lang array index out of bounds exception at com alibaba otter canal parse driver mysql utils helper read binary coded length bytes helper java at com alibaba otter canal parse driver mysql packets server ok packet from bytes ok packet java at com alibaba otter canal parse driver mysql mysql update executor update mysql update executor java at com alibaba otter canal parse inbound mysql mysql connection update mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser mysql heart beat time task run mysql event parser java at java util timer thread main loop timer java at java util timer thread run timer java pre sql show master status mysql query update show master status update query
75,心跳 检查 程序 出现 异常 问题 分析 首先 出现 异常 关闭 导致 链接 都 出现 断开 下一 次 调度 中 会 出现 异常 目前 异常 包含 如果 出现 其他 比如 就 会 导致 退出 设置 状态 触发 本 heartbeat timer already cancelled pre destination inter ttsdb address event parser warn c a o canal parse inbound mysql dbsync direct log fetcher received eof packet from server apparent master disconnected destination inter ttsdb address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to destination inter ttsdb address event parser info c alibaba otter canal parse driver mysql mysql connector dis connect mysql connection to destination inter ttsdb address event parser info c a otter canal parse inbound mysql mysql event parser start heart beat destination inter ttsdb address event parser error c a otter canal parse inbound mysql mysql event parser dump address has an error retrying caused by java lang illegal state exception timer already cancelled at java util timer sched timer java na at java util timer schedule timer java na at com alibaba otter canal parse inbound mysql mysql event parser start heartbeat mysql event parser java canal parse jar na at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java canal parse jar na at com alibaba otter canal parse inbound event parser run event parser java canal parse jar na at java lang thread run thread java na destination inter ttsdb address event parser error com alibaba otter canal common alarm log alarm handler destination inter ttsdb java lang illegal state exception timer already cancelled at java util timer sched timer java at java util timer schedule timer java at com alibaba otter canal parse inbound mysql mysql event parser start heartbeat mysql event parser java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java destination inter ttsdb address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected destination inter ttsdb address event parser info c alibaba otter canal parse driver mysql mysql connector the channel is not connected pre mysql binlog dump meta mysql mysql heart beat time task timer socket timeout exception io exception runtime exception timer cancel issue bug
74,语句 解析 错误 采用 非 贪婪 模式 语法 里 正确 mysql create table pre string table pattern s not s exist s s exist s s pre mysql exists
73,增加 类型 用于 客户 自定义 处理 字段 数据 结构 字段 下标 字段 中 类型 字段 名称 忽略 大小写 中 没有 是否 主键 如果 用于 标识 这个 字段 值 是否 修改 标识 是否 空 预留 扩展 字段 值 时间 格式 文本 对应 数据 对象 原始 长度 字段 类型 字段 信息 包含 经过 转换 处理 比如 会 转化 会 转换 原始 中 字段 文本 描述 可以 通过 获取 输出 结果 entry protocol mysql type pre message column optional index java optional sql type mysql optional string name optional bool is key event type update optional bool updated optional bool is null false repeated pair props timestamp datetime optional string value optional length mysql optional string mysql type pre sql type mysql type sql type canal unsigned unsigned big decimal mysql type mysql desc xxx pre id type unsigned address hello type varchar event data type datetime update true values type number values type decimal fioat values type values type tinyint values type tinyint tinyint un values type tinyint unsigned smallint values type smallint smallint un values type smallint unsigned mediumint values type mediumint mediumint un values type mediumint unsigned values type un values type unsigned bigint values type bigint bigint un values type bigint unsigned datetime values type datetime timestamp values type timestamp date values type date time values type time year values type year year values type year blob value hello type blob tiny blob value type tinyblob media blob value type mediumblob blob value type longblob text value type text tiny text value type tinytext media text value type mediumtext text value type longtext pre
72,日期 字段 无法 同步 版本 字段 类型 配置 单向 同步 源 表里 字段 启动 同步 就 会 出现 挂起 查看 日志 发现 报错 提示 时间 格式 对 相应 错误 日志 如下 中间 省略 同步 表中 时间 相关 字段 去掉 开启 同步 问题 会 出现 参见 mysql otter os cent os release mysql log my sql community server create time datetime yes null update time datetime yes null channel create time update time channel pid nid exception setl com alibaba otter node etl load exception load exception java util concurrent execution exception com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception com alibaba otter node etl load exception load exception org springframework dao data integrity violation exception prepared statement callback sql update tb set create time update time where data truncation incorrect datetime value column create time at row nested exception is com mysql jdbc mysql data truncation data truncation incorrect datetime value column create time at row at org springframework jdbc support sql state sql exception translator translate sql state sql exception translator java at org springframework jdbc support fallback sql exception translator translate fallback sql exception translator java at org springframework jdbc support fallback sql exception translator translate fallback sql exception translator java at org springframework jdbc support fallback sql exception translator translate fallback sql exception translator java at org springframework jdbc core jdbc template execute jdbc template java at org springframework jdbc core jdbc template update jdbc template java at org springframework jdbc core jdbc template update jdbc template java at com alibaba otter node etl load loader db db load action db load worker in transaction db load action java at org springframework transaction support transaction template execute transaction template java at com alibaba otter node etl load loader db db load action db load worker call db load action java at com alibaba otter node etl load loader db db load action db load worker call db load action java at com alibaba otter node etl load loader db db load action two phase db load action java at com alibaba otter node etl load loader db db load action load db load action java at com alibaba otter node etl load loader db db load action load db load action java at com alibaba otter node etl load loader db db load action fast by cglib d a cb invoke at net sf cglib proxy method proxy invoke method proxy java at org springframework aop framework cglib aop proxy dynamic advised interceptor intercept cglib aop proxy java at com alibaba otter node etl load loader db db load action enhancer by cglib fd c load at com alibaba otter node etl load loader db data batch loader call data batch loader java at com alibaba otter node etl load loader db data batch loader call data batch loader java at java util concurrent future task sync inner run future task java at java util concurrent future task run future task java at java util concurrent executors runnable adapter call executors java at java util concurrent future task sync inner run future task java at java util concurrent future task run future task java at java util concurrent thread pool executor run worker thread pool executor java at java util concurrent thread pool executor worker run thread pool executor java at java lang thread run thread java caused by com mysql jdbc mysql data truncation data truncation incorrect datetime value column create time at row at com mysql jdbc mysql io check error packet mysql io java at com mysql jdbc mysql io check error packet mysql io java at com mysql jdbc mysql io send command mysql io java at com mysql jdbc mysql io sql query direct mysql io java at com mysql jdbc connection impl exec sql connection impl java at com mysql jdbc prepared statement execute internal prepared statement java at com mysql jdbc prepared statement execute update prepared statement java at com mysql jdbc prepared statement execute update prepared statement java at com mysql jdbc prepared statement execute update prepared statement java at org apache commons dbcp delegating prepared statement execute update delegating prepared statement java at org apache commons dbcp delegating prepared statement execute update delegating prepared statement java at org springframework jdbc core jdbc template in prepared statement jdbc template java at org springframework jdbc core jdbc template in prepared statement jdbc template java at org springframework jdbc core jdbc template execute jdbc template java more pair id table id event type u time consistency m mode pks event column index column type column name sub serial column value is null false is key true is update true old pks columns event column index column type column name create time column value is null false is key false is update true event column index column type column name update time column value is null false is key false is update true event column index column type column name status column value is null false is key false is update true otter issue https github com alibaba otter issues
71,增加 功能 之前 支持 部分 用户 期望 关乎 对应 数据 这里 加上 控制 允许 忽略 事件 filter query ddl filter query dcl filter query dml row filter query ddl ddl
70,类型 支持 测试 表 构造 数据 输出 结果 mysql bit pre create table test bit all id unsigned not null auto increment bit bit bit bit bit bit bit bit bit bit bit bit bit bit bit bit bit bit primary key id engine inno db charset gbk pre insert into test bit all id bit bit bit bit bit bit bit bit bit values null event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true event column index column type column name bit column value is null false is key false is update true
69,登录 失败 环境 用户 密码 使用 正常 登录 认证 时 会 返回 需要 使用 进行 登录 验证 mysql pre caused by java io io exception connect failure java lang array index out of bounds exception at com alibaba otter canal parse driver mysql utils helper read unsigned little endian helper java at com alibaba otter canal parse driver mysql packets server error packet from bytes error packet java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound mysql mysql event parser pre dump mysql event parser java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java pre mysql version log mysql old passwords mysql update mysql user set password old password ottermysql where user ottermysql auth auth
68,监控 配置 文件 变化 时 考虑 文件 输出 测试 过程 中 移 除了 配置 发现 通道 并未 停止 而是 继续 运行 检查 目录 发现 重新 生成 目录 目录 存在 文件 导致 自动 停止 失败 解决 忽略 空的 文件 必须 包含 才算 正常 否则 需要 进行 关闭 canal meta dat instance conf meta dat instance instance properties
67,增加 事件 支持 需求 目前 心跳 信息 模块 中间 进行 传输 目前 暂 需求 所以 暂 输出 中 直 接在 中 消费 过滤 canal heartbeat otter https github com alibaba otter issues parser sink store store sink
66,类型 处理 针对 同步 类型 里 记录 导致 后续 处理 时 按照 字符串 进行 处理 出现 错误 mysql binary otter issue https github com alibaba otter issues binary binlog string
65,纯 数字 时 会 包 语法 错误 导致 获取 表 结构 异常 需要 对 做 一下 转义 符 schema desc table pre mysql desc pre common addon error you have an error in your sql syntax check the manual that corresponds to your my sql server version the right syntax to use near pre common addon at line pre schema table name
64,异常 处理 集群 所有 节点 全 挂 对应 需要 处理 异常 重试 次 如果 建立 链接 增加 异常 反馈 应该 只是 记录 日志 canal client example canal server canal client example no alive canal server cluster canal connector connect retry times
63,使用 版本 出现 使用 版本 出现 版本 修改 方法 然后 版本 修复 方法 兼容 问题 zk client no such method error zkclient https f cloud github com assets adb ffce ed e d e c d jpg zk client no such method error zkclient https github com sgroschupf zkclient commit e d fd d b e d fe d b zkclinet https github com sgroschupf zkclient commit f d fe b f f a aa f c a c b
62,语句 解析 异常 针对 如下 语句 批次 柜台 科目 号 总金额 总成本 总来款 开始 日期 结束 日期 创建 时间 更新 时间 长短 款 金额 长短 款 类型 长 款 短款 交易 长短 款 通过 无法 解析 正确 导致 解析 出错 主要 原因 通过 正则 进行 表名 提取 比如 会 处理 情况 如果 对应 整个 中 号 会 导致 匹配 出错 ddl ddl pre create table cm settle incash batch id bigint not null auto increment comment counter acct code bigint null comment channel sum amount decimal not null comment channel sum cost decimal not null comment bank sum amount decimal not null comment begin date date null comment end date date null comment create time timestamp not null current timestamp comment update time timestamp not null current timestamp comment cdk amount decimal comment cdk type tinyint null comment deal id bigint null comment id cdk deal id bigint null comment id primary key batch id engine inno db auto increment charset utf pre simple ddl parser schema table name simple ddl parser schema table ddl schema
61,支持 同步 需求 同步 无法 支持 幂等 性 处理 需要 尽可能 保证 相互 独立 尽可能 单条 进行 串行 执行 不考虑 解决 增加 参数 代表 是否 孤立 返回 单条 语句 canal otter ddl otter issue https github com alibaba otter issues ddl ddl dml ddl batch canal server canal instance get ddl isolation ddl
60,出现 类似 异常 登录 数据库 库 执行 语句 跨库 建 表 导致 解析 异常 simple ddl parser process query failed pre pid nid exception canal com alibaba otter canal parse exception canal parse exception com alibaba otter canal parse exception canal parse exception simple ddl parser process query failed pls submit issue with query string create table bak j order log back like j order log caused by com alibaba otter canal parse exception canal parse exception simple ddl parser process query failed pls submit issue with query string create table bak j order log back like j order log pre bak ddl
59,高 可用 连接 数 问题 连接 两 数据库 默认 数据库 数据库 数据库 挂掉 时候 数据库 连接 数 暴增 导致 连接 拒绝 是否 开启 心跳 对应 版本 多少 暂时 关闭 问题 怀疑 早期 版本 心跳 导致 出现 执行 心跳 链接 释放 修复 canal server client server a standby b a canal b sql canal canal sql bug sql
58,不能按 特定 规则 指定 订阅 比如 订阅 对于 而言 数据 都 会 订阅 ddl dml pop ddl
57,特殊 数据 类型 解析 特殊 数据 类型 默认值 类型 默认值 版本 目前 测试 插入 数据 实际 输出 测试 过程 中 例子 实际 测试 输出 可以 看一下 时间 类型 year date canal id datetime values timestamp values date values time values year values year values id datetime values timestamp values date values time values year values year values it s fixed mysql http dev mysql com doc refman en date and time types html
56,开启 遇到 解析 异常 会 出现 链接 暴 涨 开启 遇到 解析 异常 会 出现 链接 暴涨 用户 使用 解析 版本 时 解析 时 出现 如下 异常 运行 段 时间 链接 逐步 持续 增长 最终 超过 最大 连接 数 问题 原因 分析 总共 链接 链接 中 都会 关闭 解析 异常 时 会 触发 调用 查询 链接 中 都会 关闭 执行 链接 中 都会 关闭 所以 刚好 遇上 解析 异常 时 重复 触发 调用 没有 中 关闭 链接 导致 重复 创建 原本 设计 思路 时 启动 次 出现 时 才 会 进行 重新 链接 过程 需要 避免 重复 调用 触发 创建 多 次 链接 问题 canal server heartbeat mysql canal server heartbeat mysql canal mysql pre caused by com alibaba otter canal parse exception canal parse exception parse row data failed caused by java lang illegal argument exception unknown blob packlen at com taobao tddl dbsync binlog event rows log buffer fetch value rows log buffer java at com taobao tddl dbsync binlog event rows log buffer next value rows log buffer java at com alibaba otter canal parse inbound mysql dbsync log event convert parse one row log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse rows event log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound mysql dbsync log event convert parse log event convert java at com alibaba otter canal parse inbound event parser parse and profiling necessary event parser java at com alibaba otter canal parse inbound event parser sink event parser java at com alibaba otter canal parse inbound mysql mysql connection dump mysql connection java at com alibaba otter canal parse inbound event parser run event parser java pre mysql mysql event parser socket mysql binlog dump start stop start pre dump after dump table meta pre dump after dump stop heartbeat pre dump stop pre dump after dump heartbeat after dump heartbeat pref dump heartbeat
55,用时 出现 用户 反馈 种 方式 里面 只有 地址 时候 如果 这个 宕机 重 连 速度 非常 快 大致 客户端 代码 会 环境 明显 client server cpu linux cluster canal connector cpu true client connect client get without ack client ack windows cpu linux
54,缺少 讯息 当做 程序 事物 日志 时候 缺少 前后台 关联性 需要 加入 本身 有的 希望 能够 下个 版本 里 加入 thred id binlog thredid
53,能 能 增加 方面 手册 能 能 增加 手册 或者 详细 文档 谢谢 看一下 应该 想要 内容 地址 mysql oracle wiki wiki https github com alibaba canal wiki
52,支持 超时 控制 接口 调用 解决 新增 方法 canal client get without timeout rt canal connector message get without ack batch size timeout time unit unit message get batch size timeout time unit unit
51,地址 配置 出错 增加 异常 描述 信息 解决 识别 出 异常 配置 抛 异常 时 记录 原始 配置 信息 mysql caused by org springframework beans factory bean creation exception error creatng bean with name com alibaba otter canal parse support authentication info f ea a defined in path resource spring file instance xml initialization of bean failed nested exception is java lang array index out of bounds exception at org springframework beans factory support autowire capable bea factory create bean autowire capable bean factory java spring jar at org springframework beans factory support autowire capable bea factory run autowire capable bean factory java spring jar at java security access controller privileged method na runtime exception address text is illegal eg
50,中 输出 表名 全 小写 版本 之前 解析 全部 转化 为了 小写 解决 需要 保留 中 记录 内容 做 大小写 转化 需要 中 设置 保证 大小写 铭感 不然 针对 存储 表名 全 小写 canal canal schema tablename binlog my cnf lower table names mysql mysql
49,启动 失败 目录 修改 配置 一直 生效 打包 时候 将 打入 到了 中 一些 特定 环境 会 优先 加载 包 中 配置 文件 从而 导致 打包 目录 配置 一直 未 生效 就是说 中 都 解决 办法 打包 时 去除 目录 canal server windows conf canal deployer conf jar classloader jar conf conf canal deployer xxxx jar canal properties instance properties canal deployer xxx jar conf fixed issue b
48,主备 切换 采用 虚 切换 机制 采用 虚 进行 主备 管理 时 暴露 只有 目前 识别 主备 切换 根据 对应 信息 中 地址 发生 不一致 时 进行 次 切换 操作 基于 时间戳 重新 定位 所以 使用 虚 后端 发生 主备 切换 前端 无法 感知 一直 会 出现 对应 存在 错误 一直 重试 从而 导致 整个 解决 出现 存在 错误 时 尝试 按照 时间戳 重新 定位 什么 情况 会 出现 存在 虚 主备 切换 解析 延迟 过久 对应 已经 删除 针对 情况 需要 避免 解决 办法 按照 时间戳 进行 重新 定位 时 如果 当前 所有 时间戳 都 晚于 查找 时间戳 应该 挂起 能 直接 使用 第一 进行 解析 处理 存在 错误 类型 比较 多 存在 存在 错误 指令 存在 存在 错误 情况 暂时 没 能 全面 枚举 暂时 一下 mysql ip canal failover ip mysql ip canal ip meta ip binlog ip binlog canal binlog binlog binlog ip mysql canal binlog binlog binlog binlog binlog binlog mysql show binlog events in mysql bin from limit error hy error when executing command show binlog events could not find target log binlog offest mysql show binlog events in mysql bin from limit error hy error when executing command show binlog events wrong offset or i o error binlog dump binlog received error packet errno sqlstate hy errmsg client requested master to start replication from position file size the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at binlog offest received error packet errno sqlstate hy errmsg binlog truncated in the middle of event consider out of disk space on master the first event mysql bin at the last event read from mysql bin at the last read from mysql bin at hold issue
47,启动 时 针对 配置 空时 默认 监听 地址 导致 多 地址 访问 启动 时 针对 配置 空时 默认 监听 地址 导致 多 地址 访问 解决 如果 配置 地址 空时 默认 监听 指定 绑定 接收 任何 机器 任何 过来 请求 同时 会 通过 选择 暴露 中 客户端 进行 访问 canal server canal ip address utils get host ip ip canal server canal ip address utils get host ip ip ip socket canal port ip ip address utils get host ip ip zk
46,lll
45,合并 原作者 更新
44,关注 表 条件 变更 对应 生效 时间 问题 目前 关注 表 正则 可以 通过 两 种 方式 进行 设置 中 可以 设置 第一 次 启动 时候 直接 载入 使用 某个 进行 可以 提交 如果 方式 中 提交 目前 策略 直接 覆盖 方式 中 条件 如果 选择 持久化 即使 下次 重启 对应 关注 表 条件 会 方式 提交 数据 生效 时间 问题 方式 修改 需要 重启 如果 开启 自动 会 重 启 重启会 回退 一部分 比如 客户端 未 数据 或者 消费 一半 事务 还有 就是 未及时 刷出 内存 位点 数据 持久化 介质 所以 对应 生效 时间 会 对 之前 部分 数据 进行 作用 方式 关闭 修改 订阅 条件 会 同步 即时 生效 调用 成功 直接 替换 中 老 版本 conf instance properties table regex client subscribe filter filter filter canal server file zookeeper meta server instance properties instance scan instance binlog ack client subscribe canal server filter
43,重启 会 丢失 提交 条件 配置 覆盖 重启 没有 重新 读取 次 客户端 提交 记录 导致 启动 时 重新 载入 条件 丢弃 解决 重新 启动 时 优先 读取 次 中 记录 信息 canal client filter instance properties filter canal server subscribe filter instance properties client filter canal instance meta manager client filter
42,自动 重连 时会 出现 信息 问题 说明 启动 时 先 暴露 端口 启动 对应 需要 启动 因为 启动 需要 一点 时间 所以 一定 概率 会 撞上 未 启动 完成 canal destination idbbond should start first pre title code main info c alibaba otter canal client impl cluster canal connector restart the connector next round retry main warn c alibaba otter canal client impl cluster canal connector something goes wrong when get without ack data from server com alibaba otter canal protocol exception canal client exception something goes wrong with reason something goes wrong with channel id x e exception com alibaba otter canal server exception canal server exception destination idbbond should start first at com alibaba otter canal client impl simple canal connector get without ack simple canal connector java at com alibaba otter canal client impl cluster canal connector get without ack cluster canal connector java at simple canal client example main simple canal client example java pre canal server instance instance instance
41,新增 两 种 事件 需要 注意 新 时间 类型 基于 数字 进行 压缩 存储 而且 采用 模式 其他 对象 解析 有所 不同 mysql type mysql type timestamp mysql type datetime big endian binlog
39,模式 无法 自动 切换 主 ha mysql master standby canal canal config detecing config canal instance detecting enable true canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable true example log destination example address event parser warn c alibaba otter canal parse driver mysql mysql connector connect failed java net connect exception connection refused at sun nio ch net connect method at sun nio ch socket channel impl connect socket channel impl java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse inbound mysql mysql connection connect mysql connection java at com alibaba otter canal parse inbound event parser run event parser java at java lang thread run thread java canal detecing config canal instance detecting enable true canal instance detecting sql insert into retl xdual values now on duplicate key update x now canal instance detecting interval time canal instance detecting retry threshold canal instance detecting heartbeat ha enable true
38,定时 扫描 需要 忽略 文件 默认 配置 中 选择 机制 会 将 相关 数据 定时 刷新 文件 文件 存储 默认 配置 文件 一起 比如 所以 定时 扫描 时候 就 会 发现 文件 有所 变化 导致 需要 进行 次 解决 扫描 时 忽略 文件 变更 scan canal meta paser dat canal file intance xml instance conf example meta dat scan instance reload scan dat
37,语句 能 及时 输出 语句 会 中 缓存 中 只有 下一次 出现 消息 时 才 会 输出 中 才 见 解决 语句 协议 中 前 会 事件 需要 特殊 处理 进入 立马 中 影响 版本 ddl ddl transaction buffer transaction begin end store client ddl binlog begin commit transaction buffer flush store
36,中 直接 启动 直接 运行 会 启动 失败 对应 依赖 无法 找到 原因 启动 时 为了 简化 路径 依赖 都 使用 相对 路径 或者 进行 描述 资源 依赖 所以 基于 启动 导致 查找 资源 失败 解决 将 目录 配置 加入 中 直接 运行 默认 会 找到 工程 中 资源 文件 比如 里面 依赖 路径 这里 面 依赖 路径 直接 运行 对应 输出 工程 根目录 目录 eclipse canal server eclipse canal lanuncher canal properties spring xxx instance xml canal server classpath eclipse conf eclipse classpath eclipse canal launcher deployer src main resources logback xml canal properties spring xxxx instance xml classpath spring xxxx instance xml xxxx instance properties classpath logs canal logs logs
35,支持 模式 解析 输出 模式 三 种 模式 主要 区别 在于 记录 是否 采取 方式 还是 详细 记录 变更 期望 可以 支持 非 模式 数据 解析 解析 对应 非 模式 会 提供 信息 binlog format statement mixed binlog format statement row mixed insert update delete sql canal row sql row before after columns
34,新增 基于 记录 位点 信息 依赖 持久化 状态 计划 支持 非 模式 可以 持久化 功能 关闭 次 启动 时 能 继续 次 位置 进行 消费 数据 会 丢失 数据 注意 基于 持久化 模式 存在 问题 就是 无法 实现 集群 功能 因为 属于 本机 切换 机器 无法 找到 会 造成 无法 找到 次 解析 位置 canal file zookeeper canal server zookeeper canal server file failover file failover file
33,新建 太 长 目前 没有 纳入 管理 可以 将 移入 方便 学习 example module name canal driver module otter project version name modulename example module canal trunk
32,基于 地址 断开 次 立马 重新 启动 偶儿 会 出现 异常 问题 描述 基于 地址 获取 工作 节点 第一 次 起来 工作 非正常 退出 比如 然后 立马 重新 启动 会 出现 异常 原因 分析 第一 次 启动 会 记录 节点 非正常 退出 节点 会 立马 小时 次 立马 启动 发现 节点 存在 并不 会 立马 创建 执行 后面 数据 操作 时 发现 就 出现 问题 影响 版本 解决 方案 发现 节点 存在 并不 会 立马 创建 同时 阻塞 后续 数据 操作 直 建立 client zookeeper npe client zookeeper canal server client kill client null point exception client zookeeper client running running client running socket get socket null npe running socket get socket
31,类型 输出 使用 替换 问题 类型 版本 中 使用 对象 标示 无法 准确 表示 年份 信息 原本 年份 输出 结果 会 解决 直接 使用 数字 存储 表示 输出 结果 mysql year binlog date mysql year canal java sql date cal null cal calendar get instance cal clear cal set calendar year i value java sql date cal get time in millis protobuf
30,启动 脚本 报错 问题 能 正常 工作 解决 mac startup sh bin abs path readlink f dirname mac readlink f uname in linux bin abs path readlink f dirname bin abs path cd dirname pwd
29,解析 操作 出现 异常 导致 整个 解析 挂起 问题 描述 启动 执行 操作 比如 表 操作 特定 触发 表名 解析 错误 解析 发现 信息 当前 中 数据 不一致 抛出 异常 进行 重试 存在 问题 就是 第三 步 出现 异常 没有 更新 对应 数据 导致 次 解析 时 一直 使用 次 错误 导致 一直 出错 一直 重试 canal ddl canal server client ddl create alter delete create ddl canal binlog binlog column tablemeta cache cache tablemeta
28,模式 集群 列表 数据 更新 问题 下面 都 会 目录 代表 服务 这个 机器 列表 版本 列表 会 节点 抢占 成功 才 会 生成 节点 原本 定位 想 矛盾 解决 启动 对应 时 不管 没 抢占 节点 都 应该 创建 节点 表明 自己 可以 如果 此时 发生 节点 删除 客户端 就 可以 列表 中 找到 节点 进行 链接 方式 促使 进行 启动 当然 节点 删除 台 机器 自己 能 感应 启动 canal ha cluster instance cluster instance canal server pre zk localhost connected ls otter canal destinations example cluster pre cluster running running cluseter canal server instance running cluster work instance running cluster lazy ps running canal server instance
27,节点 判断 是否 本机 操作 优化 节点 目前 台 机器 判断 当前 是否 工作 节点 通过 是否 本机 相同 判断 目前 信息 启动 没有 严格 校验 是否 重复 导致 两 台 机器 都 认为 自己 本机 对于 后续 命令 控制 操作 风险 解决 将 判断 是否 本机 操作 修改 基于 是否 相同 判断 可以 唯一 定义 canal server running canal server zookeeper pre java name code zk localhost connected get otter canal destinations example running active true address cid pre cid id cid canal server address ip port jvm
26,集群 模式 客户端 断开 连接 节点 自动 删除 问题 集群 模式 客户端 断开 连接 节点 自动 删除 并且 查看 任何 异常 信息 输出 请 问这 目前 还是说 配置 问题 期望 客户端 断开 链接 节点 依然 存在 下次 客户端 连接 上来 可以 继续 使用 之前 信息 包括 信息 貌似 看到 类似 问题 解决 现在 版本 可以 看一下 这个 主要 版本 只有 客户端 链接 而且 这个 客户端 链接 断开 时 会 自动 停止 次 客户端 启动 时 会 自动 所有 机器 列表 中 随机 选择 台 重新 建立 链接 这时 会 重新 启动 目前 是否 关闭 版本 会 做成 配置 模式 允许 用户 定义 目前 还未 正式 发布 清明 过后 会 中 新增 参数 代表 客户端 断开 时 主动 关闭 锁 期望 保留 节点 点 要 说明 选择 集群 模式 配置 启动 会 定时 记录 信息 中 默认 刷新 频率 见 参数 默认 秒 所以 次 重新 链接 时 重新 启动 会 继续 最后 次 提交 中 位置 进行 启动 会 一定 重复 数据 目前 知 会 问题 导致 重新 链接 时 会 出现 启动 失败 所以 目前 使用 集群 部署 发生 切换 或者 客户端 主动 断开 链接 会 导致 环境 如果 想 使用 集群 部署 还是 等 一下 版本 问题 进群 讨论 首页 群号 信息 或者 继续 留言 多谢 instance zookeeper running instance zookeeper running canal log bug zookeeper running cursor ps issue https github com alibaba canal issues canal instance instance cluster instance canal ps release canal properties as far as possible to stop canal instance where client disconnect canal stop instance as possible true false false instance running zookeeper canal server cursor zookeeper canal zookeeper flush period instance zookeeper cursor canal bug npe canal instance instance canal wiki issue
25,脚本 启动 失败 出错 提示 内部 外部 命令 运行 程序 批 处理 文件 内部 外部 命令 运行 程序 批 处理 文件 内部 外部 命令 运行 程序 批 处理 文件 环境 测试 通过 环境 系统 版本 windows bat conf dir canal conf logback configuration file listening transport dt socket at address exception in thread main java lang no def found error com alibaba otter can al deployer canal launcher caused by java lang not found exception com alibaba otter canal deployer ca nal launcher at java net url loader run url loader java at java security access controller privileged method at java net url loader find url loader java at java lang loader load loader java at sun misc launcher app loader load launcher java at java lang loader load loader java could not find the main com alibaba otter canal deployer canal launcher program will exit windows windows xp java java version java tm se runtime environment build b java hot spot tm client vm build b mixed mode sharing
24,建立 链接 时 出现 异常 异常 栈 对应 代码 找 环境 测试 未 重现 问题 暂时 windows mysql unexpected blocking io behavior code main warn c a o c p d mysql mysql connector connect failed java io io exception unexpected blocking io behavior at com alibaba otter canal parse driver mysql utils packet manager write packet manager java at com alibaba otter canal parse driver mysql mysql connector negotiate mysql connector java at com alibaba otter canal parse driver mysql mysql connector connect mysql connector java at com alibaba otter canal parse driver mysql mysql connector test test query mysql connector test java code code write socket channel ch buffer srcs io exception total buffer buffer srcs total buffer remaining system out println total size ch write srcs size total io exception unexpected blocking io behavior code windows close
23,第一 次 建立 连接 时 如果 所有 都 配置 模式 启动 失败 启动 时 需要 做 如果 当前 已经 直接 选择 节点 进行 链接 如果 没有 节点 节点 中 随机 选择 节点 进行 链接 就是 遇到 这个 问题 想 知道 删除 节点 删除 节点 代码 方法 发现 断开 时 尝试 关闭 对应 方式 会 删除 节点 canal client canal server lazy client client check instance running canal server running instance cluster running running https github com alibaba canal blob master server src main java com alibaba otter canal server netty handler session handler java stop canal instance necessary client instance https github com alibaba canal blob master common src main java com alibaba otter canal common zookeeper running server running monitor java stop running
22,处理 客户端 主动 关闭 连接 时 是否 需要 关闭 版本 以及 以前 版本 设计 时候 针对 管理 一直 都 模式 处理 断开 链接 时 会 主动 关闭 等 次 链接 重新 创建 先前 考虑 主动 关闭 主要 考虑 想 将 作成 状态 次 可以 随机 选择 台 机器 获取 数据 新 会 重新 启动 整个 模型 会 比较 简单 改进 退出 时 主动 关闭 资源 次 重新 链接 需要 通过 模式 通过 获取 模式 中 正在 运行 机器 信息 然后 与其 重新 建立 链接 前提 客户端 间隔 时间 会 长 尽可能 减少 资源 消耗 canal server instance canal canal server instance lazy canal client canal server instance canal client canal server instance canal server canal client canal server instance ha canal server client instance canal client cluster zookeeper ha canal server disconnect connect
21,支持 按 内存 大小 定义 版本 支持 通过 定义 控制 内存 使用 遇到 大 文本 字段 时 单纯 按照 记录 数 控制 就 容易 爆 内存 所以 需要 支持 基于 内存大小 管理 同时 支持 按 内存 大小 获取 数据 方便 进行 内存 控制 canal memory store canal v memory event store with buffer buffer size event store client memory event store with buffer set buffer mem size
20,支持 吗 支持 吗 目前 暂 支持 主要 协议 出现 不兼容 处理 修改 事件 类型 需要 升级 版本 解决 计划 支持 协议 目前 版本 暂 定为 周一 周期 感谢 回复 等待 您们 新 版本 找 半 天 没有 找到 格式 文档 知道 哪里 吗 这个 链接 列出 里面 内容 应该 版本 以下 已经 支持 记录 协议 变化 文档 mysql mysql mysql mysql log event type canal v mysql canal release agapple binlog http dev mysql com doc internals en binary log html http dev mysql com doc refman en binary log html commit https github com alibaba canal commit a f d d ac e e mysql https github com alibaba canal wiki binlog change mysql
19,链接 泄漏 运行 段 时间 之间 数据库 链接 达到 几千 条 全部 都 处于 状态 进行 内存 对象 无法 找到 相关 实例 说明 回收 mysql meta connection mysql established jmap dump socket channel impl full gc
18,中文 字符 出现 乱码 中 字段 类型 时 数据库 编码 表 编码 均 配置 解析 编码 解析 出来 数据 记录 乱码 原因 分析 中将 类型 都 记录 识别 信息 无法 区分 还是 都 按照 进行 编码 导致 问题 产生 解决 拿到 针对 类型 需要 反查 信息 获取 真实 字段 类型 区分 出 然后 按照 编码 进行 解析 mysql text mysql table text utf canal utf mysql binlog text blob log event mysql type blob canal blob text blob iso binlog blob table meta text
17,类型 处理 字符 问题 线上 测试 遇到 问题 业务 执行 插入 条 记录 其中 字段 中 美 同步 更新 条 记录 将 字段 更新 除了 次 解析 时 发现 值 相同 没有 任何 字段 发生 变更 导致 同步 执行 失败 原因 分析 解析 等价 自动 忽略 请求 代码 说明 风格 字符串 结束符 至于 业务 执行 怎么 插入 目前 暂 未知 原因 mysql varchar a sql b otter c canal before after otter sql dbsync found end buf found found c style
16,字段 变更 信息 丢失 中 处理 时 信息 不正确 所有 都 正确 应该 根据 字 进行 判断 所有 都为 正确 应该 类型 对 应于 针对 字段 没有 添加 变更 字段 列表 column log event convert column is update true before after sql type java sql types is null before after
15,修改 里 修改 里 常量 对应 canal properties canal address canal ip canal properties canal address canal ip com alibaba otter canal deployer canal constants canal ip
14,里 配制 选项 是否 轻微 错误 工程 里 里 是否 应该 改为 因为 这个 类 里 如下 定义 眼神 真 敏锐 啊 确实 这样 代码 中 这样 逻辑 所以 一直 没有 发现 要 改下 然后 做 次 多谢 cannal properties deployer canal properties canal address canal ip canal constants string canal ip root ip java ip get property properties canal constants canal ip string utils is empty ip ip address utils get host ip wenzhihong pull request
13,支持 模式 支持 多 数据 合并 输出 进行 消费 典型 业务 数据 按 水平 拆分 个库 合并 逻辑 进行 消费 客户端 不用 关心 后续 个库 链接 情况 需要 考虑 强 一致 内 所有 都 正常 工作 才 运行 客户端 消费 数据 弱 一致 内 只要 正常 工作 就 允许 客户端 消费 数据 目前 解决 支持 强 一致 要求 所有 都 正常 工作 才 允许 客户端 消费 数据 针对 弱 一致性 建议 使用 多 通道 部署 方式 解决 mysql instance group mysql parse store canal destination group parse group parse parse
12,版本 代码 提交 版本 代码 提交
11,获取 时 针对 表 不存在 出现 阻塞 处理 返回 数据包 没有 考虑 异常 情况 mysql driver table meta mysql driver fixed at v
10,特定 操作 删除 字段 等 导致 解析 挂起 目前 知会 导致 挂起 操作 字段 删除 导致 时 找 对应 信息 无法 补 全 信息 会 导致 信息 错乱 操作 首先 删除 字段 然后 新 加 字段 非 添加 末尾 原因 中 没有 包含 对应 信息 只是 按照 当前 中 顺序 列出 字段 类型 回退 操作 前 重新 开始 解析 此时 数据库 中 获取 信息 就 会 中 不一致 无法 进行 操作 会 导致 信息 混乱 避免 操作 业务 操作 避免 带 删除 性质 比如 字段 删除 业务 操作 避免 添加 字段 时 调整 顺序 能 添加 末尾 如果 真 避免 出现 出现 上述 操作 中 情况 只要 回退 解析 位置 就 可以 正常 往下 解析 会 出现 数据 错乱 不过 需要 考虑 解析 延迟 比较 大 此时 进行 带 删除 性质 操作 待 解析 中 存在 对应 表 数据 还是 会 出现 问题 尽可能 选择 合适 时间 进行 操作 需要 使用 避免 最好 能 加入 种 操作 方式 能 再次 重新 正常 解析 完整 步骤 如果 遇到 带 删除 性质 操作 正常 的话 只要 保证 时 不要 重启 问题 大 如果 真 遇上 能 重置 位点 重置 位点 方法 删除 节点 信息 修改 配置 新 起始 位点 重启 启动 然后 启动 重置 位点 可能 会 导致 段 时间 数据 丢失 能 通过 人肉 方式 补 这个 数据 解 析出 去掉 一些 操作 信息 然后 构造 现在 考虑 问题 是否 可以 考虑 引入 模式 如果 非 模式 针对 这些 问题 数据 直接 忽略 记录 日志 方式 解决 出 问题 时候 手工 切换 非 尽可能 少 跳过 数据 避免 大量 数据 丢失 mysql ddl rename table ddl rename table desc table meta entry ddl mysql binlog tablemap log event column name table column ddl binlog desc table table map match ddl rename table drop table canal canal ddl binlog ddl ddl bug canal ddl client server zookeeper cursor instance properties server client binlog ddl sql strict strict ddl strict
9,新增 新增 指导 用户 如何 开发 组件 主要 介绍 类 结构 模型 哪里 完成 canal dev guide dev guide canal canal devguide dev guide https github com alibaba canal wiki dev guide
8,新增 需要 新增 指导 用户 如何 正确 配置 相关 参数 以及 运维 基本 操作 canal admin guide admin guide canal https github com alibaba canal wiki admin guide
7,是否 主键 信息 判断 错误 数据 中 数据 返回 错误 全部 返回 table meta entry is key true
6,解析 增加 用例 增加 用例 引导 别人 使用 dbsync binlog testcase testcase
5,抽取 协议 包为 独立 工程 方便 重用 介绍 模拟 登录 语句 进行 通讯 新增 提供 修改 原先 包 依赖 重构 使用 新 mysql packet mysql packet mysql select update mysql fix issue driver project mysql connector mysql query exector mysql update exector parse mysql connection mysql connector
3,编码 参数 去除 根据 设置 编码 即可 版本 中 设定 编码 需要 同时 设置 主要 进行 时 指定 返回 编码 指定 客户端 解析 编码 mysql charset number connection charset v charset number connection charset charset number mysql handshark character set results connection charset
2,增加 自动 扫描 机制 扫描 目录 子目录 排除 以外 将 目录名 做为 自动 加载 默认 读取 instance conf spring instance destination instance global lazy
1,修复 配置 可以 正常 启动 关闭 memory instance xml zkserver fixed at version
